module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=938)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}n.d(t,"a",function(){return r})},1:function(e,t,n){e.exports=n(12)(64)},10:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(2),a=n(1),s=n(9),l=n(17),u=a.default.getLogger("Thunder.Util"),c="Thunder Network\\Thunder7.9\\";function d(e){let t=e;return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?t=e.substring(1,e.length-1):0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1&&(t=e.substring(1,e.length-1)),t}!function(e){function t(){let e=l.ThunderHelper.getSystemTempPath(),t=l.ThunderHelper.getLogicalDriveStrings(),n=0;for(let r=0;r<t.length;r++){let i=l.ThunderHelper.getDriveInfo(t[r]);3===i.type&&n<i.freeBytes&&t[r]!==e&&(n=i.freeBytes,e=t[r])}return e.substring(0,1)+":\\迅雷下载"}e.formatSize=function(e,t){t=t||2;let n="0B";if("number"==typeof e&&e>0){let r=["B","KB","MB","GB","TB"],i=0,o=e;for(;o>=1e3&&!(i>=4);)o/=1024,i+=1;n=-1===String(o).indexOf(".")?o+r[i]:o.toFixed(t)+r[i]}return n},e.isDigital=function(e){let t=!1;return/^\d+$/.test(e)&&(t=!0),t},e.isAlpha=function(e){let t=!1;return/[A-Za-z]/.test(e)&&(t=!0),t},e.isUpperCase=function(e){let t=!1;return/[A-Z]/.test(e)&&(t=!0),t},e.isLowerCase=function(e){let t=!1;return/[a-z]/.test(e)&&(t=!0),t},e.isChinese=function(e){let t=!1;return/[\u4E00-\u9FA5]/.test(e)&&(t=!0),t},e.replaceNonDigital=function(e){return e.replace(/[^\d]/g,"")},e.replaceNonAlpha=function(e){return e.replace(/[^A-Za-z]/g,"")},e.replaceNonWord=function(e){return e.replace(/[^\W]/g,"")},e.getDefaultDownloadDir=t,e.getMaxFreeDriver=function(){return t().substring(0,1)},e.deepCopy=function(e){let t=JSON.stringify(e),n=null;try{n=JSON.parse(t)}catch(e){u.warning(e)}return n},e.swap=function(e,t,n){do{if(t<0||t>=e.length)break;if(n<0||n>=e.length)break;if(t===n)break;e[t]=e.splice(n,1,e[t])[0]}while(0);return e},e.compareNocase=function(e,t){let n=!1;do{if(void 0===e&&void 0===t){n=!0;break}if(void 0===e||void 0===t)break;if("string"!=typeof e||"string"!=typeof t)break;n=e.toLowerCase()===t.toLowerCase()}while(0);return n},e.parseCommandLine=function(e){let t=0,n="",r=!1,i=[],o=e.length;for(let a=0;a<o;a++){let s=e[a];if('"'!==s&&"'"!==s||(""===n?(r=!0,n=s):n===s&&(r=!1,n=""))," "!==s||r||a===o-1){if(a===o-1){let n=e.substring(t);""!==n.trim()&&i.push(d(n))}}else{let n=e.substring(t,a);""!==n.trim()&&i.push(d(n)),t=a+1}}return i},e.getThunderTempPath=function(e,t){return r(this,void 0,void 0,function*(){const r=yield Promise.resolve().then(()=>n(16));let i=o.join(r.tmpdir(),c);return t&&(i=o.join(i,t)),void 0!==e&&e&&(yield s.FileSystemAWNS.mkdirsAW(i)),i})},e.setQueryString=function(e,t){return Object.keys(t).forEach((n,r)=>{e+=0===r?"?":"&",e+=`${n}=${t[n]}`}),e},e.getQueryString=function(e,t){return e&&t&&e.match(new RegExp(`(^${t}|[?|&]${t})=([^&#]+)`))?RegExp.$2:""},e.isClipboardTextFormatAvailable=function(){let e=!1,t=i.clipboard.availableFormats();for(let n of t)if("text/plain"===n){e=!0;break}return e},e.keywordsHighLight=function(e,t,n){if(!e)return"";if(!t)return e;if(0===e.length)return e;if(0===t.length)return e;let r=/\\/,i=t.split(" ");if(0===(i=i.filter(e=>e.trim().length>0)).length)return e;for(let t=0;t<i.length;t++)if(i[t].search(r)>0)return e;n=void 0===n||null===n?"#FF0000":n;let o="",a=["\\[","\\^","\\*","\\(","\\)","\\|","\\?","\\$","\\.","\\+"],s="",l="|";for(let e=0;e<i.length;e++){for(let t=0;t<a.length;t++){let n=new RegExp(a[t],"g");i[e]=i[e].replace(n,a[t])}e===i.length-1&&(l=""),s=s.concat(i[e],l)}let u=new RegExp(s,"gi");return o=e.replace(u,e=>'<span style= "color:'+n+'">'+e+"</span>")},e.isDef=function(e){return void 0!==e&&null!==e},e.isUndef=function(e){return void 0===e||null===e},e.setStyle=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style[t]=n})},e.setCSSProperties=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style.setProperty(t,n)})},e.versionCompare=function(e,t){let n=e.split("."),r=t.split("."),i=0;for(let e=0;e<n.length;e++){if(Number(n[e])-Number(r[e])>0){i=1;break}if(Number(n[e])-Number(r[e])<0){i=-1;break}}return i},e.throttle=function(e,t){let n,r=0;return(...i)=>{const o=Date.now();clearTimeout(n),o-r>t?(e(...i),r=o):n=setTimeout(()=>{e(...i),r=o},t)}}}(t.ThunderUtil||(t.ThunderUtil={}))},100:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4);let s=class extends a.Vue{onMenusChanged(){this.appendContent()}appendContent(){this.dropdown||(this.dropdown=new o.remote.DropdownWindow),this.dropdown.clear(),this.menus.forEach(e=>{this.dropdown.append(new o.remote.DropdownWindowContent({label:e,click:()=>{this.$emit("input",e)}}))})}handleDropClick(){return i(this,void 0,void 0,function*(){this.dropdown||this.appendContent();let e=this.$el.getBoundingClientRect();const{DropDownWindowSkinNS:t}=yield Promise.resolve().then(()=>n(96));let r=Math.round(((e.width>800?800:e.width)-100)/2);t.setStyle(this.dropdown,{windowPreference:{marginLeft:r,marginRight:0,fontHeight:-16,cornerRadius:3,stringWidth:Math.round(e.width)-39-r}}),this.dropdown.popup({window:o.remote.getCurrentWindow(),x:Math.round(e.left),y:Math.round(e.top+e.height+4)})})}};r([a.Prop()],s.prototype,"menus",void 0),r([a.Watch("menus")],s.prototype,"onMenusChanged",null),s=r([a.Component],s),t.default=s},101:function(e,t,n){"use strict";n.r(t);var r=n(102),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},102:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(10);let a=class extends i.Vue{constructor(){super(...arguments),this.tipsText="",this.isShowTips=!1}handleDocClick(){this.tipsText="",this.isShowTips=!1}mounted(){document.addEventListener("mousedown",this.handleDocClick)}destroyed(){document.removeEventListener("mousedown",this.handleDocClick)}handleInputChange(e){let t=!0;do{if(this.isAlpha){if(e.length>1){this.tipsText="最大输入字符个数为1",this.isShowTips=!0,t=!1;break}if(!o.ThunderUtil.isAlpha(e)){this.tipsText="只能为字母",this.isShowTips=!0,t=!1;break}}else if(this.isNumber){if(!o.ThunderUtil.isDigital(e)){this.tipsText="输入值必须为数字",this.isShowTips=!0,t=!1;break}let n=Number(e);if(void 0!==this.min&&null!==this.min&&n<this.min){this.tipsText="输入值必须大于等于"+this.min,this.isShowTips=!0,t=!1;break}if(void 0!==this.max&&null!==this.max&&n>this.max){this.tipsText="输入值必须小于等于"+this.max,this.isShowTips=!0,t=!1;break}}}while(0);t?this.$emit("input",e):this.$emit("input",this.value,e)}};r([i.Prop({default:"top"})],a.prototype,"placement",void 0),r([i.Prop({})],a.prototype,"value",void 0),r([i.Prop({default:!1})],a.prototype,"isNumber",void 0),r([i.Prop({})],a.prototype,"max",void 0),r([i.Prop({})],a.prototype,"min",void 0),r([i.Prop({default:!1})],a.prototype,"isAlpha",void 0),a=r([i.Component],a),t.default=a},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(52),i=n(1).default.getLogger("Thunder.shub-http.http-session");t.HttpSession=class{constructor(){this.mRetries=0,this.mHost=void 0,this.mPort=80,this.mPath=void 0,this.mAuth=void 0,this.mAccept=void 0,this.mBody=null,this.mUrl=void 0,this.mTimeout=void 0,this.mCurRetries=0}set host(e){this.mHost=e}get host(){return this.mHost}set port(e){this.mPort=e}get port(){return this.mPort}set path(e){this.mPath=e}get path(){return this.mPath}set url(e){this.mUrl=e}get url(){return this.mUrl}set auth(e){this.mAuth=e}get auth(){return this.mAuth}set accept(e){this.mAccept=e}get accept(){return this.mAccept}set body(e){this.mBody=e}get body(){return this.mBody}set retries(e){this.mRetries=e}get retries(){return this.mRetries}set timeout(e){this.mTimeout=e}get timeout(){return this.mTimeout}post(e,t){let n=this.body;if(!n)return i.information("body is empty"),void t(null);let r=this.auth,o=this.accept,a={hostname:this.host,port:this.port,path:this.path||"/",method:"POST",auth:r||void 0,headers:{"Content-Length":n?n.length:0,Accept:o||"*/*"}};i.information("option",a),this.postImpl(n,a,e,n=>{this.mCurRetries<this.retries?(this.mCurRetries++,i.information("mCurRetries",this.mCurRetries),this.post(e,t)):t(n)})}get(e,t){let n=this.url;n||(n={hostname:this.host,port:this.port,path:this.path||"/",method:"GET"}),i.information("option",n),this.getImpl(n,e,n=>{this.mCurRetries<this.retries?(this.mCurRetries++,i.information("mCurRetries",this.mCurRetries),this.get(e,t)):t(n)})}postImpl(e,t,n,o){let a=r.request(t,e=>{let t=null;e.on("data",e=>{t=t?Buffer.concat([t,e]):e}),e.on("end",()=>{i.information("statusCode",e.statusCode),i.information("headers",e.headers),n({statusCode:e.statusCode,headers:e.headers,body:t})})});a.on("error",e=>{o(e)}),a.on("timeout",()=>{a.abort()}),this.timeout&&a.setTimeout(this.timeout),a.write(e),a.end()}getImpl(e,t,n){r.get(e,e=>{let n=null;e.on("data",e=>{n=n?Buffer.concat([n,e]):e}),e.on("end",()=>{i.information("statusCode",e.statusCode),i.information("headers",e.headers),t({statusCode:e.statusCode,headers:e.headers,body:n})})}).on("error",e=>{n(e)})}}},105:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(15),a=n(6),s=i.default.getLogger("Thunder.ShouldLogin");t.default=function(e=!1,t=!1){return r(this,void 0,void 0,function*(){let n;try{let r=yield o.default("IsLogined"),i=yield o.default("GetUserID");r?(s.information("is logined"),n=Promise.resolve(i)):(n=new Promise((n,r)=>{let i=-1;if(i=a.NativeCallModule.nativeCall.AttachNativeEvent("OnUserLogin",e=>{s.information("On UserLogin",e),n(e),-1!==i&&(a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",i),i=-1)}),!e){let e=a.NativeCallModule.nativeCall.AttachNativeEvent("OnLoginWndClose",r=>{do{if("close"===r){if(n(""),!t&&-1!==i){a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",i),i=-1;break}}else if("suc"===r&&-1!==i)break;t&&-1!==i&&(a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",i),i=-1)}while(0);a.NativeCallModule.nativeCall.DetachNativeEvent("OnLoginWndClose",e)})}}),e||o.default("ShowLoginDlg").catch(e=>{s.warning(e)}))}catch(e){s.warning(e),n=Promise.resolve("")}return n})}},11:function(e,t,n){"use strict";var r=n(71),i=n(118),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},113:function(e,t){e.exports=require("stream")},1141:function(e,t){},1143:function(e,t){},1145:function(e,t){},116:function(e,t,n){"use strict";var r=n(1141);n.n(r).a},117:function(e,t,n){"use strict";var r=n(11),i=n(71),o=n(119),a=n(43);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var l=s(a);l.Axios=o,l.create=function(e){return s(r.merge(a,e))},l.Cancel=n(78),l.CancelToken=n(136),l.isCancel=n(77),l.all=function(e){return Promise.all(e)},l.spread=n(137),e.exports=l,e.exports.default=l},118:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},119:function(e,t,n){"use strict";var r=n(43),i=n(11),o=n(131),a=n(132);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},12:function(e,t){e.exports=vendor_f06ab6e95552376989e1},120:function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},121:function(e,t,n){"use strict";var r=n(11),i=n(72),o=n(74),a=n(122),s=n(123),l=n(44),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(124);e.exports=function(e){return new Promise(function(t,c){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(e.url)||(p=new window.XDomainRequest,h="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var g=e.auth.username||"",v=e.auth.password||"";f.Authorization="Basic "+u(g+":"+v)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,c,r),p=null}},p.onerror=function(){c(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var y=n(125),_=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;_&&(f[e.xsrfHeaderName]=_)}if("setRequestHeader"in p&&r.forEach(f,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),c(e),p=null)}),void 0===d&&(d=null),p.send(d)})}},122:function(e,t,n){"use strict";var r=n(11),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},123:function(e,t,n){"use strict";var r=n(11);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},124:function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),a="",s=0,l=r;o.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new i;t=t<<8|n}return a}},125:function(e,t,n){"use strict";var r=n(11);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},126:function(e,t){e.exports=require("assert")},127:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(128)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},128:function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;l++;var i=t.formatters[r];if("function"==typeof i){var o=a[l];n=i.call(e,o),a.splice(l,1),l--}return n}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(129),t.instances=[],t.names=[],t.skips=[],t.formatters={}},129:function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var l,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(l=e,o,"day")||s(l,i,"hour")||s(l,r,"minute")||s(l,n,"second")||l+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(5),o=n(1).default.getLogger("XLStat");let a=i.default(r.join(__rootDir,"../bin/ThunderHelper.node"));function s(e=""){let t;if("string"==typeof e)t=e;else if(l(e)&&"object"==typeof e){let n=[];for(let t in e)l(e[t])&&n.push(t+"="+encodeURIComponent(e[t]));t=n.join(",")}return t}function l(e){return void 0!==e&&null!==e}!function(e){function t(e){do{if(void 0===e)break;a.trackClick(e,0)}while(0)}e.trackEvent=function(e,t="",n="",r=0,i=0,l=0,u=0,c="",d=0){let f=0;do{if(void 0===e){f=1;break}let p=s(c);f=a.trackEvent(e,t,n,r,i,l,u,p,d),o.information(e,t,n,r,i,l,u,p,d)}while(0);return f},e.trackClick=t,e.trackShow=function(e){t(e)},e.setUserID=function(e=0,t=0){a.setUserID(e,t)}}(t.XLStatNS||(t.XLStatNS={}))},130:function(e){e.exports={_args:[["axios@0.18.0","D:\\thunderx_bin\\trunk\\build\\app"]],_from:"axios@0.18.0",_id:"axios@0.18.0",_inBundle:!1,_integrity:"sha1-MtU+SFHv3AoRmTts0AB4nXDAUQI=",_location:"/axios",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"axios@0.18.0",name:"axios",escapedName:"axios",rawSpec:"0.18.0",saveSpec:null,fetchSpec:"0.18.0"},_requiredBy:["/","/@types/axios","/@xunlei/thunderx-login-main"],_resolved:"http://xnpm.repo.xunlei.cn/axios/-/axios-0.18.0.tgz",_spec:"0.18.0",_where:"D:\\thunderx_bin\\trunk\\build\\app",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.3.0","is-buffer":"^1.1.5"},description:"Promise based HTTP client for the browser and node.js",devDependencies:{bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",typescript:"^2.0.3","url-search-params":"^0.6.1",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},homepage:"https://github.com/axios/axios",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test && bundlesize",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",version:"0.18.0"}},131:function(e,t,n){"use strict";var r=n(11);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},132:function(e,t,n){"use strict";var r=n(11),i=n(133),o=n(77),a=n(43),s=n(134),l=n(135);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},133:function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},134:function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},135:function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},136:function(e,t,n){"use strict";var r=n(78);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},137:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.channelRMNewTaskReadyForSetTaskData="RM_NEWTASK_READYRORSETTASKDATA",e.channelRMNewTaskSetTaskData="RM_NEWTASK_SETTASKDATA",e.channelRMPreNewTaskSetTaskData="RM_PRENEWTASK_SETTASKDATA",e.channelRMNewTaskCreateNewTask="RM_NEWTASK_CREATENEWTASK",e.channelRMNewTaskSetBTInfo="RM_NEWTASK_SETBTINFO",e.channelRMNewTaskDownloadTorrent="RM_NEW_TASK_DOWNLOAD_TORRENT",e.channelRMNewTaskCreateBtTask="RM_NEWTASK_CRATEBTTASK",e.channelRMNewTaskCancleMagnet="RM_NEWTASK_CANCLE_MAGNET",e.channelRMImportTorrent="RM_NEWTASK_IMPORT_TORRENT",e.channelRMGetConfigValueResolve="RM_GET_CONFIG_VALUE_RESOLVE",e.channelRMGetConfigValueReject="RM_GET_CONFIG_VALUE_REJECT",e.channelMRTrayMenuClick="MR_TRAY_MENU_CLICK",e.channelMRNewTaskMagnetTaskCreated="MR_NEW_TASK_MAGNET_TASK_CREATED",e.channelMRNewTaskDownloadTorrentResult="MR_NEW_TASK_DOWNLOAD_TORRENT_RESULT",e.channelMRNewTaskCreateNewTaskResult="MR_NEWTASK_CREATENEWTASK_RESULT",e.channelMRNewTaskCreateBtTaskResult="RM_NEWTASK_CRATEBTTASK_RESULT",e.channelMRGetConfigValue="MR_GET_CONFIG_VALUE",e.channelMRSetConfigValue="MR_SET_CONFIG_VALUE",e.channelRMCommitPlanTask="RM_PLANTASK_COMMIT",e.channelRMPerformePlanTask="RM_PLANTASK_PERFORME",e.channelRMProcessSend="RM_RENDER_PROCESS_INFO",e.channelRMGetPrivateSpaceInfo="RM_RENDER_GET_PRIVATE_SPACE_INFO",e.channelMRGetPrivateSpaceInfoResult="MR_RENDER_GET_PRIVATE_SPACE_INFO_RESULT",e.channelRMFileCopy="RM_FILE_COPY",e.channelRMFileMove="RM_FILE_MOVE",e.channelMRFileCopyResult="MR_FILE_COPY_RESULT",e.channelMRFileMoveResult="MR_FILE_MOVE_RESULT",e.channelRMGetSutitleByCid="RM_RENDER_GET_SUBTITLE_BY_CID",e.channelMRGetSutitleByCidResult="MR_RENDER_GET_SUBTITLE_BY_CID_RESULT",e.channelRMGetSutitleByName="RM_RENDER_GET_SUBTITLE_BY_NAME",e.channelMRGetSutitleByNameResult="MR_RENDER_GET_SUBTITLE_BY_NAME_RESULT",e.channelRMDownloadSutitle="RM_RENDER_DOWNLOAD_SUBTITLE",e.channelMRDownloadSutitleSuc="MR_RENDER_DOWNLOAD_SUBTITLE_SUCCESS",e.channelMRDownloadSutitleFail="MR_RENDER_DOWNLOAD_SUBTITLE_FAIL",e.channelRMGetDisplayName="RM_RENDER_GET_SUBTITLE_DISPLAYNAME",e.channelMRGetDisplayNameResult="MR_RENDER_GET_SUBTITLE_DISPLAYNAME_RESULT",e.channelMRBringWindowToTop="MR_RENDER_BRING_WINDOW_TO_TOP",e.channelRMDownloadXmp="RM_RENDER_DOWNLOAD_XMP",e.channelMRFixXmpSuc="MR_RENDER_FIX_XMP_SUC",e.channelMRFixXMPFail="MR_RENDER_FIX_XMP_FAIL",e.channelRMDownloadXmpEx="RM_RENDER_DOWNLOAD_XMP_EX",e.channelRMSetPosition="RM_SET_POSITION",e.channelRMSetFoucs="RM_SET_FOCUS",e.channelRMCreateAddressDropWnd="RM_CREATE_ADDRESS_DROPWND",e.channelRMRefreshAddressDropWnd="RM_REFRESH_ADDRESS_DROPWND",e.channelRMSelectAddressDropItem="RM_SELECT_ADDRESS_DROPITEM",e.channelRMCreateSearchWindow="RM_CREATE_SEARCH_WINDOW",e.channelRMAddressKeyDown="RM_ADDRESS_BAR_KEYDOWN",e.channelMRFWAddressKeyDown="MR_ADDRESS_FW_BAR_KEYDOWN",e.channelMRFWSelectAddressDropItem="MR_FW_SELECT_ADDRESS_DROPITEM",e.channelRMAddressDropWndKeyDown="RM_ADDRESS_DROPWND_KEYDOWN",e.channelMRSearchWindowVisibleChange="MR_SEARCH_WINDOW_VISIBLE_CHANGE",e.channelRMShowSearchWindow="RM_SEARCH_WINDOW_SHOW",e.channelRMHideSearchWindow="RM_SEARCH_WINDOW_HIDE",e.channelRMClickMouse="RM_CLICK_MOUSE",e.channelMRSearchBarFocusChange="MR_SEARCHBAR_FOCUS_CHANGE",e.channelMRFWAddressDropWndKeyDown="MR_FW_ADDRESS_DROPWND_KEYDOWN",e.channelMRClickAddressDropItem="MR_CLICK_ADDRESS_DROPITEM",e.channelMRMainWndMax="MR_MAINWINDOW_MAX",e.channelMRMainWndMin="MR_MAINWINDOW_MIN",e.channelMRMainWndRestore="MR_MAINWINDOW_RESTORE",e.channelRMGetBrowserStartType="RM_GET_BROWSER_START_TYPE",e.channelMRGetBrowserStartTypeResult="MR_GET_BROWSER_START_TYPE_RESULT",e.channelRMExecute="RM_SHELL_EXECUTE",e.channelMRExecuteResult="MR_SHELL_EXECUTE_RESULT",e.channelMRAdTipsClick="MR_AD_TIPS_CLICK",e.channelMRNotificationMsg="MR_NOTIFICATION_MSG",e.channelRMSetProgressBar="RM_SET_PROGRESS_BAR",e.channelRMRoundWindow="RM_ROUND_WINDOW"}(t.ThunderChannelList||(t.ThunderChannelList={}))},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(95),o=n(5),a=n(2),s=o.default(a.join(__rootDir,"../bin/ThunderHelper.node"));t.default=function(e){let t=null,n=i.mouseMove(),o=r.remote.getCurrentWindow(),a=document.querySelector(e),l=!1,u=function(e){t=[e.clientX,e.clientY],0===e.button&&(l=!0)},c=function(e){0===e.button&&(l=!1)},d=function(e){if("Escape"===e.code)return l=!1,void window.close()};return a.addEventListener("mousedown",u),a.addEventListener("mouseup",c),window.addEventListener("keydown",d),n.on("move",e=>{if(e){if(t&&l){let e=r.screen.getCursorScreenPoint(),n=r.screen.getDisplayNearestPoint(e).scaleFactor,i=Math.round(e.x*n-t[0]*n),a=Math.round(e.y*n-t[1]*n),l=o.getNativeWindowHandle().readUIntLE(0,4);s.setWindowPos(l,0,i,a,0,0,5)}}else l=!1}),function(){a.removeEventListener("mousedown",u),a.removeEventListener("mouseup",c),window.removeEventListener("keydown",d),n.destroy()}}},146:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-tooltip",{attrs:{content:e.tipsText,visible:e.isShowTips,placement:e.placement}},[n("td-input",e._b({attrs:{value:e.value,isNumber:e.isNumber,max:e.max,min:e.min,isAlpha:e.isAlpha},on:{input:e.handleInputChange}},"td-input",e.$attrs,!1))],1)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},147:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("dropdown-native",{attrs:{disabled:e.disabled,value:e.menu,menus:e.menus},on:{click:e.handleClick,input:e.handleClick}},[e._v("\n  "+e._s(e.menu)+"\n")])},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},148:function(e,t,n){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)("td-dropdown",this._g(this._b({attrs:{menus:this.menus,"custom-menu-enabled":""},on:{"drop-click":this.handleDropClick}},"td-dropdown",this.$attrs,!1),this.$listeners),[this._t("default")],2)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(1),o=n(6),a=i.default.getLogger("Thunder.PromiseNativeCall"),s=r.promisify;t.default=function(...e){return a.verbose(...e),s(o.NativeCallModule.nativeCall.CallNativeFunction.bind(o.NativeCallModule.nativeCall))(...e)}},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.formatDate=function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));let n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(let e in n){let r=n[e]+"";new RegExp(`(${e})`).test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+(r=r)).substr(r.length)))}var r;if(/(f+)/.test(t)){let n=e.getMilliseconds()+"";t=t.replace(RegExp.$1,("000"+n).substr(n.length))}return t},e.formatSeconds=function(e){let t="";do{if(e<=0){t="00:00:00";break}let n=Math.floor(e/3600),r=Math.floor(e/60)%60,i=Math.floor(e%60);t=n<10?"0"+n+":":n+":",t+=r<10?"0"+r+":":r+":",t+=i<10?"0"+i:""+i}while(0);return t},e.convertTimeToMinutes=function(e,t,n){return 3600*e+60*t+n},e.convertMinuteToTime=function(e){return[Math.floor(e/3600),Math.floor(e/60%60),Math.floor(e%60)]}}(t.TimeHelperNS||(t.TimeHelperNS={}))},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(1),o=n(8),a=n(57),s=n(17),l=n(5),u=i.default.getLogger("ThunderNewTask"),c=l.default(r.join(__rootDir,"../bin/ThunderHelper.node")),d=".asf;.avi;.exe;.iso;.mp3;.mpeg;.mpg;.mpga;.ra;.rar;.rm;.rmvb;.tar;.wma;.wmp;.wmv;\n  .mov;.zip;.3gp;.chm;.mdf;.torrent;.jar;.msi;.arj;.bin;.dll;.psd;.hqx;.sit;.lzh;.gz;.tgz;.xlsx;.xls;.doc;.docx;.ppt;\n  .pptx;.flv;.swf;.mkv;.tp;.ts;.flac;.ape;.wav;.aac;.txt;.dat;.7z;.ttf;.bat;.xv;.xvx;.pdf;.mp4;.apk;.ipa;.epub;.mobi;\n  .deb;.sisx;.cab;.pxl;",f=".a;.a3m;.a3w;.a4m;.a4p;.a4w;.a5w;.aam;.aas;.abf;.abk;.abs;.ace;.acm;.acp;.act;.ad;\n  .ada;.adb;.adf;.adi;.adm;.adp;.adr;.ads;.af2;.af3;.afm;.ai;.aif;.aifc;.aiff;.aim;.ais;.akw;.alb;.all;.ams;.anc;.ani;\n  .ans;.ant;.api;.aps;.ari;.arj;.art;.asa;.asc;.asd;.ase;.asf;.asm;.aso;.asp;.asv;.asx;.atw;.au;.avb;.avi;.avr;.avs;\n  .awd;.awr;.axx;.bak;.bas;.bat;.bdf;.bgl;.bi;.bif;.biff;.bin;.bk;.bk$;.bks;.bmk;.bmp;.book;.brx;.bsp;.btm;.bud;.bun;\n  .bw;.bwv;.c;.cab;.cad;.cal;.cap;.cas;.cb;.cc;.ccb;.cch;.cco;.cct;.cda;.cdf;.cdi;.cdm;.cdr;.cdt;.cdx;.cfg;.cgi;.cgm;\n  .chk;.chm;.chr;.cif;.cil;.class;.cll;.clp;.cls;.cmf;.cmv;.cmx;.cnf;.cnm;.cnt;.cod;.com;.cpl;.cpo;.cpp;.cpr;.cpt;.cpx;\n  .crd;.crp;.crt;.csc;.csp;.cst;.csv;.ctl;.cur;.cv;.cxx;.dat;.db;.dbc;.dbf;.dbx;.dcm;.dcs;.dct;.dcu;.dcx;.dem;.der;.dewf;\n  .dib;.dic;.dif;.dig;.dir;.diz;.dlg;.dll;.dls;.dmd;.dmf;.doc;.dot;.draw;.drv;.drw;.dsf;.dsg;.dsm;.dsp;.dsq;.dsw;.dtd;\n  .dun;.dv;.dxf;.dxr;.eda;.edd;.emd;.emf;.eml;.ephtml;.eps;.exe;.fav;.fax;.fcd;.fdf;.ffa;.ffk;.ffl;.ffo;.fif;.fla;.flc;\n  .fm;.fml;.fng;.fnk;.fon;.fot;.frt;.frx;.ftg;.fts;.gal;.gdb;.gdm;.gem;.gen;.getright;.gfi;.gfx;.gho;.gif;.gim;.gix;.gkh;\n  .gks;.gl;.gna;.gnt;.gnx;.gra;.grf;.grp;.hcom;.hgl;.hlp;.hpj;.hpp;.hst;.ht;.htm;.html;.htt;.htx;.icb;.icc;.icl;.icm;.ico;\n  .idd;.idf;.idq;.idx;.iff;.iges;.igf;.ilbm;.ima;.inf;.ini;.inrs;.ins;.int;.iqy;.iso;.ist;.isu;.iwc;.j62;.jar;.java;.jbf;\n  .jff;.jfif;.jif;.jmp;.jpe;.jpeg;.jpg;.js;.jsp;.jtf;.k25;.kar;.kdc;.key;.kfx;.kiz;.kkw;.kmp;.kqp;.lab;.lbm;.lbt;.lbx;.ldb;\n  .ldl;.leg;.lft;.lgo;.lha;.lib;.lin;.lis;.llx;.lnk;.log;.lst;.lu;.lyr;.lzh;.lzs;.m1v;.m3u;.mad;.maf;.mam;.map;.maq;.mar;.mat;\n  .mb1;.mbx;.mcr;.mdb;.mde;.mdl;.mdn;.mdw;.mdz;.mic;.mid;.mim;.mime;.mli;.mme;.mng;.mnu;.mod;.mov;.mp2;.mp3;.mpa;.mpe;.mpeg;\n  .mpg;.mpp;.mpr;.msg;.msi;.msn;.msp;.mst;.mtm;.nan;.nap;.ncb;.ncd;.ncf;.nff;.nft;.nil;.nist;.nls;.nlu;.ntx;.nwc;.nws;.obj;\n  .ocx;.ods;.ofn;.oft;.olb;.ole;.oogl;.opo;.p65;.pab;.part;.pas;.pbd;.pbl;.pbm;.pbr;.pcd;.pcl;.pcm;.pdd;.pdf;.pfm;.pgl;.pgm;\n  .ph;.php;.php3;.phtml;.pic;.pjt;.pjx;.pkg;.pli;.png;.pot;.ppa;.ppf;.ppm;.pps;.ppt;.prf;.prg;.prj;.prn;.prt;.psd;.psp;.pst;\n  .pwz;.qic;.qif;.qlb;.qry;.qtp;.qtx;.qw;.ra;.ram;.rar;.rdf;.reg;.rep;.res;.rft;.rgb;.rm;.rmd;.rpt;.rtf;.rul;.rvp;.s;.sav;.sbl;\n  .scc;.scf;.scp;.scr;.sct;.scx;.sdt;.sdv;.sdx;.sep;.sfd;.sfi;.sfr;.sfx;.sgi;.sgml;.shg;.shtml;.shw;.sig;.ska;.skl;.sl;.spl;\n  .sqc;.sqr;.str;.swa;.swf;.sys;.syw;.taz;.tga;.theme;.thn;.tif;.tiff;.tig;.tlb;.tmp;.tol;.tpl;.trm;.trn;.ttf;.txt;.txw;.udf;\n  .ult;.url;.use;.uwf;.vbp;.vbp;.vbw;.vbw;.vbx;.vbx;.vct;.vcx;.vda;.vda;.vir;.vir;.viv;.vqf;.vsd;.vsd;.vsl;.vsl;.vss;.vss;.vst;\n  .vst;.vsw;.vsw;.vxd;.vxd;.w3l;.wab;.wad;.wav;.wbk;.wcm;.wdb;.wfm;.wfn;.wil;.wiz;.wll;.wmf;.wow;.wp;.wpd;.wpf;.wpg;.wps;.wpt;.wr1;\n  .wrk;.wrl;.wrz;.x;.x16;.x32;.xar;.xbm;.xi;.xla;.xlb;.xlc;.xld;.xlk;.xll;.xlm;.xls;.xlt;.xlv;.xlw;.xnk;.xpm;.xwd;.xwf;.yal;.z;.zap;.zip;";!function(e){function t(e){let t=!1;do{if(void 0===e||null===e)break;if(""===e||"."===e)break;if(d.indexOf(e)>-1){t=!0;break}}while(0);return t}function n(e){let t=!1;do{if(void 0===e||null===e)break;if(""===e)break;if(e.match(/[\/\\"<>\?\*|]/))break;t=!0}while(0);return t}function i(e){let n=!1;do{if(void 0===e||null===e)break;if(""===e||"."===e)break;let r=a.TaskUtilHelper.getTaskFileType(void 0,e);if(r===a.TaskUtilHelper.FileExtType.Video||r===a.TaskUtilHelper.FileExtType.Music||r===a.TaskUtilHelper.FileExtType.Pic){n=!0;break}n=t(e)}while(0);return n}function l(e){let t=!1,o=r.parse(e);return t=n(o.name)&&i(o.ext)}function p(e){let t={};do{if(void 0===e||null===e)break;u.information("parseDynamicUrlArgs");let n=/([^&=?]+)=([^&]*)/g;for(;n.exec(e);)t[RegExp.$1]=RegExp.$2;u.information("parseDynamicUrlArgs ret ",t)}while(0);return t}function h(e){let t={pageFileName:void 0,args:void 0};do{if(void 0===e||null===e)break;u.information("parseDynamicUrlPath"),e.match(/[\/]?([^?]*)\?([^\s]*)/)&&(t.pageFileName=RegExp.$1,t.args=RegExp.$2),u.information("parseDynamicUrlPath ret",t)}while(0);return t}function m(e){let t="";do{if(void 0===e||null===e)break;let n=h(e);if(void 0!==n.args){let e=p(n.args);for(let n in e){let r=e[n];if(l(r)){t=r;break}}}void 0!==n.pageFileName&&l(n.pageFileName)&&(t=n.pageFileName)}while(0);return t}function g(e){let t=[];do{if(void 0===e||null===e)break;let n=m(e);if(""!==n&&!t.includes(n)){let e=v(n);t.push(e)}let r=v(e);t.includes(r)||t.push(r)}while(0);return t}function v(e){return c.parseFileNameFromP2spUrlPath(e)}function y(e){return c.isThunderPrivateUrl(e)}function _(e){return c.parseEd2kUrl(e)}function w(e){return c.parseUrl(e)}e.isDownloadFileExtName=t,e.isIllegalFileName=n,e.isGoodFileExtName=i,e.isUsualFileExtName=function(e){let t=!1;do{if(void 0===e||null===e)break;if(""===e||"."===e)break;if(i(e)){t=!0;break}if(f.indexOf(e)>-1){t=!0;break}}while(0);return t},e.isGoodFileName=l,e.parseDynamicUrlArgs=p,e.parseDynamicUrlPath=h,e.parseFileNameFromDynamicUrlPath=m,e.getFileNameListFromUrlPath=g,e.getNameFromUrl=function(e){let t="index.html",n=s.ThunderHelper.getTaskTypeFromUrl(e);if(n===o.DownloadKernel.TaskType.P2sp){let n=g(w(e).fullPath);n.length>0&&(t=n[0])}else n===o.DownloadKernel.TaskType.Emule&&(t=_(e).fileName);return t.replace(/[*?/\\:|<>\"]/g,"_")},e.parseFileNameFromP2spUrlPath=v,e.isThunderPrivateUrl=y,e.parseThunderPrivateUrl=function(e){let t={url:e,codePage:-1};return y(e)&&(t=c.parseThunderPrivateUrl(e)),t},e.parseEd2kUrl=_,e.parseUrl=w,e.parseMagnetUrl=function(e){return c.parseMagnetUrl(e)},e.makeUrl=function(e){return c.makeUrl(e)}}(t.ParseUrlFileNameNS||(t.ParseUrlFileNameNS={}))},156:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),o=n(5),a=n(1),s=n(3),l=n(14),u=n(9),c=n(8),d=n(17),f=n(155),p=a.default.getLogger("ThunderNewTask"),h=o.default(i.join(__rootDir,"../bin/ThunderHelper.node"));let m=5;!function(e){let t;function o(e,t,n){void 0===n&&(n=d.ThunderHelper.getTaskTypeFromUrl(e));let r=void 0,o=-1,a="",s="";do{if(n!==c.DownloadKernel.TaskType.Emule&&n!==c.DownloadKernel.TaskType.P2sp)break;let l=f.ParseUrlFileNameNS.getNameFromUrl(e),u=i.extname(l);if(""!==u&&(a=u.substring(1)),n===c.DownloadKernel.TaskType.Emule){let t=f.ParseUrlFileNameNS.parseEd2kUrl(e);o=t.fileSize,s=t.fileHash}r={url:e,cookie:"",referer:"",fileName:l,browser:"",statClick:t=void 0===t?"":t,fileSize:o,fileHash:s,fileType:a};break}while(0);return r}!function(e){e.PreNewTask="PreNewTaskCtrl",e.NewTask="NewTaskCtrl",e.UrlFilter="UrlFilterCtrl",e.Magnet="BtCtrl"}(t=e.TaskCtrlType||(e.TaskCtrlType={})),e.updateThreadCount=function(e){do{if(isNaN(e))break;if(e<=0||e>10)break;m=e}while(0)},e.contructTaskByUrl=function(e,t,n){let r=o(e,t,n);p.verbose(e);let i=5;return{taskType:n,data:r,setting:{loginFtp:!1,ftpInfo:{userName:"",password:""},onlyOrigin:!1,thread:i=null!==r.thread&&void 0!==r.thread?r.thread:m,note:"",openAfterDownload:!1},selected:!0}},e.contructTaskByUrlData=function(e,t){let n=void 0,r=d.ThunderHelper.getTaskTypeFromUrl(e.url);if(r===c.DownloadKernel.TaskType.Emule&&(void 0===e.fileHash||""===e.fileHash)){let t=f.ParseUrlFileNameNS.parseEd2kUrl(e.url);e.fileSize=t.fileSize,e.fileHash=t.fileHash}if(void 0!==e.fileSize&&null!==e.fileSize&&0!==e.fileSize||(e.fileSize=-1),void 0!==e.fileName&&""!==e.fileName||(e.fileName=f.ParseUrlFileNameNS.getNameFromUrl(e.url)),e.fileName=e.fileName.replace(/[*?/\\:|<>\"]/g,"_"),void 0===e.fileType||""===e.fileType){let t=i.extname(e.fileName);""!==t&&(e.fileType=t.substring(1))}if(void 0===t||null===t){let n=5;t={loginFtp:!1,ftpInfo:{userName:"",password:""},onlyOrigin:!1,thread:n=null!==e.thread&&void 0!==e.thread?e.thread:m,note:"",openAfterDownload:!1}}return n={taskType:r,data:e,setting:t,selected:!0}},e.getDesktopPath=function(){return h.getDesktopPath()},e.getDocumentPath=function(){return h.getDocumentPath()},e.queryFileExists=function(e){return h.queryFileExists(e)},e.isFilePathValid=function(e){return h.isFilePathValid(e)},e.getNewTaskDataByUrl=o,e.getDownloadResult=function(e,...t){return r(this,void 0,void 0,function*(){let n={result:!1};do{if(e.length<3){n.message="不合法的存储路径";break}if(!(yield u.FileSystemAWNS.mkdirsAW(e))){n.message="不合法的存储路径";break}s.ipcRenderer.send(l.ThunderChannelList.channelRMNewTaskCreateNewTask,e,...t),n=yield new Promise(e=>{s.ipcRenderer.once(l.ThunderChannelList.channelMRNewTaskCreateNewTaskResult,(t,n,r)=>{e({result:n,message:r})})})}while(0);return n})},e.readThunderUnionConfig=function(e){return r(this,void 0,void 0,function*(){let t=null,r=null;try{const r=yield n(27);r.defaults.adapter=n(28),t=yield r.get(e)}catch(e){p.information(e)}return null!==t&&void 0!==t.status&&200===t.status&&void 0!==t.data&&null!==t.data&&(r=t.data),r})}}(t.ThunderNewtaskHelperNS||(t.ThunderNewtaskHelperNS={}))},16:function(e,t){e.exports=require("os")},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(5).default(r.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){e.getDriveInfo=function(e){return i.getDriveInfo(e)},e.getFreePartitionSpace=function(e){return i.getFreePartitionSpace(e)},e.getLogicalDriveStrings=function(){return i.getLogicalDriveStrings()},e.getPartitionSpace=function(e){return i.getPartitionSpace(e)},e.getSystemTempPath=function(){return i.getSystemTempPath()},e.getTaskTypeFromUrl=function(e){return i.getTaskTypeFromUrl(e)},e.extractIcon=function(e,t){return i.extractIcon(e,t)},e.isWindow7=function(){return 1===i.isWin7()},e.compareStr=function(e,t){return i.compareStr(e,t)},e.getTickCount=function(){return i.getTickCount()}}(t.ThunderHelper||(t.ThunderHelper={}))},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.information=function(...e){},t.error=function(...e){},t.warning=function(...e){},t.critical=function(...e){},t.verbose=function(...e){},"development"===process.env.LOGGER_ENV&&(t.information=function(...e){console.log("information",e)},t.error=function(...e){console.log("error",e)},t.warning=function(...e){console.log("warning",e)},t.critical=function(...e){console.log("critical",e)},t.verbose=function(...e){console.log("verbose",e)})},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.msgIPCCommunicatorForward="ipc_communicator_forward",e.msgIPCSendToMain="ipc_send_to_main",e.msgIPCSendToRenderer="ipc_send_to_renderer",e.msgIPCRendererConnect="ipc_renderer_connect",e.msgIPCRendererDisconnect="ipc_renderer_disconnect",e.msgNCCallNativeFunction="nc_call_native_function",e.msgNCCheckNativeFunction="nc_check_native_function",e.msgNCCallJsFunctionById="nc_call_js_function_by_id",e.msgNCCallJsFunctionByName="nc_call_js_function_by_name",e.msgNCNativeFireEvent="nc_native_fire_event",e.msgNCNativeCallReady="nc_native_call_ready"}(t.CommonIPCMessage||(t.CommonIPCMessage={}))},196:function(e,t,n){"use strict";n.r(t);var r=n(197),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},197:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(621),a=n(68);let s=class extends i.Vue{constructor(){super(...arguments),this.hasDefault=!1}get extsAsArray(){let e=[];for(let t of this.exts)"default"===t&&(this.hasDefault=!0),e.push(t);return e}handleItemClick(e){let t=[...this.excludes],n=this.excludes.indexOf(e);do{if(-1===n)if("all"===e)t=[],this.hasDefault&&t.push("default"),t.push(e),t.push(...this.exts);else{if("default"===e)break;if(t.push(e),-1===this.excludes.indexOf("all")&&t.push("all"),this.hasDefault){-1===this.excludes.indexOf("default")&&t.push("default")}}else if("all"===e)t=[],this.hasDefault&&t.push("default");else if("default"===e){(t=[]).push("all");for(let e of this.exts)a.URLHelperNS.isSuffixNeedDownload(e)||t.push(e)}else if(t.splice(n,1),this.hasDefault){-1===this.excludes.indexOf("default")&&t.push("default")}this.$emit("change",t,e)}while(0)}};r([i.Prop({})],s.prototype,"exts",void 0),r([i.Prop({})],s.prototype,"excludes",void 0),s=r([i.Component({components:{ExtFilterItem:o.default}})],s),t.default=s},198:function(e,t,n){"use strict";n.r(t);var r=n(199),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},199:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4);let o=class extends i.Vue{get label(){let e=this.type;return"all"===this.type?e="全选":"default"===this.type?e="默认":"undefined"!==this.type&&""!==this.type||(e="未知"),e}get disabled(){let e=!1;return void 0!==this.value&&(e=this.value.indexOf(this.type)>-1),e}handleClick(){this.$emit("item-click",this.type)}};r([i.Prop({})],o.prototype,"value",void 0),r([i.Prop({})],o.prototype,"type",void 0),o=r([i.Component({})],o),t.default=o},2:function(e,t){e.exports=require("path")},20:function(e,t){e.exports=require("fs")},203:function(e,t,n){"use strict";n.r(t);var r=n(90),i=n(63);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\views\\path-selector.vue",t.default=s.exports},204:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),o=n(21),a=n(1).default.getLogger("path-selector"),s="PathAndCategory",l="historyDownloadPaths",u=8;!function(e){function t(){return new Promise(e=>{i.NativeCallModule.nativeCall.CallNativeFunction("GetConfigValue",s,l,[],(t,n)=>{t===o.NativeFunctionErrorCode.Success?(a.information("getHistoryPaths",n),e(n)):e([])})})}e.getMaxHistoryPathsLen=function(){return u},e.getHistoryPaths=t,e.addHistoryPaths=function(e){return r(this,void 0,void 0,function*(){let n=yield t();do{if(void 0===e||null===e||""===e)break;if("\\"===e[e.length-1]&&(e=e.slice(0,e.length-1)),n.includes(e))break;n.length>=u&&n.splice(0,1),n.push(e),a.information("SetConfigValue",n),i.NativeCallModule.nativeCall.CallNativeFunction("SetConfigValue",s,l,n,e=>{0!==e?a.information("写配置出错"):(a.information("setvalue success"),i.NativeCallModule.nativeCall.CallNativeFunction("SaveConfig",e=>{0!==e?a.information("配置文件保存失败"):a.information("配置文件保存 success")}))})}while(0)})}}(t.HistoryPathsNS||(t.HistoryPathsNS={}))},206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(243),i=n(94),o=n(26),a=n(45),s=n(1).default.getLogger("Thunder.shub-http.shub-crypto");!function(e){function t(e){let t=o.createHash("md5");return t.update(e),t.digest()}e.encryptHttpBuffer=function(e){if(0!==e.readUInt16LE(16)){let t=r.Buffer.alloc(20);e.copy(t,0,0,20);let n=r.Buffer.alloc(e.length-20);e.copy(n,0,20);let o=i.deflateSync(n);e=r.Buffer.concat([t,o])}let n=r.Buffer.alloc(8);e.copy(n,0,0,7),n=t(n);let o=r.Buffer.alloc(12);e.copy(o,0,0,11);let s=r.Buffer.alloc(e.length-12);e.copy(s,0,12),s=a.ToolsUtilitiesAWNS.encryptBuffer(s,n);let l=r.Buffer.concat([o,s]);return l.writeUInt32LE(s.length,8),l},e.decryptHttpBuffer=function(e){let n=null;try{let o=r.Buffer.alloc(8);e.copy(o,0,0,7),o=t(o);let l=r.Buffer.alloc(12);e.copy(l,0,0,11);let u=r.Buffer.alloc(e.length-12);if(e.copy(u,0,12),u=a.ToolsUtilitiesAWNS.decryptBuffer(u,o),0!==(n=r.Buffer.concat([l,u])).readUInt16LE(16)){let e=r.Buffer.alloc(20);n.copy(e,0,0,20);let t=r.Buffer.alloc(n.length-20);n.copy(t,0,20);let o=i.inflateSync(t);n=r.Buffer.concat([e,o])}}catch(e){s.error("decryptHttpBuffer",e)}return n}}(t.ShubCryptoNS||(t.ShubCryptoNS={}))},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(5).default(r.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){e.writeUInt64LE=function(e,t,n){const r=~~(t/4294967295),i=t%4294967295-r;return n=e.writeUInt32LE(i,n),n=e.writeUInt32LE(r,n)},e.writeString=function(e,t,n,r){let o=null;if("gbk"===r){let e=936,n=i.utf8StringEncodeToBinary(t,e);o=Buffer.from(n,"binary")}else o=Buffer.from(t,r);return(n=e.writeUInt32LE(o.byteLength,n))+o.copy(e,n,0)},e.readUInt64LE=function(e,t){let n=e.readUInt32LE(t);t+=4;let r=e.readUInt32LE(t);return[t+=4,r*Math.pow(2,32)+n]},e.readString=function(e,t,n){let r=e.readUInt32LE(t);t+=4;let o=void 0;if("gbk"===n){let n=936,a=e.toString("binary",t,t+r);o=i.utf8StringDecodeFromBinary(a,n)}else o=e.toString(n,t,t+r);return[t+=r,o]}}(t.BufferUtilitiesNS||(t.BufferUtilitiesNS={}))},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.PAGE=1]="PAGE",e[e.FRAME=2]="FRAME",e[e.LINK=4]="LINK",e[e.MEDIA=8]="MEDIA",e[e.SELECTION=16]="SELECTION",e[e.EDITABLE=32]="EDITABLE"}(t.MenuNodeType||(t.MenuNodeType={})),function(e){e[e.NONE=0]="NONE",e[e.UNDO=1]="UNDO",e[e.REDO=2]="REDO",e[e.CUT=4]="CUT",e[e.COPY=8]="COPY",e[e.PASTE=16]="PASTE",e[e.DELETE=32]="DELETE",e[e.SELECT_ALL=64]="SELECT_ALL",e[e.TRANSLATE=128]="TRANSLATE"}(t.MenuEditableState||(t.MenuEditableState={})),function(e){e[e.NONE=0]="NONE",e[e.IMAGE=1]="IMAGE",e[e.VIDEO=2]="VIDEO",e[e.AUDIO=3]="AUDIO",e[e.FILE=4]="FILE",e[e.PLUGIN=5]="PLUGIN"}(t.MenuMediaType||(t.MenuMediaType={})),function(e){e[e.HWND_NOTOPMOST=-2]="HWND_NOTOPMOST",e[e.HWND_TOPMOST=-1]="HWND_TOPMOST",e[e.HWND_TOP=0]="HWND_TOP",e[e.HWND_BOTTOM=1]="HWND_BOTTOM"}(t.OptionOfhwndInAfter||(t.OptionOfhwndInAfter={})),function(e){e[e.SWP_ASYNCWINDOWPOS=16384]="SWP_ASYNCWINDOWPOS",e[e.SWP_DEFERERASE=8192]="SWP_DEFERERASE",e[e.SWP_DRAWFRAME=32]="SWP_DRAWFRAME",e[e.SWP_FRAMECHANGED=32]="SWP_FRAMECHANGED",e[e.SWP_HIDEWINDOW=128]="SWP_HIDEWINDOW",e[e.SWP_NOACTIVATE=16]="SWP_NOACTIVATE",e[e.SWP_NOCOPYBITS=256]="SWP_NOCOPYBITS",e[e.SWP_NOMOVE=2]="SWP_NOMOVE",e[e.SWP_NOOWNERZORDER=512]="SWP_NOOWNERZORDER",e[e.SWP_NOREDRAW=8]="SWP_NOREDRAW",e[e.SWP_NOREPOSITION=512]="SWP_NOREPOSITION",e[e.SWP_NOSENDCHANGING=1024]="SWP_NOSENDCHANGING",e[e.SWP_NOSIZE=1]="SWP_NOSIZE",e[e.SWP_NOZORDER=4]="SWP_NOZORDER",e[e.SWP_SHOWWINDOW=64]="SWP_SHOWWINDOW"}(t.Uflags||(t.Uflags={})),function(e){e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.WS_CHILDWINDOW=1073741824]="WS_CHILDWINDOW",e[e.WS_CLIPCHILDREN=33554432]="WS_CLIPCHILDREN",e[e.WS_CLIPSIBLINGS=67108864]="WS_CLIPSIBLINGS"}(t.WindowStyle||(t.WindowStyle={})),function(e){e[e.WS_EX_TOOLWINDOW=128]="WS_EX_TOOLWINDOW"}(t.ExtendedWindowStyles||(t.ExtendedWindowStyles={})),function(e){e[e.GWL_EXSTYLE=-20]="GWL_EXSTYLE",e[e.GWL_HINSTANCE=-6]="GWL_HINSTANCE",e[e.GWL_ID=-12]="GWL_ID",e[e.GWL_STYLE=-16]="GWL_STYLE",e[e.GWL_USERDATA=-21]="GWL_USERDATA",e[e.GWL_WNDPROC=-4]="GWL_WNDPROC"}(t.SetWindowType||(t.SetWindowType={})),function(e){e[e.WM_CREATE=1]="WM_CREATE",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_ACTIVATE=6]="WM_ACTIVATE",e[e.WM_SETFOCUS=7]="WM_SETFOCUS",e[e.WM_KILLFOCUS=8]="WM_KILLFOCUS",e[e.WM_ENABLE=10]="WM_ENABLE",e[e.WM_DPICHANGED=736]="WM_DPICHANGED"}(t.WindowMessages||(t.WindowMessages={})),function(e){e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_SHOW=5]="SW_SHOW"}(t.showCmd||(t.showCmd={})),function(e){e[e.Success=0]="Success",e[e.FunctionUnExist=1]="FunctionUnExist",e[e.ParamError=2]="ParamError",e[e.CallFailed=3]="CallFailed"}(t.NativeFunctionErrorCode||(t.NativeFunctionErrorCode={}))},211:function(e,t,n){e.exports=n(12)(129)},212:function(e,t,n){e.exports=n(12)(66)},226:function(e,t,n){"use strict";var r=n(1145);n.n(r).a},239:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xlx-dialog__down-tasks"},[n("div",{staticClass:"xlx-dialog__down-tasks-list"},e._l(e.extsAsArray,function(t){return n("ext-filter-item",{key:t,attrs:{type:t,value:e.excludes},on:{"item-click":e.handleItemClick}})})),e._v(" "),e._t("default")],2)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(7),o=n(18),a=n(19);!function(e){e.mainProcessContext="main-process",e.mainRendererContext="main-renderer",e.mainPageWebviewRendererContext="main-page-webview-renderer",e.newTaskRendererContext="new-task-renderer",e.preNewTaskRendererContext="pre-new-task-renderer",e.loginRendererContext="login-renderer";class t{constructor(){this.isConnected=!1,this.isOnIPCEvent=!1,this.rendererInfos=[],this.listeners=new Map,t.intervalIPCModuleMsgs=[a.CommonIPCMessage.msgIPCRendererConnect,a.CommonIPCMessage.msgIPCRendererDisconnect]}onMessage(e,t){do{if(!i.isString(e)||0===e.length){o.error("msgName is null");break}if(i.isNullOrUndefined(t)){o.error("listener is null");break}this.listeners.has(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}while(0)}getCommunicatorInfo(){return this.currInfo}getAllRenderer(){return this.rendererInfos}getCommunicatorInfoById(e){for(let t of this.rendererInfos)if(t.id===e)return t;return null}getCommunicatorInfoByContext(e){for(let t of this.rendererInfos)if(t.context===e)return t;return null}startListenIPCMessage(e){this.isOnIPCEvent||(this.isOnIPCEvent=!0,e&&this.ListenSendToMainMsg(),this.ListenSendToRendererMsg(e))}ListenSendToMainMsg(){r.ipcMain.on(a.CommonIPCMessage.msgIPCSendToMain,(e,t)=>{let n=void 0;do{if(i.isNullOrUndefined(t)){o.error("msgInfo is empty");break}if(!this.isConnected){o.warning("hasnot been connected yet");break}let r=t.msg.name;if(this.isIPCModuleIntervalMsg(r)){o.information(`IPC module interval msg : ${r}`);let i=this.handleIPCModuleIntervalMsg(e.sender,t);if(n=i[1],!i[0])break;o.information("need to dispatch msg:"+r)}i.isNullOrUndefined(n)?n=this.NotifyListener(t):this.NotifyListener(t)}while(0);i.isNullOrUndefined(n)||(e.returnValue=n)})}ListenSendToRendererMsg(e){(e?r.ipcMain:r.ipcRenderer).on(a.CommonIPCMessage.msgIPCSendToRenderer,(t,n)=>{let r=void 0;do{if(i.isNullOrUndefined(n)){o.error("msgInfo is empty");break}if(!this.isConnected){o.warning("hasnot been connected yet");break}let a=n.msg.name;if(this.isIPCModuleIntervalMsg(a)){o.information(`IPC module interval msg : ${a}`);let e=this.handleIPCModuleIntervalMsg(t.sender,n);if(r=e[1],!e[0])break;o.information("need to dispatch msg:"+a)}e?(o.information("is main, handle forward msg"),this.handleForwardRendererToRendererMsg(n)):(o.information("is renderer, handle business msg"),i.isNullOrUndefined(r)?r=this.NotifyListener(n):this.NotifyListener(n))}while(0);i.isNullOrUndefined(r)||(t.returnValue=r)})}isIPCModuleIntervalMsg(e){for(let n of t.intervalIPCModuleMsgs)if(e===n)return!0;return!1}handleIPCModuleIntervalMsg(e,t){let n=[!1,void 0];do{let r=t.msg.name;if(r===a.CommonIPCMessage.msgIPCRendererConnect){n=[!0,this.handleRendererConnectMsg(e,t)];break}if(r===a.CommonIPCMessage.msgIPCRendererDisconnect){n=[!0,this.handleRendererDisconnectMsg(e,t)];break}}while(0);return n}handleRendererConnectMsg(e,t){o.verbose(e),o.verbose(t)}handleRendererDisconnectMsg(e,t){o.verbose(e),o.verbose(t)}handleForwardRendererToRendererMsg(e){this.sendForwardRendererToRendererMsg(e)}sendForwardRendererToRendererMsg(e){o.verbose(e)}NotifyListener(e){let t=void 0,n=e.msg.name;if(this.listeners.has(n)){let r=this.listeners.get(n),i=!0;for(let n of r)i?(i=!1,t=n(e)):n(e)}return t}}e.Communicator=t}(t.CommonIPCBase||(t.CommonIPCBase={}))},242:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"xlx-button-tasks",class:{"is-disabled":e.disabled},attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._v("\n  "+e._s(e.label)+"\n")])},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},243:function(e,t){e.exports=require("buffer")},249:function(e,t,n){"use strict";n.r(t);var r=n(147),i=n(97);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\views\\down-mode.vue",t.default=s.exports},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(7),o=n(18),a=n(19),s=n(24);!function(e){class t extends s.CommonIPCBase.Communicator{constructor(){super()}initialize(e){this.currInfo={id:void 0,context:e,isMainCommunicator:!1}}connect(){this.isConnected?o.warning("has been connected"):(this.sendConnectMsgToMain(),this.isConnected=!0,this.startListenIPCMessage(!1))}disconnect(){this.isConnected?(this.isConnected=!1,this.sendDisconnectMsgToMain()):o.warning("hasnot been connected yet")}sendMessageToMain(e){this.sendIPCMsgToMain(e)}sendMessageToMainSync(e){return this.sendIPCMsgToMain(e,!0)}sendMessageToRenderer(e,t){this.sendIPCMsgToRenderer(e,t)}handleRendererConnectMsg(e,t){do{if(i.isNullOrUndefined(t)){o.error("msgInfo is null");break}let e=t.msg.args[0];if(i.isNullOrUndefined(e)){o.error("connectRendererInfo is null");break}o.information(`Renderer: new renderer will connect, id = ${e.id}, context = ${e.context}`),this.rendererInfos.push(e)}while(0)}handleRendererDisconnectMsg(e,t){do{if(i.isNullOrUndefined(t)){o.error("msgInfo is null");break}let e=t.msg.args[0];if(i.isNullOrUndefined(e)){o.error("disconnectRendererInfo is null");break}o.information(`renderer will disconnect, id = ${e.id}, context = ${e.context}`);for(let t=0;t<this.rendererInfos.length;++t)if(this.rendererInfos[t]===e){this.rendererInfos.splice(t,1);break}}while(0)}sendConnectMsgToMain(){let e=this.sendMessageToMainSync({name:a.CommonIPCMessage.msgIPCRendererConnect,args:[]});this.currInfo.id=e[0],this.rendererInfos=e[1]}sendDisconnectMsgToMain(){this.sendMessageToMain({name:a.CommonIPCMessage.msgIPCRendererDisconnect,args:[]})}sendIPCMsgToMain(e,t=!1){let n=void 0;do{if(i.isNullOrUndefined(e)){o.error("msg is null");break}n=(t?r.ipcRenderer.sendSync:r.ipcRenderer.send)(a.CommonIPCMessage.msgIPCSendToMain,{msg:e,senderInfo:this.currInfo})}while(0);return n}sendIPCMsgToRenderer(e,t){do{if(i.isNullOrUndefined(e)){o.error("rendererId is null");break}if(i.isNullOrUndefined(t)){o.error("msg is null");break}let n=[e].concat(t.args);t.args=n,r.ipcRenderer.send(a.CommonIPCMessage.msgIPCSendToRenderer,{msg:t,senderInfo:this.currInfo})}while(0)}}e.RendererCommunicator=t,e.rendererCommunicator=new t}(t.CommonIPCRenderer||(t.CommonIPCRenderer={}))},250:function(e,t,n){"use strict";n.r(t);var r=n(146),i=n(101);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\views\\limit-input.vue",t.default=s.exports},26:function(e,t){e.exports=require("crypto")},263:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(104),o=n(264),a=n(1),s=n(82),l=n(84),u=a.default.getLogger("Thunder.QueryTaskInfo");const c=new class extends i.HttpSession{constructor(){super(),this.lastActiveTaskId=-1,this.curBatchQueryId=void 0,this.timerId=null}queryP2spTaskInfo(e){return r(this,void 0,void 0,function*(){return s.Common.isThunderPrivateUrl(e)&&(e=s.Common.parseThunderPrivateUrl(e)),new Promise(t=>{this.queryResInfo("url",e).then(e=>{let n={result:0,gcid:"",fileSize:0,errCode:0};e&&200===e.status&&null!==e.data&&null!==e.data.code&&0===e.data.code&&""!==e.data.gcid&&(n.result=e.data.code,n.fileSize=e.data.file_size,n.gcid=e.data.gcid,t(n))}).catch(()=>{t(null)})})})}asyncBatchQueryP2spTaskInfoByUrl(e,t,n){return r(this,void 0,void 0,function*(){if(!e||0===e.length)return 0;void 0===this.curBatchQueryId?this.curBatchQueryId=1:this.curBatchQueryId+=1;let r=0;for(;r<e.length;++r){let n=yield this.queryP2spTaskInfo(e[r]);n&&t(e[r],n,r),yield this.delay(200)}return r>=e.length&&n&&"function"==typeof n&&n(this.curBatchQueryId),this.curBatchQueryId})}postRequestEd2kTaskInfoByEd2kLink(e){return s.Common.isThunderPrivateUrl(e)&&(e=s.Common.parseThunderPrivateUrl(e)),new Promise(t=>{this.host="hub5idx.shub.sandai.net",this.port=80,this.retries=1,this.timeout=15e3,this.body=o.QueryTaskInfoPackageNS.createQueryEd2kTaskInfoBuffer(e),this.post(e=>{let n=null;200===e.statusCode&&e.body&&e.body.length>12&&(n=o.QueryTaskInfoPackageNS.praseEd2kTaskInfoBuffer(e.body)),u.information("postRequestEd2kTaskInfoByEd2kLink",n),t(n)},e=>{u.error("postRequestEd2kTaskInfoByEd2kLink",e),t(null)})})}delay(e){return r(this,void 0,void 0,function*(){return new Promise(t=>{setTimeout(t,e)})})}queryResInfo(e,t){return r(this,void 0,void 0,function*(){return l.fetchPCRes({url:"/xlppc.resinfo.api/v1/queryresinfo",data:{type:e,res:t}},"prod",!0)})}};!function(e){e.postRequestEd2kTaskInfoByEd2kLink=function(e){return r(this,void 0,void 0,function*(){return c.postRequestEd2kTaskInfoByEd2kLink(e)})},e.asyncBatchQueryP2spTaskInfoByUrl=function(e,t,n){return r(this,void 0,void 0,function*(){return c.asyncBatchQueryP2spTaskInfoByUrl(e,t,n)})},e.queryResInfo=function(e,t){return r(this,void 0,void 0,function*(){return c.queryResInfo(e,t)})}}(t.QueryTaskInfoHelperNS||(t.QueryTaskInfoHelperNS={}))},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(5),o=n(206),a=n(207),s=n(1).default.getLogger("Thunder.QueryTaskInfoPackage"),l=i.default(r.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){let t=0;function n(){let e=0,t=r.join(__rootDir,"../../Thunder.exe"),n=l.getFileVersion(t).split(".");if(n&&4===n.length){e=26*Number(n[0]).valueOf()+18*Number(n[1]).valueOf()+Number(n[3]).valueOf()}return e}function i(){return l.getPeerID()}e.createQueryP2spTaskInfoBuffer=function(e){let r=0,l=Buffer.alloc(10240);return s.information("createQueryP2spTaskInfoBuffer protocolVersion",61,r),r=l.writeUInt32LE(61,r),s.information("createQueryP2spTaskInfoBuffer sequence",t,r),r=l.writeUInt32LE(++t,r),s.information("createQueryP2spTaskInfoBuffer command length","0",r),r=l.writeUInt32LE(0,r),s.information("createQueryP2spTaskInfoBuffer thunder ver",n(),r),r=l.writeUInt32LE(n(),r),s.information("createQueryP2spTaskInfoBuffer compress flag","0",r),r=l.writeUInt16LE(0,r),s.information("createQueryP2spTaskInfoBuffer reserved","0",r),r=a.BufferUtilitiesNS.writeString(l,"",r,"utf-8"),s.information("createQueryP2spTaskInfoBuffer command","2021",r),r=l.writeUInt16LE(2021,r),s.information("createQueryP2spTaskInfoBuffer by what","2",r),r=l.writeUInt8(2,r),s.information("createQueryP2spTaskInfoBuffer body length","0",r),r=l.writeUInt32LE(0,r),s.information("createQueryP2spTaskInfoBuffer url",e,r),r=a.BufferUtilitiesNS.writeString(l,e,r,"utf-8"),s.information("createQueryP2spTaskInfoBuffer code","-1",r),r=l.writeInt32LE(-1,r),s.information("createQueryP2spTaskInfoBuffer","origin url",r),r=a.BufferUtilitiesNS.writeString(l,"",r,"utf-8"),s.information("createQueryP2spTaskInfoBuffer code","-1",r),r=l.writeInt32LE(-1,r),s.information("createQueryP2spTaskInfoBuffer","refurl",r),r=a.BufferUtilitiesNS.writeString(l,"",r,"utf-8"),s.information("createQueryP2spTaskInfoBuffer code","-1",r),r=l.writeInt32LE(-1,r),s.information("createQueryP2spTaskInfoBuffer",i(),r),r=a.BufferUtilitiesNS.writeString(l,i(),r,"utf-8"),s.information("createQueryP2spTaskInfoBuffer","ip",r),r=l.writeInt32LE(0,r),r=l.writeInt32LE(0,r),r=l.writeInt32LE(-1,r),r=l.writeInt32LE(-1,r),s.information("createQueryP2spTaskInfoBuffer","length",r),l=l.slice(0,r),s.information("createQueryP2spTaskInfoBuffer",l),l=o.ShubCryptoNS.encryptHttpBuffer(l)},e.praseP2spTaskInfoBuffer=function(e){let t={result:0,gcid:"",fileSize:0,errCode:0};try{e=o.ShubCryptoNS.decryptHttpBuffer(e);let n=0,r=e.readUInt32LE(n);s.information("protocolVersion:",r),n+=4;let i=e.readUInt32LE(n);s.information("sequence:",i),n+=4;let l=e.readUInt32LE(n);s.information("commandLegth:",l),n+=4;let u=e.readUInt32LE(n);s.information("thunderVersion:",u),n+=4;let c=e.readUInt16LE(n);s.information("compressFlag:",c),n+=2,n=a.BufferUtilitiesNS.readString(e,n,"utf-8")[0];let d=e.readUInt16LE(n);if(s.information("commandType:",d),n+=2,t.result=e.readUInt8(n),n+=1,1===t.result){n=a.BufferUtilitiesNS.readString(e,n,"hex")[0];let r=a.BufferUtilitiesNS.readUInt64LE(e,n);n=r[0],t.fileSize=r[1];let i=a.BufferUtilitiesNS.readString(e,n,"hex");n=i[0],t.gcid=i[1].toUpperCase(),s.information("gcid",i[1])}else t.errCode=e.readUInt32LE(n);s.information("praseTaskInfoBuffer",t)}catch(e){s.error("decryptHttpBuffer",e)}return t},e.createQueryEd2kTaskInfoBuffer=function(e){let r=0,u=Buffer.alloc(4096);s.information("createQueryEd2kTaskInfoBuffer protocolVersion",60,r),r=u.writeUInt32LE(60,r),s.information("createQueryEd2kTaskInfoBuffer sequence",t,r),r=u.writeUInt32LE(++t,r),s.information("createQueryEd2kTaskInfoBuffer command length","0",r),r=u.writeUInt32LE(0,r),s.information("createQueryEd2kTaskInfoBuffer thunder ver",n(),r),r=u.writeUInt32LE(n(),r),s.information("createQueryEd2kTaskInfoBuffer compress flag","0",r),r=u.writeUInt16LE(0,r),s.information("createQueryEd2kTaskInfoBuffer reserved","0",r),r=a.BufferUtilitiesNS.writeString(u,"",r,"utf-8"),s.information("createQueryEd2kTaskInfoBuffer command","5001",r),r=u.writeUInt16LE(5001,r),s.information("createQueryEd2kTaskInfoBuffer",i(),r),r=a.BufferUtilitiesNS.writeString(u,i(),r,"utf-8");let c=l.parseEd2kUrl(e),d=c.fileHash;r=u.writeInt32LE(d.length/2,r);let f=0,p=0;for(let e=0;e<d.length;e+=2)f=parseInt(d.charAt(e),16),p=parseInt(d.charAt(e+1),16),r=u.writeUInt8(f<<4|p,r);return r=a.BufferUtilitiesNS.writeUInt64LE(u,c.fileSize,r),r=u.writeInt32LE(0,r),r=a.BufferUtilitiesNS.writeString(u,"",r,"utf-8"),r=u.writeInt32LE(0,r),r=a.BufferUtilitiesNS.writeString(u,e,r,"utf-8"),u=u.slice(0,r),s.information("createQueryEd2kTaskInfoBuffer before encrypt",u,r),u=o.ShubCryptoNS.encryptHttpBuffer(u)},e.praseEd2kTaskInfoBuffer=function(e){let t={result:0,hasRecord:0,gcid:""};try{e=o.ShubCryptoNS.decryptHttpBuffer(e),s.information("praseEd2kTaskInfoBuffer buffer",e);let n=0,r=e.readUInt32LE(n);s.information("protocolVersion:",r),n+=4;let i=e.readUInt32LE(n);s.information("sequence:",i),n+=4;let l=e.readUInt32LE(n);s.information("commandLegth:",l),n+=4;let u=e.readUInt32LE(n);s.information("thunderVersion:",u),n+=4;let c=e.readUInt16LE(n);s.information("compressFlag:",c),n+=2,n=a.BufferUtilitiesNS.readString(e,n,"utf-8")[0];let d=e.readUInt16LE(n);if(s.information("commandType:",d),n+=2,t.result=e.readUInt8(n),n+=1,1===t.result&&(t.hasRecord=e.readInt32LE(n),n+=4,1===t.hasRecord)){n=a.BufferUtilitiesNS.readString(e,n,"utf-8")[0],n=a.BufferUtilitiesNS.readString(e,n,"utf-8")[0],n=a.BufferUtilitiesNS.readString(e,n,"hex")[0];let r=a.BufferUtilitiesNS.readString(e,n,"hex");n=r[0],t.gcid=r[1].toUpperCase()}s.information("praseTaskInfoBuffer",t)}catch(e){s.error("decryptHttpBuffer",e)}return s.information("praseEd2kTaskInfoBuffer response",t),t}}(t.QueryTaskInfoPackageNS||(t.QueryTaskInfoPackageNS={}))},27:function(e,t,n){e.exports=n(117)},275:function(e,t,n){"use strict";n.r(t);var r=n(148),i=n(99);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\components\\dropdown-native.vue",t.default=s.exports},276:function(e,t,n){"use strict";var r=n(1143);n.n(r).a},28:function(e,t,n){"use strict";var r=n(11),i=n(72),o=n(74),a=n(52),s=n(75),l=n(76).http,u=n(76).https,c=n(29),d=n(94),f=n(130),p=n(44),h=n(73);e.exports=function(e){return new Promise(function(t,n){var m,g=e.data,v=e.headers;if(v["User-Agent"]||v["user-agent"]||(v["User-Agent"]="axios/"+f.version),g&&!r.isStream(g)){if(Buffer.isBuffer(g));else if(r.isArrayBuffer(g))g=new Buffer(new Uint8Array(g));else{if(!r.isString(g))return n(p("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));g=new Buffer(g,"utf-8")}v["Content-Length"]=g.length}var y=void 0;e.auth&&(y=(e.auth.username||"")+":"+(e.auth.password||""));var _=c.parse(e.url),w=_.protocol||"http:";if(!y&&_.auth){var C=_.auth.split(":");y=(C[0]||"")+":"+(C[1]||"")}y&&delete v.Authorization;var b="https:"===w,T=b?e.httpsAgent:e.httpAgent,k={path:o(_.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method,headers:v,agent:T,auth:y};e.socketPath?k.socketPath=e.socketPath:(k.hostname=_.hostname,k.port=_.port);var S,x=e.proxy;if(!x&&!1!==x){var N=w.slice(0,-1)+"_proxy",E=process.env[N]||process.env[N.toUpperCase()];if(E){var P=c.parse(E);if(x={host:P.hostname,port:P.port},P.auth){var D=P.auth.split(":");x.auth={username:D[0],password:D[1]}}}}if(x&&(k.hostname=x.host,k.host=x.host,k.headers.host=_.hostname+(_.port?":"+_.port:""),k.port=x.port,k.path=w+"//"+_.hostname+(_.port?":"+_.port:"")+k.path,x.auth)){var R=new Buffer(x.auth.username+":"+x.auth.password,"utf8").toString("base64");k.headers["Proxy-Authorization"]="Basic "+R}e.transport?S=e.transport:0===e.maxRedirects?S=b?s:a:(e.maxRedirects&&(k.maxRedirects=e.maxRedirects),S=b?u:l),e.maxContentLength&&e.maxContentLength>-1&&(k.maxBodyLength=e.maxContentLength);var I=S.request(k,function(r){if(!I.aborted){clearTimeout(m),m=null;var o=r;switch(r.headers["content-encoding"]){case"gzip":case"compress":case"deflate":o=o.pipe(d.createUnzip()),delete r.headers["content-encoding"]}var a=r.req||I,s={status:r.statusCode,statusText:r.statusMessage,headers:r.headers,config:e,request:a};if("stream"===e.responseType)s.data=o,i(t,n,s);else{var l=[];o.on("data",function(t){l.push(t),e.maxContentLength>-1&&Buffer.concat(l).length>e.maxContentLength&&n(p("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,a))}),o.on("error",function(t){I.aborted||n(h(t,e,null,a))}),o.on("end",function(){var r=Buffer.concat(l);"arraybuffer"!==e.responseType&&(r=r.toString("utf8")),s.data=r,i(t,n,s)})}}});I.on("error",function(t){I.aborted||n(h(t,e,null,I))}),e.timeout&&!m&&(m=setTimeout(function(){I.abort(),n(p("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",I))},e.timeout)),e.cancelToken&&e.cancelToken.promise.then(function(e){I.aborted||(I.abort(),n(e))}),r.isStream(g)?g.pipe(I):I.end(g)})}},29:function(e,t){e.exports=require("url")},299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),i=n(211),o=n(212),a=n(944),s=n(945);r.default.use(i.default);const l=new i.default.Store({modules:{Counter:a.default,NewTask:s.default},strict:!1});t.connector=new o.default(l)},3:function(e,t){e.exports=require("electron")},32:function(e,t,n){e.exports=n(12)(14)},33:function(e,t,n){"use strict";n.r(t);var r=n(34),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},34:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4);let s=class extends a.Vue{onOptionsChanged(){this.appendContent()}appendContent(){this.dropdown||(this.dropdown=new o.remote.DropdownWindow),this.dropdown.clear(),this.options.forEach(e=>{"separator"===e?this.dropdown.append(new o.remote.DropdownWindowContent({type:"separator"})):this.dropdown.append(new o.remote.DropdownWindowContent({label:e.toString(),click:()=>{this.$refs.select.menuVisible=!1,this.$emit("input",e,!0)}}))})}handleMenuShow(){return i(this,void 0,void 0,function*(){if(void 0===this.options||!Array.isArray(this.options)||0===this.options.length)return;this.dropdown||this.appendContent();let e=this.$el.getBoundingClientRect();const{DropDownWindowSkinNS:t}=yield Promise.resolve().then(()=>n(96));t.setStyle(this.dropdown,{windowPreference:{marginLeft:0,marginRight:0,stringWidth:Math.round(e.width)-39}}),this.dropdown.popup({window:o.remote.getCurrentWindow(),x:Math.round(e.left),y:Math.round(e.top+e.height+4)})})}};r([a.Prop()],s.prototype,"value",void 0),r([a.Prop({default:()=>[]})],s.prototype,"options",void 0),r([a.Watch("options")],s.prototype,"onOptionsChanged",null),s=r([a.Component],s),t.default=s},35:function(e,t){e.exports=require("events")},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e[e.Default=0]="Default",e[e.Color=1]="Color",e[e.Wallpaper=2]="Wallpaper",e[e.Custom=3]="Custom"}(t=e.SkinType||(e.SkinType={})),e.defaultSkinInfo={type:t.Default,colorID:0}}(t.SkinHelperNS||(t.SkinHelperNS={}))},4:function(e,t,n){e.exports=n(12)(127)},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(7),o=n(1),a=n(5).default(r.join(__rootDir,"../bin/ThunderHelper.node"));process.env.TL_ENABLE="0","console"===process.env.TL_OUTPUT?o.default.outputLogger=o.outputLoggerConsole:o.default.outputLogger=function(){function e(e){return function(...t){a.printEtwLog(e,function(...e){return e.map(e=>i.inspect(e)).join(" ").replace(/%/g,"%%")}(...t))}}return{[o.LogLevel.Critical]:e(o.LogLevel.Critical),[o.LogLevel.Error]:e(o.LogLevel.Error),[o.LogLevel.Warning]:e(o.LogLevel.Warning),[o.LogLevel.Information]:e(o.LogLevel.Information),[o.LogLevel.Verbose]:e(o.LogLevel.Verbose)}}()},41:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),o=(n(20),n(2)),a=n(7);let s=null;const l=n(13),u=n(3),c=n(1),d=n(5),f=n(14),p="xdas_profile_stat";let h="",m=void 0,g=null,v=void 0,y=null,_=d.default(o.join(__rootDir,"../bin/ThunderHelper.node")),w=new Set;function C(){return r(this,void 0,void 0,function*(){return new Promise(e=>r(this,void 0,void 0,function*(){void 0===v&&(null===y&&(y=new Promise(e=>{e(v=function(e){let t="";if(0===e.length&&"renderer"===process.type){let e=o.normalize(decodeURIComponent(window.location.href)),n=e.indexOf(process.resourcesPath);n=n>-1?n+process.resourcesPath.length+1:n;let r=e.length-1,i=e.indexOf("?"),a=e.indexOf("#");r=i>-1?Math.min(i-1,r):r,r=a>-1?Math.min(a-1,r):r,n>-1&&r>=n&&(t=e.substr(n,r-n+1))}return 0===t.length&&(t=0!==e.length?e:process.type),t=t.replace(/\||,|;/g,"_")}(""))})),v=yield y),e(v)}))})}function b(e){let t="";do{if(null===e||void 0===e)break;switch(typeof e){case"string":t=e;break;case"object":t=a.inspect(e)||"";break;case"number":case"boolean":t=e.toString()||""}}while(0);return t}function T(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(e){return r(this,void 0,void 0,function*(){return new Promise(t=>r(this,void 0,void 0,function*(){let r=void 0;null===s&&(s=yield Promise.resolve().then(()=>n(26)));let i=s.createHash("md5");null!==i&&(r=i.update(e).digest("hex")),t(r)}))})}function S(){return new Promise(e=>r(this,void 0,void 0,function*(){let t="";t=void 0===m?"browser"===process.type?function(){if(void 0===m){let e=process.argv.length,t=process.argv;for(let n=0;n<e;n++){let e=t[n];if(e.startsWith("-StartType:")){m=e.substring("-StartType:".length);break}}void 0===m&&(m="")}return m}():yield function(){return r(this,void 0,void 0,function*(){return null===g&&(g=new Promise(e=>{u.ipcRenderer.send(f.ThunderChannelList.channelRMGetBrowserStartType),u.ipcRenderer.once(f.ThunderChannelList.channelMRGetBrowserStartTypeResult,(t,n)=>{m=n,e(n),g=null})})),g})}():m,e(t)}))}function x(e,t,n,i){return r(this,void 0,void 0,function*(){let o=b(t),a=b(n),s=yield k(a),u=function(e){let t=new RegExp(T("file:///"),"g"),n=new RegExp(T(process.resourcesPath+"\\"),"g"),r=new RegExp(T(encodeURI(process.resourcesPath.replace(/\\/g,"/")+"/")),"g");return e.replace(t,"").replace(n,"").replace(r,"")}(b(i)),c=yield k(u),d=`${e}:${s}:${c}`;w.has(d)||(w.add(d),l.XLStatNS.trackEvent(p,"uncaught_exception","",0,0,0,0,`type=${e},business_name=${yield C()},code=${o},message_hash=${s},message=${encodeURI(a)},stack_hash=${c},stack=${encodeURI(u)}`)),function(e,t,n,i){return r(this,void 0,void 0,function*(){})}().catch()})}function N(e){console.error(e);let t=e||{};x("unhandledRejection",t.code,t instanceof Error?t.message:t,t.stack).catch()}!function(e){e.init=function(e){h=e},e.trackColdStartUpEvent=function(e){return r(this,void 0,void 0,function*(){let t=_.iSColdStartUp()?1:0,n=i.release(),r=_.performanceMonitorReporter.getProcessUptime(),o=yield S(),a=`key=${e},start_type=${o},cold_start_up=${t},os_version=${n},cost_time=${r}`;l.XLStatNS.trackEvent(p,"cold_start_up","",0,0,0,0,a)})}}(t.PerformanceMonitorStatNS||(t.PerformanceMonitorStatNS={})),function(){if(process.on("uncaughtException",e=>{console.error(e);let t=e||{};x("uncaughtException",t.code,t.message,t.stack).catch()}),"browser"===process.type)process.on("unhandledRejection",(e,t)=>{N(e)}),u.ipcMain.on(f.ThunderChannelList.channelRMGetBrowserStartType,function(e){return r(this,void 0,void 0,function*(){let t=yield S();e.sender.send(f.ThunderChannelList.channelMRGetBrowserStartTypeResult,t)})});else if("browser"!==process.type){window.addEventListener("unhandledrejection",e=>{N(e&&e.reason||{})});let e=u.remote.getCurrentWebContents();null!==e&&void 0!==e&&e.once("did-finish-load",()=>{(function(){return r(this,void 0,void 0,function*(){do{if("browser"===process.type)break;if(null===window.performance.timing||void 0===window.performance.timing)break;let e=_.iSColdStartUp()?1:0,t=i.release(),n=window.performance.timing,r=n.loadEventEnd-n.navigationStart,o=n.fetchStart-n.navigationStart,a=n.domainLookupEnd-n.domainLookupStart,s=n.connectEnd-n.connectStart,u=n.responseStart-n.requestStart,c=n.responseEnd-n.responseStart,d=n.domComplete-n.domLoading,f=yield S();l.XLStatNS.trackEvent(p,"page_load_time","",0,0,0,0,`start_type=${f},cold_start_up=${e},os_version=${t},load_time=${r},before_fetch_time=${o},domin_lookup_time=${a},connect_time=${s},first_response_time=${u},responseTime=${c},domTime=${d},process=${h}`)}while(0)})})().catch()})}c.default.hook("beforeLog",(e,t,...n)=>{e===c.LogLevel.Critical&&l.XLStatNS.trackEvent(p,"critical_error","",0,0,0,0,`module_name=${t},messages=${n}`)})}()},414:function(e,t,n){"use strict";n.r(t);var r=n(415),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(941),i=n(299);t.default=i.connector.connect({mapStateToProps:{downMode:e=>e.NewTask.downMode},mapCommitToProps:{HANDLE_URLS_INSERT:"HANDLE_URLS_INSERT",HANDLE_SAVE_PATH_CHANGE:"HANDLE_SAVE_PATH_CHANGE",HANDLE_DOWN_MODE_CHANGE:"HANDLE_DOWN_MODE_CHANGE"},mapDispatchToProps:{},mapGettersToProps:{taskUrls:e=>e.taskUrls}})(r.default)},416:function(e,t,n){"use strict";n.r(t);var r=n(417),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},417:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(3).remote,s=n(1),l=n(4),u=n(942),c=n(946),d=n(156),f=n(14),p=n(8),h=n(10),m=n(56),g=n(17),v=s.default.getLogger("new-task-renderer");let y=class extends l.Vue{constructor(){super(...arguments),this.curView="",this.downloadTipText="",this.firstInfoExist=!1,this.windowHadLoaded=!1}onTasksChange(e){e.length>1&&(this.curView="UrlFilterCtrlContainer")}tryShowWindowNextTick(){this.firstInfoExist&&this.windowHadLoaded&&this.$nextTick(()=>{a.getCurrentWindow().show()})}handleIpcMessage(e,t,n){v.information("handle ipc msg"),this.downloadTipText=n?"正在解析下载链接...":"",v.verbose(e);do{if(void 0===t||null===t){window.close();break}let e=null;try{e=JSON.parse(t)}catch(e){v.warning(e)}if(null===e||void 0===e||0===e.length){window.close();break}this.firstInfoExist=!0;let n=[],r=[];for(let t of e){g.ThunderHelper.getTaskTypeFromUrl(t.url)!==p.DownloadKernel.TaskType.Unkown&&(this.taskUrls.indexOf(t.url)>-1||r.indexOf(t.url)>-1||(n.push(t),r.push(t.url)))}this.HANDLE_URLS_INSERT(n),v.information("handle ipc msg insert urls nexttick"),this.tryShowWindowNextTick()}while(0)}created(){return i(this,void 0,void 0,function*(){let e=h.ThunderUtil.getQueryString(location.href,"type");"single"===e?this.curView="NewTaskCtrlContainer":"multi"===e&&(this.curView="UrlFilterCtrlContainer"),m.NativeCallAWNS.getConfigValueAW("TaskDefaultSettings","OrignHostThreads",5).then(e=>{let t=Number(e);d.ThunderNewtaskHelperNS.updateThreadCount(t)}).catch(e=>{v.warning(e)}),o.ipcRenderer.on(f.ThunderChannelList.channelRMNewTaskSetTaskData,this.handleIpcMessage),o.ipcRenderer.send(f.ThunderChannelList.channelRMNewTaskReadyForSetTaskData);let t=e=>{this.windowHadLoaded=!0,this.tryShowWindowNextTick(),window.removeEventListener("load",t)};window.addEventListener("load",t);let n=yield m.NativeCallAWNS.getDownloadDir();this.HANDLE_SAVE_PATH_CHANGE(n);let r=yield m.NativeCallAWNS.getConfigValueAW("TaskDefaultSettings","NewTaskStartMode",1);r!==this.downMode&&this.HANDLE_DOWN_MODE_CHANGE(r)})}destroyed(){o.ipcRenderer.removeListener(f.ThunderChannelList.channelRMNewTaskSetTaskData,this.handleIpcMessage)}};r([l.Prop({})],y.prototype,"taskUrls",void 0),r([l.Prop({})],y.prototype,"downMode",void 0),r([l.Prop({})],y.prototype,"HANDLE_URLS_INSERT",void 0),r([l.Prop({})],y.prototype,"HANDLE_SAVE_PATH_CHANGE",void 0),r([l.Prop({})],y.prototype,"HANDLE_DOWN_MODE_CHANGE",void 0),r([l.Watch("taskUrls")],y.prototype,"onTasksChange",null),y=r([l.Component({components:{NewTaskCtrlContainer:u.default,UrlFilterCtrlContainer:c.default}})],y),t.default=y},418:function(e,t,n){"use strict";n.r(t);var r=n(419),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(943),i=n(299),o=n(8);t.default=i.connector.connect({mapStateToProps:{savePath:e=>e.NewTask.savePath,downMode:e=>e.NewTask.downMode,dataList:e=>e.NewTask.dataList,newTaskData:(e,t)=>{let n=e.NewTask.dataList;return n.length>0?n[0]:{taskType:o.DownloadKernel.TaskType.Unkown,data:{url:""},setting:{loginFtp:!1,onlyOrigin:!1,thread:5,ftpInfo:{userName:"",password:""},note:"",openAfterDownload:!1},selected:!0,index:0}}},mapCommitToProps:{HANDLE_SAVE_PATH_CHANGE:"HANDLE_SAVE_PATH_CHANGE",HANDLE_DOWN_MODE_CHANGE:"HANDLE_DOWN_MODE_CHANGE",HANDLE_RENAME:"HANDLE_RENAME",HANDLE_ORIGIN_ONLY:"HANDLE_ORIGIN_ONLY",HANDLE_LOGIN_FTP:"HANDLE_LOGIN_FTP",HADNLE_THREAD_COUNT:"HADNLE_THREAD_COUNT"},mapDispatchToProps:{batchFetchSize:"batchFetchSize"},mapGettersToProps:{}})(r.default)},42:function(e,t,n){e.exports=n(12)(130)},420:function(e,t,n){"use strict";n.r(t);var r=n(421),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},421:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),a=n(4),s=n(70),l=n(156),u=n(249),c=n(203),d=n(10),f=n(56),p=n(57),h=n(6),m=n(250),g=n(8),v=n(105),y=n(145);let _=class extends a.Vue{constructor(){super(...arguments),this.tempName="",this.editing=!1,this.neverShowPanel=!1,this.spaceDanger=!1,this.privateSpace=!1,this.pathTips="",this.isShowPathTips=!1,this.options=[],this.appendDirs=[],this.removeDraggable=null}onDataChange(e){this.dataList.length>0&&(this.tempName=e.data.fileName,this.batchFetchSize(),this.options.push(e.data.fileName))}mounted(){document.addEventListener("click",this.handleDocClick),this.removeDraggable=y.default(".td-dialog__header")}destroyed(){this.removeDraggable(),document.removeEventListener("click",this.handleDocClick)}get isP2sp(){return this.newTaskData.taskType===g.DownloadKernel.TaskType.P2sp}get fileTypeClass(){let e="";return this.dataList.length>0&&(e=p.TaskUtilHelper.getTaskIcon(this.newTaskData.data.fileName)),e}get tasksize(){let e="";return this.dataList.length>0&&(e=d.ThunderUtil.formatSize(this.newTaskData.data.fileSize)),e}handleDocClick(){this.editing=!1,this.isShowPathTips=!1}handleFileNameClick(){this.editing=!0}renameClick(){this.editing=!this.editing}SetValueAW(e,t,n){return i(this,void 0,void 0,function*(){return new Promise(r=>{h.NativeCallModule.nativeCall.CallNativeFunction("SetConfigValue",e,t,n,e=>{0===e?h.NativeCallModule.nativeCall.CallNativeFunction("SaveConfig",e=>{r(0===e)}):r(!1)})})})}handleDownload(e){return i(this,void 0,void 0,function*(){let t=this.savePath;if("私人空间"===this.savePath){let e=yield v.default(!1,!0);if(!e||""===e)return;let n=yield f.NativeCallAWNS.getConfigValueAW("PrivateSpaceDefaultPath",e,"");n=o.join(n,e),t=n,this.privateSpace=!0}else this.privateSpace=!1;this.neverShowPanel&&(yield this.SetValueAW("TaskDefaultSettings","OpenSilenceDownload",1)),this.HANDLE_DOWN_MODE_CHANGE(e),this.$nextTick(()=>i(this,void 0,void 0,function*(){let n=JSON.stringify(Object.assign({},this.dataList)),r=yield l.ThunderNewtaskHelperNS.getDownloadResult(t,e,n,this.privateSpace);r.result?this.handleClose():r.message&&(this.pathTips=r.message,this.isShowPathTips=!0)}))})}handleClose(){window.close()}handleMoreToggle(e){this.$nextTick(()=>{window.resizeBy(0,e?148:-148)})}handleChangePath(e){this.HANDLE_SAVE_PATH_CHANGE(e)}handleSpaceDanger(e){this.spaceDanger=e}handleOnlyOrigin(e){this.HANDLE_ORIGIN_ONLY({index:0,value:e})}handleThreadCount(e){this.HADNLE_THREAD_COUNT({index:0,count:Number(e)})}handleLoginFtp(e){this.HANDLE_LOGIN_FTP({index:0,value:e})}handleRename(e,t){this.tempName=e,t&&this.handleRenameBlur()}handleRenameBlur(){this.editing=!1,void 0!==this.tempName&&""!==this.tempName&&this.tempName!==this.newTaskData.data.fileName&&this.HANDLE_RENAME({index:0,value:this.tempName})}};r([a.Prop({})],_.prototype,"savePath",void 0),r([a.Prop({})],_.prototype,"downMode",void 0),r([a.Prop({})],_.prototype,"dataList",void 0),r([a.Prop({})],_.prototype,"newTaskData",void 0),r([a.Prop({})],_.prototype,"HANDLE_SAVE_PATH_CHANGE",void 0),r([a.Prop({})],_.prototype,"HANDLE_DOWN_MODE_CHANGE",void 0),r([a.Prop({})],_.prototype,"HANDLE_RENAME",void 0),r([a.Prop({})],_.prototype,"HANDLE_ORIGIN_ONLY",void 0),r([a.Prop({})],_.prototype,"HADNLE_THREAD_COUNT",void 0),r([a.Prop({})],_.prototype,"HANDLE_LOGIN_FTP",void 0),r([a.Prop({})],_.prototype,"batchFetchSize",void 0),r([a.Watch("newTaskData",{immediate:!0})],_.prototype,"onDataChange",null),_=r([a.Component({components:{DownMode:u.default,PathSelector:c.default,SelectNative:s.default,LimitInput:m.default}})],_),t.default=_},422:function(e,t,n){"use strict";n.r(t);var r=n(423),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(947),i=n(299);t.default=i.connector.connect({mapStateToProps:{savePath:e=>e.NewTask.savePath,downMode:e=>e.NewTask.downMode,excludeFilters:e=>e.NewTask.excludeFilters,groupChecked:e=>e.NewTask.groupChecked,groupName:e=>e.NewTask.groupName},mapCommitToProps:{HANDLE_SAVE_PATH_CHANGE:"HANDLE_SAVE_PATH_CHANGE",HANDLE_DOWN_MODE_CHANGE:"HANDLE_DOWN_MODE_CHANGE",HANDLE_FILTER_CHANGE:"HANDLE_FILTER_CHANGE",HANDLE_SELECT_BY_EXT:"HANDLE_SELECT_BY_EXT"},mapDispatchToProps:{},mapGettersToProps:{taskTypeFilter:e=>e.taskTypeFilter,taskDataFilterList:e=>e.taskDataFilterList}})(r.default)},424:function(e,t,n){"use strict";n.r(t);var r=n(425),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},425:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),a=n(3),s=n(4),l=n(1),u=n(249),c=n(203),d=n(948),f=n(620),p=n(156),h=n(105),m=n(56),g=n(145),v=l.default.getLogger("new-task-renderer");let y=class extends s.Vue{constructor(){super(...arguments),this.isShowPathTips=!1,this.pathTips="",this.spaceDanger=!1,this.appendDirs=[],this.privateSpace=!1,this.removeDraggable=null}get selectdTasks(){return this.taskDataFilterList.filter(e=>e.selected)}get selectSize(){let e=0;for(let t of this.selectdTasks)-1===this.excludeFilters.indexOf(t.data.fileType)&&(e+=t.data.fileSize);return e}get downloadDisabled(){let e=!1;do{if(this.spaceDanger){e=!0;break}if(""!==this.buttonText){e=!0;break}0===this.selectdTasks.length&&(e=!0)}while(0);return e}handleDocClick(){this.isShowPathTips=!1}mounted(){v.information("new task render mounted"),this.removeDraggable=g.default(".td-dialog__header"),document.addEventListener("click",this.handleDocClick)}created(){let e=a.remote.getCurrentWindow();e.setMinimumSize(460,478),e.setSize(460,478),e.center(),e.setResizable(!0)}destroyed(){this.removeDraggable(),document.removeEventListener("click",this.handleDocClick)}handleFilterChange(e,t){this.HANDLE_FILTER_CHANGE(e),-1===e.indexOf(t)&&this.HANDLE_SELECT_BY_EXT(t)}handleChangePath(e){this.HANDLE_SAVE_PATH_CHANGE(e)}handleSpaceDanger(e){this.spaceDanger=e}handleClose(){window.close()}handleDownload(e){return i(this,void 0,void 0,function*(){let t=this.savePath;if("私人空间"===this.savePath){let e=yield h.default(!1,!0);if(!e||""===e)return;let n=yield m.NativeCallAWNS.getConfigValueAW("PrivateSpaceDefaultPath",e,"");n=o.join(n,e),t=n,this.privateSpace=!0}else this.privateSpace=!1;this.HANDLE_DOWN_MODE_CHANGE(e);do{if(v.verbose(e),0===this.selectdTasks.length)break;let n=void 0;this.selectdTasks.length>1&&this.groupChecked&&""===(n=this.groupName)&&(n="-"),this.$nextTick(()=>i(this,void 0,void 0,function*(){let r=JSON.stringify(Object.assign({},this.selectdTasks)),i=yield p.ThunderNewtaskHelperNS.getDownloadResult(t,e,r,this.privateSpace,[],n);i.result?this.handleClose():i.message&&(this.pathTips=i.message,this.isShowPathTips=!0)}))}while(0)})}};r([s.Prop({})],y.prototype,"buttonText",void 0),r([s.Prop({})],y.prototype,"excludeFilters",void 0),r([s.Prop({})],y.prototype,"savePath",void 0),r([s.Prop({})],y.prototype,"groupChecked",void 0),r([s.Prop({})],y.prototype,"groupName",void 0),r([s.Prop({})],y.prototype,"downMode",void 0),r([s.Prop({})],y.prototype,"taskTypeFilter",void 0),r([s.Prop({})],y.prototype,"taskDataFilterList",void 0),r([s.Prop({})],y.prototype,"HANDLE_FILTER_CHANGE",void 0),r([s.Prop({})],y.prototype,"HANDLE_SAVE_PATH_CHANGE",void 0),r([s.Prop({})],y.prototype,"HANDLE_DOWN_MODE_CHANGE",void 0),r([s.Prop({})],y.prototype,"HANDLE_SELECT_BY_EXT",void 0),y=r([s.Component({components:{DownMode:u.default,PathSelector:c.default,DownInfoContainer:d.default,ExtFilters:f.default}})],y),t.default=y},426:function(e,t,n){"use strict";n.r(t);var r=n(427),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(949),i=n(299);t.default=i.connector.connect({mapStateToProps:{dataList:e=>e.NewTask.dataList,groupChecked:e=>e.NewTask.groupChecked,groupName:e=>e.NewTask.groupName},mapCommitToProps:{handleCheckChange:"HANDLE_CHECK_CHANGE",hadnleSettingChange:"HADNLE_SETTING_CHANGE",handleFilterChange:"HANDLE_FILTER_CHANGE",handleGroupCheckChange:"HANDLE_GROUP_CHECK_CHANGE",handleGroupNameChange:"HANDLE_GROUP_NAME_CHANGE"},mapDispatchToProps:{batchFetchSize:"batchFetchSize"},mapGettersToProps:{taskTypeFilter:e=>e.taskTypeFilter,taskDataFilterList:e=>e.taskDataFilterList}})(r.default)},428:function(e,t,n){"use strict";n.r(t);var r=n(429),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},429:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(1),a=n(950),s=n(152),l=n(10),u=n(57),c=n(250),d=n(8),f=o.default.getLogger("new-task-renderer");let p=class extends i.Vue{constructor(){super(...arguments),this.groupEditShow=!1,this.current=0,this.currentTaskType=d.DownloadKernel.TaskType.Unkown,this.settingVisible=!1,this.settingInfo={loginFtp:!1,ftpInfo:{userName:"",password:""},onlyOrigin:!1,thread:5,note:"",openAfterDownload:!1},this.loadedIndex=0}onGroupChecked(e){if(e){let e=this.defaultGroupNamePrefix+s.TimeHelperNS.formatDate(new Date,"_yyyyMMdd_hhmm");this.handleGroupNameChange(e),this.groupEditShow=!0}}onUrlsChanged(){this.batchFetchSize()}get currentIsP2sp(){return this.currentTaskType===d.DownloadKernel.TaskType.P2sp}get defaultGroupNamePrefix(){let e=this.dataList.map(e=>e.data.fileName);return u.TaskUtilHelper.getDefaultGroupPrefix(e)}get groupVisible(){let e=!1;return this.selectFileCount>1&&(e=!0),e}get groupLabel(){let e="";return this.groupChecked||(e="合并为任务组"),e}get groupNameDisplay(){let e=this.groupName;return""!==this.groupName&&void 0!==this.groupName||(e="-"),e}get fileCount(){return this.dataList.length}get filterTaskCount(){return this.taskDataFilterList.length}get selectFileCount(){let e=0;for(let t of this.taskDataFilterList)t.selected&&(e+=1);return e}get totolSize(){let e=0;for(let t of this.dataList)e+=t.data.fileSize;return l.ThunderUtil.formatSize(e)}get selectTotalSize(){let e=0;for(let t of this.taskDataFilterList)t.selected&&(e+=t.data.fileSize);return l.ThunderUtil.formatSize(e)}get loadedList(){let e=this.loadedIndex+30;return e>this.filterTaskCount&&(e=this.filterTaskCount),this.taskDataFilterList.slice(0,e)}loadMore(){this.loadedIndex+30>this.filterTaskCount?this.loadedIndex=this.filterTaskCount:this.loadedIndex+=30}created(){this.$nextTick(()=>{f.information("new task render list")})}groupCheckChange(e){this.handleGroupCheckChange(e);let t=this.$refs.groupedit.$el.querySelector("input");null!==t&&void 0!==t&&this.$nextTick(()=>{t.select()})}groupNameChange(e){e=e.trim(),this.groupChecked&&this.handleGroupNameChange(e)}handleSetting(e){this.settingInfo=l.ThunderUtil.deepCopy(this.dataList[e].setting),this.current=e,this.currentTaskType=this.dataList[e].taskType,this.settingVisible=!0}handleApplyAll(){this.settingVisible=!1,this.hadnleSettingChange({index:-1,setting:this.settingInfo})}handleApply(){this.settingVisible=!1,this.hadnleSettingChange({index:this.current,setting:this.settingInfo})}handleCheck(e,t){if(this.handleCheckChange({check:e,index:t}),!e&&-1===this.excludes.indexOf("all")){let e=[];e.push("all"),e.push(...this.excludes),this.handleFilterChange(e)}}stopSettingClickPropagation(e){e.stopPropagation()}handleDocClick(){this.settingVisible=!1,this.groupEditShow=!1}mounted(){document.addEventListener("click",this.handleDocClick)}destroyed(){document.removeEventListener("click",this.handleDocClick)}};r([i.Prop({})],p.prototype,"groupChecked",void 0),r([i.Prop({})],p.prototype,"groupName",void 0),r([i.Prop({})],p.prototype,"dataList",void 0),r([i.Prop({})],p.prototype,"taskDataFilterList",void 0),r([i.Prop({})],p.prototype,"excludes",void 0),r([i.Prop({})],p.prototype,"batchFetchSize",void 0),r([i.Watch("groupChecked",{immediate:!0})],p.prototype,"onGroupChecked",null),r([i.Watch("dataList",{immediate:!0})],p.prototype,"onUrlsChanged",null),r([i.Prop({})],p.prototype,"handleCheckChange",void 0),r([i.Prop({})],p.prototype,"hadnleSettingChange",void 0),r([i.Prop({})],p.prototype,"handleFetchSize",void 0),r([i.Prop({})],p.prototype,"handleFilterChange",void 0),r([i.Prop({})],p.prototype,"handleGroupCheckChange",void 0),r([i.Prop({})],p.prototype,"handleGroupNameChange",void 0),p=r([i.Component({components:{DownItem:a.default,LimitInput:c.default}})],p),t.default=p},43:function(e,t,n){"use strict";var r=n(11),i=n(120),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:("undefined"!=typeof XMLHttpRequest?s=n(121):"undefined"!=typeof process&&(s=n(28)),s),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){l.headers[e]={}}),r.forEach(["post","put","patch"],function(e){l.headers[e]=r.merge(o)}),e.exports=l},430:function(e,t,n){"use strict";n.r(t);var r=n(431),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},431:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(10);let a=class extends i.Vue{get visible(){let e=!1;return-1===this.excludes.indexOf(this.type)&&(e=!0),e}mounted(){}get foramtSize(){return o.ThunderUtil.formatSize(this.size)}settingClick(e){this.$emit("setting",this.index),e.stopPropagation()}handleCheckChange(e){this.$emit("check",e,this.index)}};r([i.Prop({default:""})],a.prototype,"url",void 0),r([i.Prop({default:""})],a.prototype,"name",void 0),r([i.Prop({default:"未知"})],a.prototype,"type",void 0),r([i.Prop({default:"0B"})],a.prototype,"size",void 0),r([i.Prop({default:0})],a.prototype,"index",void 0),r([i.Prop({})],a.prototype,"excludes",void 0),r([i.Prop({})],a.prototype,"check",void 0),a=r([i.Component({})],a),t.default=a},44:function(e,t,n){"use strict";var r=n(73);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},45:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(26),o=n(20),a=n(9),s=n(1).default.getLogger("Thunder.base.tools-utilities"),l=n(2),u=n(5).default(l.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){function t(e){return r(this,void 0,void 0,function*(){let t;return t=e&&(yield a.FileSystemAWNS.existsAW(e))?new Promise(t=>{u.asyncCalcuteFileMD5(e,(e,n)=>{e?(n=n.toUpperCase(),t(n)):t(void 0)})}):new Promise(e=>{e(void 0)})})}e.genarateMd5=function(e){let t=void 0,n=i.createHash("md5");return null!==n&&(t=n.update(e).digest("hex")),t},e.matchFileMd5=function(e,n){return r(this,void 0,void 0,function*(){let r=!1,i=yield t(e);return void 0!==i&&i===n.toUpperCase()&&(s.information("check full md5 sucessful"),r=!0),r})},e.calculateFileMd5Ex=function(e){return r(this,void 0,void 0,function*(){let t;if(e&&(yield a.FileSystemAWNS.existsAW(e))){let n=o.createReadStream(e),r=i.createHash("md5");n.on("data",e=>{r.update(e)}),t=new Promise(e=>{n.on("end",()=>{let t=r.digest("hex");t=t.toUpperCase(),e(t)})})}else t=new Promise(e=>{e(void 0)});return t})},e.calculateFileMd5=t,e.encryptBuffer=function(e,t){let n=null;try{let r=i.createCipheriv("aes-128-ecb",t,""),o=r.update(e),a=r.final();n=Buffer.concat([o,a])}catch(e){s.error("encryptBuffer",e)}return n},e.decryptBuffer=function(e,t){let n=null;try{let r=i.createDecipheriv("aes-128-ecb",t,""),o=r.update(e),a=r.final();n=Buffer.concat([o,a])}catch(e){s.error("decryptBuffer",e)}return n},e.encryptSha1Buffer=function(e){let t=null;try{t=i.createHash("sha1").update(e).digest("hex")}catch(e){s.error("encryptSha1Buffer",e)}return t},e.setForegroundWindow=function(e,t){if(null!==e&&null!==t){let n=t.getNativeWindowHandle().readUIntLE(0,4);e.setForegroundWindow(n)?s.information("sucessful"):s.information("failed")}}}(t.ToolsUtilitiesAWNS||(t.ToolsUtilitiesAWNS={}))},46:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(9),a=n(6),s=n(2);!function(e){function t(e,t){if(null!==e){e.webContents.isDevToolsOpened()?e.webContents.closeDevTools():e.webContents.openDevTools(t)}}e.openDevTool=t,e.enableDevTools=function(e){return r(this,void 0,void 0,function*(){(yield o.FileSystemAWNS.existsAW(s.resolve(__rootDir,"../../enableDevTools")))&&window.addEventListener("keyup",n=>{"F12"===n.key&&n.ctrlKey&&t(i.remote.getCurrentWindow(),e)},!0)})},e.enableDragOpenFile=function(e){void 0===e&&(e=!1),document.addEventListener("dragover",e=>{e.preventDefault()},!1),document.addEventListener("drop",e=>r(this,void 0,void 0,function*(){e.preventDefault();let t=e.dataTransfer,n=t.files,r=t.items;if(void 0!==r&&null!==r&&r.length>0)for(let e=0;e<r.length;e++){let t=r[e];"string"===t.kind&&"text/uri-list"===t.type?t.getAsString(e=>{a.NativeCallModule.nativeCall.CallNativeFunction("DropOpenUrl",e)}):t.kind}if(void 0!==n&&null!==n&&n.length>0)for(let e=0;e<n.length;e++){let t=n[e].path;void 0!==t&&null!==t&&""!==t&&(yield o.FileSystemAWNS.existsAW(t))&&a.NativeCallModule.nativeCall.CallNativeFunction("DropOpenFile",t)}}),!1)}}(t.ThunderToolsNS||(t.ThunderToolsNS={}))},47:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("td-select",e._g(e._b({ref:"select",attrs:{value:e.value,"custom-menu-enabled":""},on:{"menu-show":e.handleMenuShow}},"td-select",e.$attrs,!1),e.$listeners),[e._t("suffix",null,{slot:"suffix"}),e._v(" "),e._t("append",null,{slot:"append"})],2)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return require(e)}},51:function(e,t,n){e.exports=n(12)(65)},52:function(e,t){e.exports=require("http")},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(58),o=n(1),a=n(10),s=n(59),l=o.default.getLogger("MenuSkinNS");!function(e){function t(e,t){if(l.information("setStyle",e,t),null!==e){let n={windowPreference:i.WindowPreferenceNS.getWindowPreference()};l.information("skinOpts",n),e.setStyle(s(n,t))}}e.setStyle=t,e.popEditableDefaultContextMenu=function(e,n,i){let o=r.remote.getCurrentWebContents();o.once("context-menu",(i,s)=>{if(l.verbose(i),s.isEditable){let i=[{label:"撤销",enabled:s.editFlags.canUndo,click:()=>{o.undo()}},{type:"separator"},{label:"剪切",enabled:s.editFlags.canCut,click:()=>{o.cut()}},{label:"复制",enabled:s.editFlags.canCopy,click:()=>{o.copy()}},{label:"粘贴",enabled:s.editFlags.canPaste&&a.ThunderUtil.isClipboardTextFormatAvailable(),click:()=>{o.paste()}},{label:"删除",enabled:s.editFlags.canDelete,click:()=>{o.delete()}},{type:"separator"},{label:"全选",enabled:s.editFlags.canSelectAll,click:()=>{o.selectAll()}}];if(void 0!==e&&"function"==typeof e){let t=e(s);void 0!==t&&t.length>0&&(void 0===n?n=i.length:(n<0&&(n=i.length+1+n)<0&&(n=0),n>i.length&&(n=i.length)),i.splice(n,0,...t))}let l=r.remote.Menu.buildFromTemplate(i);t(l,{}),l.popup({window:r.remote.getCurrentWindow()})}})}}(t.MenuSkinNS||(t.MenuSkinNS={}))},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15),i=n(6),o=n(38),a=n(1),s=n(10),l=a.default.getLogger("common/skin");function u(e){if(e.type===o.SkinHelperNS.SkinType.Default)document.body.classList.remove("is-theme"),s.ThunderUtil.setCSSProperties(document.body,{"--color-primary-theme":"","--color-primary-control-1":"","--color-primary-control-2":"","--color-primary-control-3":"","--color-primary-control-4":"","--color-primary-gradient-1":"","--color-primary-gradient-2":"","--color-primary-text":"","--color-search":"","--color-secondary":"","--color-gradient-background-1":"","--color-gradient-background-2":"","--color-gradient-foreground-1":"","--color-gradient-foreground-2":"","--color-accordion-1":"","--color-accordion-2":"","--default-opacity-1":"","--default-opacity-2":""});else if(e.type===o.SkinHelperNS.SkinType.Color||e.type===o.SkinHelperNS.SkinType.Wallpaper){document.body.classList.add("is-theme");let{colors:{colorPrimary:t,colorPrimaryControl1:n,colorPrimaryControl2:r,colorPrimaryControl3:i,colorPrimaryControl4:o,colorPrimaryGradient:a,colorPrimaryText:l,colorSearch:u,colorSecondary:c,colorGradientBackground:d,colorGradientForeground:f,colorAccordion:p},opacity:h}=e;s.ThunderUtil.setCSSProperties(document.body,{"--color-primary-theme":`${t}`,"--color-primary-control-1":`${n}`,"--color-primary-control-2":`${r}`,"--color-primary-control-3":`${i}`,"--color-primary-control-4":`${o}`,"--color-primary-gradient-1":`${a[0]}`,"--color-primary-gradient-2":`${a[1]}`,"--color-primary-text":`${l}`,"--color-search":`${u}`,"--color-secondary":`${c}`,"--color-gradient-background-1":`${d[0]}`,"--color-gradient-background-2":`${d[1]}`,"--color-gradient-foreground-1":`${f[0]}`,"--color-gradient-foreground-2":`${f[1]}`,"--color-accordion-1":`${p[0]}`,"--color-accordion-2":`${p[1]}`,"--default-opacity-1":`${h-.1}`,"--default-opacity-2":`${h+.1}`})}}r.default("GetSkinInfo").then(u).catch(e=>{l.warning(e)}),i.NativeCallModule.nativeCall.AttachNativeEvent("OnChangeSkin",u)},56:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),o=n(21),a=n(6);!function(e){e.getDownloadDir=function(){return r(this,void 0,void 0,function*(){return new Promise(e=>{a.NativeCallModule.nativeCall.CallNativeFunction("GetDownloadDir",(t,n)=>{t===o.NativeFunctionErrorCode.Success?e(n):e(i.ThunderUtil.getDefaultDownloadDir())})})})},e.getConfigValueAW=function(e,t,n){return r(this,void 0,void 0,function*(){return new Promise(r=>{a.NativeCallModule.nativeCall.CallNativeFunction("GetConfigValue",e,t,n,(e,t)=>{e===o.NativeFunctionErrorCode.Success?r(t):r(n)})})})},e.isSingleBtTask=function(e){return r(this,void 0,void 0,function*(){return new Promise(t=>{a.NativeCallModule.nativeCall.CallNativeFunction("IsSingleBtTask",e,(e,n)=>{e===o.NativeFunctionErrorCode.Success?t(n):t(!1)})})})}}(t.NativeCallAWNS||(t.NativeCallAWNS={}))},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(8);let o=["apk","avi","chm","doc","exe","flv","ipa","ipsw","iso","mkv","mov","mp4"];o.push(...["mpg","pdf","ppt","rar","rm","rmvb","txt","wmv","xls"]);const a=".xv;.xlmv;.3gp;.3gp2;.3gpp;.3gpp2;.3mm;.3p2;.60d;.787;.aaf;.aep;.aepx;.aet;.aetx;.ajp;.ale;.amv;.amx;.arf;\n  .asf;.ass;.asx;.avb;.avd;.avi;.avp;.avs;.avs;.axm;.bdm;.bdmv;.bik;.bix;.bmk;.bnp;.box;.bs4;.bsf;.byu;.camproj;.camrec;.clpi;.cmmp;\n  .cmmtpl;.cmproj; .cmrec;.cpi;.cst;.cvc;.d2v;.d3v;.dat;.dav;.dce;.dck;.ddat;.dif;.dir;.divx;.dlx; .dmb;.dmsm;.dmsm3d;.dmss;.dnc;.dpg;\n  .dream;.dsy;.dv;.dv-avi;.dv4;.dvdmedia; .dvr-ms;.dvx;.dxr;.dzm;.dzp;.dzt;.edl;.evo;.eye;.f4p;.f4v;.fbr;.fbr;.fbz;.fcp; .flc;.flh;\n  .fli;.flv;.flx;.gfp;.gl;.grasp;.gts;.gvi;.gvp;.hdmov;.hkm;.ifo; .imovieproj;.imovieproject;.iva;.ivf;.ivr;.ivs;.izz;.izzy;.jts;.jtv;\n  .k3g;.lrec; .lsf;.lsx;.m15;.m1pg;.m1v;.m21;.m21;.m2a;.m2p;.m2t;.m2ts;.m2v;.m4e;.m4u;.m4v; .m75;.meta;.mgv;.mj2;.mjp;.mjpg;.mkv;.mmv;\n  .mnv;.mod;.modd;.moff;.moi;.moov;.mov; .movie;.mp21;.mp21;.mp2v;.mp4;.mp4v;.mpe;.mpeg;.mpeg4;.mpf;.mpg;.mpg2;.mpgindex; .mpl;.mpls;\n  .mpsub;.mpv;.mpv2;.mqv;.msdvd;.msh;.mswmm;.mts;.mtv;.mvb;.mvc;.mvd; .mve;.mvp;.mvy;.mxf;.mys;.ncor;.nsv;.nuv;.nvc;.ogm;.ogv;.ogx;.osp;\n  .par;.pds;.pgi; .piv;.pjs;.playlist;.pmf;.pns;.ppj;.prel;.pro;.prproj;.prtl;.psb;.psh;.pssd;.pva;.pvr;.pxv; .qt;.qtch;.qtl;.qtm;.qtz;\n  .r3d;.rcproject;.rdb;.rec;.rm;.rmd;.rmp;.rms;.rmvb;.roq; .rp;.rts;.rts;.rum;.rv;.sbk;.sbt;.scc;.scm;.scn;.screenflow;.sec;.seq;.sfd;\n  .sfvidcap;.smi;.smil;.smk;.sml;.smv;.spl;.srt;.ssa;.ssm;.stl;.str;.stx;.sub;.svi;.swf;.swi; .swt;.tda3mt;.tivo;.tix;.tod;.tp;.tp0;.tpd;\n  .tpr;.trp;.ts;.tts;.tvs;.vc1;.vcpf;.vcr; .vcv;.vdo;.vdr;.veg;.vem;.vf;.vfw;.vfz;.vgz;.vid;.viewlet;.viv;.vivo;.vlab;.vob; .vp3;.vp6;.vp7;\n  .vpj;.vro;.vs4;.vse;.vsp;.w32;.wcp;.webm;.wlmp;.wm;.wmd;.wmmp; .wmv;.wmx;.wp3;.wpl;.wtv;.wvx;.xfl;.xvid;.yuv;.zm1;.zm2;.zm3;.zmv;",s=".exe;.com;.bat;.msi;.apk;.ipa;.iso;.mds;.bin;.img;.ipsw;",l=".txt;.html;.htm;.shtml;.xhtml;.chm;.hlp;.inf;.rtf;.tex;.ltx;.doc;.docx;.wps;.ppt;.pptx;.odf;.pdf;.xls;.xlsx;.docm;.\n  dot;.dotm;.dotx;.email;.rp;.pps;.et;.ett;.xlt;.dbf;.prn;.csv;.mht;.mhtml;.xml;.wpt;.dps;.dpt;.pot;.ppsx;.epub;.mobi;.lit;.wdl;.ceb;.abm;\n  .pdg;.umb;.ibooks;",u=".aiff;.cue;.m3u;.au;.cdda;.raw;.wav;.flac;.tak;.mp3;.aac;.wma;.m4a;.mid;.mka;.mp2;.mpa;.mpc;.ape;.ofr;\n  .ogg;.ra;.wv;.tta;.ac3;.dts;.nsf;.mod;.s3m;.xm;.it;.vst;",c=".psd;.tga;.gif;.jpeg;.jpg;.jp2;.bmp;.ico;.pcx;.png;.pbm;.pgm;.ppm;.pnm;.pgf;.arw;.cr2;.crw;.dcr;.dng;.erf;.kdc;.mef;\n  .mos;.mrw;.nef;.nrw;.orf;.pef;.ptx;.r3d;.raf;.raw;.rw2;.srf;.srw;.x3f;.ras;.tiff;.tif;.wbmp;.ilbm;.lbm;.iff;.ico;",d=".zip;.zipx;.rar;.7z;.isz;.cab;.arj;.ace;.alz;.uue;.tar;.gz; .gzip;.tgz;.tpz;.bzip2;.bz2;.bz;.tbz;.tbz2;.xz;.txz;\n  .lzh;.lha;.zt;.az; .xpi;.jar;.wim;.swm;.rpm;.xar;.deb;.dmg;.hfs;.cpio;.lzma;.lzma86;.split;",f=".torrent;",p=".3gp;.asf;.avi;.divx;.f4v;.flv;.mkv;.mov;.movie;.mp4;.mpeg;.mpeg4;.mpg;.mpg2;.rm;.rmvb;.rp;.swf;.tp;.tp0;.ts;.wmv",h=".exe;.com;.bat;.msi",m=".wav;.flac;.MP3;.AAC;.WMA;.M4A;.MID;.APE;.OGG;.RA;.mod",g=".psd;.tga;.gif;.jpeg;.jpg;.jp2;.bmp;.ico;.pcx;.pdf;.png;.pbm;.pgm;.ppm;.pnm;.pgf;.arw;.cr2;.crw;.dcr;.dng;.erf;.kdc;\n  .mef;.mos;.mrw;.nef;.nrw;.orf;.pef;.ptx;.r3d;.raf;.raw;.rw2;.srf;.srw;.x3f;.ras;.tiff;.tif;.wbmp;.ilbm;.lbm;.iff;.ico",v=".txt;.html;.htm;.shtml;.xhtml;.chm;.hlp;.inf;.rtf;.tex;.ltx;.doc;.docx;.wps;.ppt;.pptx;.odf;.pdf;.xls;.xlsx;.docm;.dot;.dotm;.dotx;.email;.rp;.pps",y=".rar;.tar;.zip;.gzip;.cab;.uue;.arj;.bz2;.lzh;.jar;.ace;.iso;.7-zip;.7z";!function(e){let t;function n(e){let n=t.Unkown,i=r.extname(e);return void 0===i||""===i||i.length<2?n=t.Unkown:p.indexOf(i)>-1?n=t.Video:h.indexOf(i)>-1?n=t.Software:v.indexOf(i)>-1?n=t.Doc:m.indexOf(i)>-1?n=t.Music:g.indexOf(i)>-1?n=t.Pic:y.indexOf(i)>-1&&(n=t.Zip),i.length>1&&".z"===i.slice(0,2)&&/[0-9]+/.test(i.substring(2))&&(n=t.Zip),n}e.getTaskIcon=function(e,t){let n="";do{if(t===i.DownloadKernel.TaskType.Bt){n="xlx-icon-type-bt-file";break}if(t===i.DownloadKernel.TaskType.Group){n="xlx-icon-type-group";break}n="xlx-icon-type-unknown";let p=r.extname(e);if(""===p||p.length<2)break;let h=(p=p.toLowerCase()).substring(1);if(o.indexOf(h)>-1){n="doc"===p?"xlx-icon-type-word":"xlx-icon-type-"+h;break}if(a.indexOf(p)>-1){n="xlx-icon-type-video";break}if(s.indexOf(p)>-1){n="xlx-icon-type-install",[".mds",".bin",".img"].indexOf(p)>-1&&(n="xlx-icon-type-iso");break}if(l.indexOf(p)>-1){if(n="xlx-icon-type-doc",[".htm",".html",".mht"].indexOf(p)>-1){n="xlx-icon-type-link";break}if("docx"===p){n="xlx-icon-type-word";break}if("xlsx"===p){n="xlx-icon-type-xls";break}if("pptx"===p){n="xlx-icon-type-ppt";break}break}if(u.indexOf(p)>-1){n="xlx-icon-type-music";break}if(c.indexOf(p)>-1){n="xlx-icon-type-pic";break}if(d.indexOf(p)>-1){n="xlx-icon-type-rar";break}if(f.indexOf(p)>-1){n="xlx-icon-type-bt-link";break}}while(0);return n},function(e){e[e.Unkown=0]="Unkown",e[e.Video=1]="Video",e[e.Software=2]="Software",e[e.Doc=3]="Doc",e[e.Music=4]="Music",e[e.Pic=5]="Pic",e[e.Zip=6]="Zip",e[e.Bt=7]="Bt"}(t=e.FileExtType||(e.FileExtType={})),e.getTaskFileType=function(e,n){let i=t.Unkown;return void 0===n&&void 0!==e&&(n=r.extname(e)),void 0===n||""===n||n.length<2?i=t.Unkown:a.indexOf(n)>-1?i=t.Video:s.indexOf(n)>-1?i=t.Software:l.indexOf(n)>-1?i=t.Doc:u.indexOf(n)>-1?i=t.Music:c.indexOf(n)>-1?i=t.Pic:d.indexOf(n)>-1?i=t.Zip:f.indexOf(n)>-1&&(i=t.Bt),n.length>1&&".z"===n.slice(0,2)&&/[0-9]+/.test(n.substring(2))&&(i=t.Zip),i},e.getGroupFileType=n,e.getDefaultGroupPrefix=function(e){let r="任务组";do{if(void 0===e||null===e||0===e.length)break;let i=[];for(let e=0;e<7;e++)i[e]=0;for(let t of e){let e=n(t);i[e]=i[e]+1}let o=t.Unkown;for(let e=1;e<i.length;e++)i[e]>i[o]&&(o=e);o===t.Video?r="视频任务组":o===t.Software?r="程序任务组":o===t.Music?r="音乐任务组":o===t.Pic?r="图片任务组":o===t.Doc?r="文档任务组":o===t.Zip&&(r="压缩包任务组")}while(0);return r},e.compareVersion=function(e,t){let n=-2;do{if(null===e||void 0===e||""===e||null===t||void 0===t||""===t)break;let r=0,i=0,o=0,a=0,s=0,l=0,u=0,c=0,d=e.split(/\./);if(null===d||void 0===d||d.length<3)break;if(r=Number(d[0]),i=Number(d[1]),o=Number(d[2]),null!==d[3]&&void 0!==d[3]&&""!==d[3]&&(a=Number(d[3])),null===(d=t.split(/\./))||void 0===d||d.length<3)break;if(s=Number(d[0]),l=Number(d[1]),u=Number(d[2]),null!==d[3]&&void 0!==d[3]&&""!==d[3]&&(c=Number(d[3])),s>r){n=1;break}if(s<r){n=-1;break}if(l>i){n=1;break}if(l<i){n=-1;break}if(u>o){n=1;break}if(u<o){n=-1;break}if(0!==a){if(c>a){n=1;break}if(c<a){n=-1;break}}n=0}while(0);return n}}(t.TaskUtilHelper||(t.TaskUtilHelper={}))},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(86),i=n(69);!function(e){e.getWindowPreference=function(e=!1){let t=i.default(),n={};return t&&t.colors&&"string"==typeof t.colors.colorPrimaryControl1&&(n.hoverBackgroundColor=e?parseInt(r.ColorUtilNS.rgbaStringToHexWith0xBegin(t.colors.colorPrimaryControl1),16):r.ColorUtilNS.rgbaStringToHexWith0xBegin(t.colors.colorPrimaryControl1)),n}}(t.WindowPreferenceNS||(t.WindowPreferenceNS={}))},59:function(e,t,n){(function(e){var n=200,r="__lodash_hash_undefined__",i=800,o=16,a=9007199254740991,s="[object Arguments]",l="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",d="[object Null]",f="[object Object]",p="[object Proxy]",h="[object Undefined]",m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[u]=v["[object Map]"]=v["[object Number]"]=v[f]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var y="object"==typeof global&&global&&global.Object===Object&&global,_="object"==typeof self&&self&&self.Object===Object&&self,w=y||_||Function("return this")(),C="object"==typeof t&&t&&!t.nodeType&&t,b=C&&"object"==typeof e&&e&&!e.nodeType&&e,T=b&&b.exports===C,k=T&&y.process,S=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),x=S&&S.isTypedArray;function N(e,t){return"__proto__"==t?void 0:e[t]}var E,P,D,R=Array.prototype,I=Function.prototype,M=Object.prototype,O=w["__core-js_shared__"],A=I.toString,L=M.hasOwnProperty,F=(E=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",U=M.toString,W=A.call(Object),B=RegExp("^"+A.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=T?w.Buffer:void 0,H=w.Symbol,z=w.Uint8Array,G=j?j.allocUnsafe:void 0,$=(P=Object.getPrototypeOf,D=Object,function(e){return P(D(e))}),V=Object.create,q=M.propertyIsEnumerable,K=R.splice,Q=H?H.toStringTag:void 0,X=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Y=j?j.isBuffer:void 0,J=Math.max,Z=Date.now,ee=Ce(w,"Map"),te=Ce(Object,"create"),ne=function(){function e(){}return function(t){if(!Ie(t))return{};if(V)return V(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=this.__data__=new ie(e);this.size=t.size}function se(e,t){var n=Ne(e),r=!n&&xe(e),i=!n&&!r&&Pe(e),o=!n&&!r&&!i&&Oe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!L.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,l))||s.push(u);return s}function le(e,t,n){(void 0===n||Se(e[t],n))&&(void 0!==n||t in e)||de(e,t,n)}function ue(e,t,n){var r=e[t];L.call(e,t)&&Se(r,n)&&(void 0!==n||t in e)||de(e,t,n)}function ce(e,t){for(var n=e.length;n--;)if(Se(e[n][0],t))return n;return-1}function de(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}re.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return n===r?void 0:n}return L.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:L.call(t,e)},re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?r:t,this},ie.prototype.clear=function(){this.__data__=[],this.size=0},ie.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0||(n==t.length-1?t.pop():K.call(t,n,1),--this.size,0))},ie.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},ie.prototype.has=function(e){return ce(this.__data__,e)>-1},ie.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(ee||ie),string:new re}},oe.prototype.delete=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return we(this,e).get(e)},oe.prototype.has=function(e){return we(this,e).has(e)},oe.prototype.set=function(e,t){var n=we(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.clear=function(){this.__data__=new ie,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ie){var i=r.__data__;if(!ee||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new oe(i)}return r.set(e,t),this.size=r.size,this};var fe,pe=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[fe?a:++r];if(!1===t(i[s],s,i))break}return e};function he(e){return null==e?void 0===e?h:d:Q&&Q in Object(e)?function(e){var t=L.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var i=U.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return U.call(e)}(e)}function me(e){return Me(e)&&he(e)==s}function ge(e){return!(!Ie(e)||F&&F in e)&&(De(e)?B:m).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ve(e){if(!Ie(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Te(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}function ye(e,t,n,r,i){e!==t&&pe(t,function(o,a){if(Ie(o))i||(i=new ae),function(e,t,n,r,i,o,a){var s=N(e,n),l=N(t,n),u=a.get(l);if(u)return void le(e,n,u);var c=o?o(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var p=Ne(l),h=!p&&Pe(l),m=!p&&!h&&Oe(l);c=l,p||h||m?Ne(s)?c=s:Me(w=s)&&Ee(w)?c=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(d=!1,c=function(e,t){if(t)return e.slice();var n=e.length,r=G?G(n):new e.constructor(n);return e.copy(r),r}(l,!0)):m?(d=!1,g=l,v=!0?(y=g.buffer,_=new y.constructor(y.byteLength),new z(_).set(new z(y)),_):g.buffer,c=new g.constructor(v,g.byteOffset,g.length)):c=[]:function(e){if(!Me(e)||he(e)!=f)return!1;var t=$(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==W}(l)||xe(l)?(c=s,xe(s)?c=function(e){return function(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?de(n,s,l):ue(n,s,l)}return n}(e,Ae(e))}(s):(!Ie(s)||r&&De(s))&&(c=function(e){return"function"!=typeof e.constructor||Te(e)?{}:ne($(e))}(l))):d=!1}var g,v,y,_;var w;d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l));le(e,n,c)}(e,t,a,n,ye,r,i);else{var s=r?r(N(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),le(e,a,s)}},Ae)}function _e(e,t){return ke(function(e,t,n){return t=J(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=J(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ue),e+"")}function we(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ce(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ge(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&g.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||M)}var ke=function(e){var t=0,n=0;return function(){var r=Z(),a=o-(r-n);if(n=r,a>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ue);function Se(e,t){return e===t||e!=e&&t!=t}var xe=me(function(){return arguments}())?me:function(e){return Me(e)&&L.call(e,"callee")&&!q.call(e,"callee")},Ne=Array.isArray;function Ee(e){return null!=e&&Re(e.length)&&!De(e)}var Pe=Y||function(){return!1};function De(e){if(!Ie(e))return!1;var t=he(e);return t==u||t==c||t==l||t==p}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ie(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Me(e){return null!=e&&"object"==typeof e}var Oe=x?function(e){return function(t){return e(t)}}(x):function(e){return Me(e)&&Re(e.length)&&!!v[he(e)]};function Ae(e){return Ee(e)?se(e,!0):ve(e)}var Le,Fe=(Le=function(e,t,n){ye(e,t,n)},_e(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Le.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Ie(n))return!1;var r=typeof t;return!!("number"==r?Ee(n)&&be(t,n.length):"string"==r&&t in n)&&Se(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Le(e,a,n,i)}return e}));function Ue(e){return e}e.exports=Fe}).call(this,n(87)(e))},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(18),o=n(19),a=n(24),s=n(25);!function(e){let t;!function(e){e[e.Unknown=-1]="Unknown",e[e.Success=0]="Success",e[e.FunctionNotExist=1]="FunctionNotExist",e[e.ParamaterError=2]="ParamaterError",e[e.CallFailed=3]="CallFailed"}(t=e.NativeCallErrorCode||(e.NativeCallErrorCode={}));class n{constructor(e,t,n){this.maxId=e,this.minId=t,this.invalidId=n}generateId(){return this.minId===this.maxId?this.invalidId:this.minId++}isInvalidId(e){return e===this.invalidId}}e.IdGenerator=n;const l=0;e.idGenerator=new n(1e7,1,l);class u{constructor(){this.jsCallbacks=new Map,this.eventJsCallbakcs=new Map,this.jsRegisterFunctions=new Map,this.targetCommunitorInfo=s.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfoByContext(a.CommonIPCBase.mainRendererContext),this.bindMsgListeners(),this.notifyNativeCallReady()}CallNativeFunction(t,...n){do{if(r.isNullOrUndefined(t)||0===t.length){i.error("funcName is empty");break}i.information("funcName = ",t),this.printArgs(n);let a=l;for(let t=0;t<n.length;++t)if(r.isFunction(n[t])){let r=e.idGenerator.generateId(),i=n[t];this.jsCallbacks.set(r,i),t===n.length-1?(a=r,n.pop()):n[t]=r}s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCCallNativeFunction,args:[t,a].concat(n)})}while(0)}AttachNativeEvent(t,n){let o=void 0;do{if(r.isNullOrUndefined(t)||0===t.length){i.error("eventName is empty");break}if(r.isNullOrUndefined(n)){i.error("callback is empty");break}let a=e.idGenerator.generateId();if(e.idGenerator.isInvalidId(a)){i.error("id error");break}if(this.eventJsCallbakcs.has(t))this.eventJsCallbakcs.get(t).set(a,n);else{let e=new Map;e.set(a,n),this.eventJsCallbakcs.set(t,e)}o=a}while(0);return o}DetachNativeEvent(e,t){do{if(r.isNullOrUndefined(e)||0===e.length){i.error("eventName is empty");break}if(r.isNullOrUndefined(t)){i.error("callback is empty");break}if(!this.eventJsCallbakcs.has(e)){i.error(`event: ${e} doesnot have listener`);break}if(!this.eventJsCallbakcs.get(e).has(t)){i.error(`event: ${e} doesnot have the listener of id=${t}`);break}this.eventJsCallbakcs.get(e).delete(t)}while(0)}CheckNativeFunction(t,n){do{if(r.isNullOrUndefined(t)||0===t.length){i.error("funcName is empty");break}if(r.isNullOrUndefined(n)){i.error("callback is empty");break}i.information("funcName = ",t);let a=e.idGenerator.generateId();this.jsCallbacks.set(a,n),s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCCheckNativeFunction,args:[t,a]})}while(0)}RegisterJSFunction(e,n){let o=t.ParamaterError;do{if(r.isNullOrUndefined(e)||0===e.length){i.error("funcName is empty");break}if(r.isNullOrUndefined(n)){i.error("jsFunc is empty");break}this.jsRegisterFunctions.set(e,n),o=t.Success}while(0);return o}bindMsgListeners(){s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCCallJsFunctionById,e=>{this.handleCallJsFunctionById(e.msg.args)}),s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCCallJsFunctionByName,e=>{this.handleCallJsFunctionByName(e.msg.args)}),s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCNativeFireEvent,e=>{this.handleNativeFireEvent(e.msg.args)})}handleCallJsFunctionById(t){do{let n=t[0];if(!r.isNumber(n)){i.error(`id error id = ${n}`);break}if(e.idGenerator.isInvalidId(n)){i.error(`id = ${n} invalid`);break}if(!this.jsCallbacks.has(n)){i.error(`jsCallbacks[${n}] is null`);break}t.splice(0,1),this.jsCallbacks.get(n).apply(null,t)}while(0)}handleCallJsFunctionByName(e){do{let t=e[0];if(!r.isString(t)){i.error(`funcName error funcName = ${t}`);break}if(!this.jsRegisterFunctions.has(t)){i.error(`jsRegisterFunctions[${t}] is null`);break}e.splice(0,1),this.jsRegisterFunctions.get(t).apply(null,e)}while(0)}handleNativeFireEvent(e){do{let t=e[0];if(!r.isString(t)){i.warning(`eventName error eventName = ${t}`);break}if(!this.eventJsCallbakcs.has(t)){i.warning(`eventJsCallbakcs[${t}] is null`);break}e.shift(),this.eventJsCallbakcs.get(t).forEach((t,n,o)=>{i.information(`value = ${t}, key = ${n}, map = ${o}`),r.isNullOrUndefined(t)||t.apply(null,e)})}while(0)}notifyNativeCallReady(){s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCNativeCallReady,args:[s.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfo()]})}printArgs(e){for(let t in e)i.information(`index ${t} = `,e[t])}}e.NativeCallImpl=u,e.nativeCall=new u}(t.NativeCallModule||(t.NativeCallModule={}))},620:function(e,t,n){"use strict";n.r(t);var r=n(239),i=n(196);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\views\\ext-filters.vue",t.default=s.exports},621:function(e,t,n){"use strict";n.r(t);var r=n(242),i=n(198);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\views\\ext-filter-item.vue",t.default=s.exports},63:function(e,t,n){"use strict";n.r(t);var r=n(64),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},635:function(e,t,n){"use strict";var r=function(){var e=this.$createElement;return(this._self._c||e)(this.curView,{tag:"component",attrs:{buttonText:this.downloadTipText},nativeOn:{dragstart:function(e){e.preventDefault()}}})},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},64:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4),s=n(70),l=n(17),u=n(10),c=n(56),d=n(9),f=n(14),p=n(204),h=n(1),m=n(15),g=h.default.getLogger("ThunderNewTask.path-selector");let v=class extends a.Vue{constructor(){super(...arguments),this.timerId=-1,this.freeSpace=0,this.totalSpace=0,this.valid=!0,this.optionsAlias={},this.isDanger=!1,this.isWarn=!1}get options(){return[...Object.values(this.optionsAlias)]}onPathChange(e){return i(this,void 0,void 0,function*(){do{let t=e;if("私人空间"===e){let e=yield m.default("GetUserID");if(null===e||void 0===e||""===e)break;t=yield c.NativeCallAWNS.getConfigValueAW("PrivateSpaceDefaultPath",e,"")}this.totalSpace=l.ThunderHelper.getPartitionSpace(t),this.freeSpace=l.ThunderHelper.getFreePartitionSpace(t)}while(0)})}onDanger(e){this.$emit("danger",e)}onAppendDirsChange(e,t){if(void 0!==t&&null!==t&&t.length>0)for(let e of t)this.optionsAlias.hasOwnProperty(e)&&this.$delete(this.optionsAlias,e);if(void 0!==e&&null!==e&&e.length>0)for(let t of e)"\\"===t[t.length-1]&&(t=t.slice(0,t.length-1)),this.optionsAlias.hasOwnProperty(t)||this.$set(this.optionsAlias,t,t)}created(){setTimeout(()=>{let e=this.value;void 0!==this.defaultDir&&null!==this.defaultDir&&(this.$emit("input",this.defaultDir),e=this.defaultDir);let t=o.remote.app.getPath("desktop"),n=o.remote.app.getPath("documents");this.$set(this.optionsAlias,t,"桌面"),this.$set(this.optionsAlias,n,"我的文档"),p.HistoryPathsNS.getHistoryPaths().then(e=>{if(void 0!==e){let r=e.indexOf(t);-1!==r&&e.splice(r,1);let i=e.indexOf(n);if(-1!==i&&e.splice(i,1),e.length>0)for(let t of e)"\\"===t[t.length-1]&&(t=t.slice(0,t.length-1)),this.optionsAlias.hasOwnProperty(t)||this.$set(this.optionsAlias,t,t)}}),this.onPathChange(e),this.enablePrivateSpace&&(o.ipcRenderer.once(f.ThunderChannelList.channelMRGetPrivateSpaceInfoResult,(e,t,n)=>i(this,void 0,void 0,function*(){g.information("GetPrivateSpaceInfoResult isPrivateSpaceOpen:",t,", currentCategoryId:",n);if(this.options.includes("私人空间")||this.$set(this.optionsAlias,"私人空间","私人空间"),-1!==n)this.$emit("input","私人空间");else{let e=yield c.NativeCallAWNS.getDownloadDir();this.$emit("input",e)}this.$emit("private",t)})),o.ipcRenderer.send(f.ThunderChannelList.channelRMGetPrivateSpaceInfo))},500),this.timerId=setInterval(()=>i(this,void 0,void 0,function*(){if(void 0!==this.value&&null!==this.value){if("私人空间"===this.value)this.valid=!0;else if(this.value.length>=3){let e=this.value.slice(0,3);this.valid=yield d.FileSystemAWNS.existsAW(e)}else this.valid=!1;this.valid&&this.onPathChange(this.value)}}),1e3)}get spaceColor(){let e="";return this.isDanger?e="is-danger":this.isWarn&&(e="is-warn"),e}get freeSpaceFormat(){let e="";do{if("string"!=typeof this.value)break;if(-1===this.freeSpace)break;if(""===this.value){this.isDanger=!1;break}if(this.value.length<3){this.isDanger=!1;break}if(!this.valid){this.isDanger=!1;break}if(this.isDanger=!1,this.isWarn=!1,this.needSpace>=this.freeSpace){this.isDanger=!0,e="磁盘空间不足";break}this.freeSpace/this.totalSpace<=.3&&(this.isWarn=!0),e="剩余:"+u.ThunderUtil.formatSize(this.freeSpace)}while(0);return e}handleInput(e){do{let t=!1;for(let n in this.optionsAlias)if(e===this.optionsAlias[n]){t=!0,this.$emit("input",n,!0);break}if(t)break;this.$emit("input",e,!0)}while(0)}handleContextMenu(){return i(this,void 0,void 0,function*(){const{MenuSkinNS:e}=yield Promise.resolve().then(()=>n(54));e.popEditableDefaultContextMenu()})}handleChangePath(){const e=o.remote.dialog;let t=o.remote.getCurrentWindow(),n=e.showOpenDialog(t,{defaultPath:this.value,properties:["openDirectory"]});void 0!==n&&this.$emit("input",n[0],!0)}mounted(){}destroyed(){-1!==this.timerId&&(clearTimeout(this.timerId),this.timerId=-1)}};r([a.Prop({})],v.prototype,"appendDirs",void 0),r([a.Prop({})],v.prototype,"defaultDir",void 0),r([a.Prop({default:!0})],v.prototype,"enablePrivateSpace",void 0),r([a.Prop({default:""})],v.prototype,"value",void 0),r([a.Prop({default:0})],v.prototype,"needSpace",void 0),r([a.Watch("value",{immediate:!0})],v.prototype,"onPathChange",null),r([a.Watch("isDanger",{immediate:!0})],v.prototype,"onDanger",null),r([a.Watch("appendDirs",{immediate:!0})],v.prototype,"onAppendDirsChange",null),v=r([a.Component({components:{SelectNative:s.default}})],v),t.default=v},68:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),o=n(8),a=n(17);let s=null;const l=n(1).default.getLogger("url.helper");!function(e){function t(e){let t=!0;if("string"==typeof e)if(40===e.length||32===e.length){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>127){t=!1;break}}else t=!1;else t=!1;return t}function u(e,n=!0){n=void 0===n||n;let r=!1;do{if("string"!=typeof e||""===e)break;let i=e.trim();if(""===i)break;if(a.ThunderHelper.getTaskTypeFromUrl(i)===o.DownloadKernel.TaskType.Unkown){if(!n)break;t(i)&&(r=!0)}else r=!0;r||i.match(/^file:\/\/\//)&&(r=!0)}while(0);return r}e.isMagnetCode=t,e.fixMagnetUrl=function(e){let n="";do{if("string"!=typeof e||""===e)break;if(""===(n=e.trim()))break;a.ThunderHelper.getTaskTypeFromUrl(n)===o.DownloadKernel.TaskType.Unkown&&t(n)&&(n="magnet:?xt=urn:btih:"+n)}while(0);return n},e.isUrlValid=u,e.isBirdKey=function(e){return e?e.match(/#X([0-9a-zA-Z]{8}){1,2}#/g):null},e.isCustomProtocol=function(e){return r(this,void 0,void 0,function*(){let t=!1;null===s&&(s=yield Promise.resolve().then(()=>n(29)));let r=s.parse(e);do{if(null===r||void 0===r)break;let e=r.protocol;if("magnet:"===e){t=!0;break}if("thunder:"===e){t=!0;break}if("ed2k:"===e){t=!0;break}}while(0);return t})},e.isP2spOrEmuleUrl=function(e){let t=!1;do{if(null===e||void 0===e||""===e)break;let n=e.trim();if(""===n)break;let r=a.ThunderHelper.getTaskTypeFromUrl(n);if(r===o.DownloadKernel.TaskType.P2sp||r===o.DownloadKernel.TaskType.Emule){t=!0;break}}while(0);return t},e.isSupportUrl=function(e){e=e.toLowerCase();let t=!1;do{if("http://"===e.substr(0,"http://".length)){t=!0;break}if("https://"===e.substr(0,"https://".length)){t=!0;break}if("ftp://"===e.substr(0,"ftp://".length)){t=!0;break}if("ed2k://"===e.substr(0,"ed2k://".length)){t=!0;break}if("thunder://"===e.substr(0,"thunder://".length)){t=!0;break}if("magnet:?"===e.substr(0,"magnet:?".length)){t=!0;break}}while(0);return t};let c=".edu;.gov;.mil;.hk;.tw;.com.tw;.com.tw;.aero;.biz;.coop;.info;.museum;.name;.pro;";c+=".com;.cn;.xin;.net;.top;.xyz;.wang;.shop;.site;.club;.cc;.fun;.online;.biz;.red;.link;.ltd;.mobi;.info;.org;",c+=".com.cn;.net.cn;.org.cn;.gov.cn;.name;.vip;.work;.tv;.co;.kim;.group;.tech;.store;.ren;.ink;.pub;.live;.wiki;.design;";const d=(c+=".me").split(";");function f(e){let t=!1;do{if(void 0===e||null===e||""===e)break;if(-1!==d.indexOf(e)){t=!0;break}}while(0);return t}function p(e){let t=null;do{if(void 0===e||null===e)break;if(""===(e=e.trim()))break;let n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(e);if(null===n)break;l.information("url parse result ",n),t={};let r=["url","scheme","slash","host","port","path","query","hash"];for(let e=0;e<r.length;e++)t[r[e]]=n[e];l.information("url parse",t)}while(0);return t}e.isUsualDomainSuffix=f,e.urlParse=p,e.isUrl=function(e){let t=!1,n=e;do{if(void 0===e||null===e)break;if(u(e,!1)){t=!0;break}if(e.trim().match(/^file:\/\/\//)){t=!0;break}let r=p(e);if(null===r){l.information("url parse failed");break}if(void 0===r.host||null===r.host)break;if(void 0!==r.scheme){t=!0;break}let o=r.host.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(o){if(l.information("url parse is ip",o),Number(o[1])<=0||Number(o[1])>255){t=!1;break}if(Number(o[2])<0||Number(o[2])>255){t=!1;break}if(Number(o[4])<0||Number(o[4])>255){t=!1;break}if(Number(o[4])<0||Number(o[4])>255){t=!1;break}t=!0,void 0===r.scheme&&void 0!==r.port&&(n=`http://${e}`);break}if(r.host.match(/\.{2,}/)){l.information("url parse has multi dot"),t=!1;break}let a=i.extname(r.host);if(""===a)break;if(f(a)){t=!0;break}}while(0);return l.information("url parse isUrl",t),{ret:t,suggest:n}},e.isFileNameValid=function(e){let t=!1;do{if(void 0===e)break;if(null===e)break;if(""===(e=e.trim()))break;if("."===e[0])break;if(e.match(/[\/\\"<>\?\*|]/))break;t=!0}while(0);return t},e.isSuffixNeedDownload=function(e){let t=!0;do{if(void 0===e)break;if(""===e||"."===e)break;if(e=e.toLowerCase(),-1!==["txt","url","html","htm","mht","nfo"].indexOf(e)){t=!1;break}}while(0);return t}}(t.URLHelperNS||(t.URLHelperNS={}))},681:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{fullscreen:"",visible:"","custom-class":"xlx-dialog xlx-dialog--large"},on:{close:e.handleClose}},[n("h2",{attrs:{slot:"header"},slot:"header"},[e._v("新建下载任务")]),e._v(" "),n("ext-filters",{attrs:{exts:e.taskTypeFilter,excludes:e.excludeFilters},on:{change:e.handleFilterChange}}),e._v(" "),n("down-info-container",{attrs:{excludes:e.excludeFilters}}),e._v(" "),n("td-tooltip",{staticStyle:{display:"block"},attrs:{content:e.pathTips,visible:e.isShowPathTips,placement:"top"}},[n("path-selector",{attrs:{value:e.savePath,appendDirs:e.appendDirs,needSpace:e.selectSize},on:{input:e.handleChangePath,danger:e.handleSpaceDanger}})],1),e._v(" "),n("down-mode",{attrs:{slot:"footer",disabled:e.downloadDisabled,buttonTipText:e.buttonText,mode:e.downMode},on:{download:e.handleDownload},slot:"footer"})],1)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},684:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{visible:"","custom-class":"xlx-dialog"},on:{close:e.handleClose,"more-toggle":e.handleMoreToggle}},[n("div",{staticClass:"xlx-resource"},[n("i",{staticClass:"xlx-icon-type",class:e.fileTypeClass}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"xlx-resource__name"},[n("p",{staticClass:"xlx-resource__text",on:{click:function(t){return t.stopPropagation(),e.handleFileNameClick(t)}}},[e._v(e._s(e.newTaskData.data.fileName))]),e._v(" "),n("a",{staticClass:"xlx-resource__rename",attrs:{href:"javascript:;"}},[n("i",{staticClass:"td-icon-rename",on:{click:function(t){return t.stopPropagation(),e.renameClick(t)}}})])]),e._v(" "),n("select-native",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],attrs:{value:e.newTaskData.data.fileName,editable:"",options:e.options},on:{blur:e.handleRenameBlur,input:e.handleRename},nativeOn:{click:function(e){e.stopPropagation()}}}),e._v(" "),n("span",{staticClass:"xlx-resource__size"},[e._v(e._s(e.tasksize))])],1),e._v(" "),n("td-tooltip",{staticStyle:{display:"block"},attrs:{content:e.pathTips,visible:e.isShowPathTips,placement:"top"}},[n("path-selector",{attrs:{value:e.savePath,appendDirs:e.appendDirs,needSpace:e.newTaskData.data.fileSize},on:{input:e.handleChangePath,danger:e.handleSpaceDanger}})],1),e._v(" "),n("div",{staticClass:"xlx-bt-setting",attrs:{slot:"more"},slot:"more"},[n("ul",[n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{model:{value:e.neverShowPanel,callback:function(t){e.neverShowPanel=t},expression:"neverShowPanel"}},[e._v("在浏览器中新建下载任务时不再弹出该面板")])],1),e._v(" "),n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{attrs:{disabled:!e.isP2sp,value:e.newTaskData.setting.onlyOrigin},on:{input:e.handleOnlyOrigin}},[e._v("只从原始地址下载")]),e._v(" "),n("p",{staticClass:"xlx-bt-setting__number"},[n("span",{staticClass:"td-input__label"},[e._v("原始地址线程数(1-10)")]),e._v(" "),n("limit-input",{attrs:{isNumber:!0,readonly:!e.newTaskData.setting.onlyOrigin,min:1,max:10,placement:"left",value:e.newTaskData.setting.thread+""},on:{input:e.handleThreadCount}})],1)],1),e._v(" "),n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{attrs:{disabled:!e.isP2sp,value:e.newTaskData.setting.loginFtp},on:{input:e.handleLoginFtp}},[e._v("登录FTP服务器")]),e._v(" "),n("div",{staticClass:"xlx-form"},[n("td-input",{attrs:{label:"账号：",readonly:!e.newTaskData.setting.loginFtp}}),e._v(" "),n("td-input",{attrs:{label:"密码：",readonly:!e.newTaskData.setting.loginFtp}})],1)],1)]),e._v(" "),n("div",{staticClass:"xlx-dialog__input"},[n("td-input",{attrs:{label:"链接：",readonly:"",value:e.newTaskData.data.url}})],1)]),e._v(" "),n("down-mode",{attrs:{slot:"footer",disabled:e.spaceDanger,mode:e.downMode},on:{download:e.handleDownload},nativeOn:{click:function(e){e.stopPropagation()}},slot:"footer"})],1)},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},69:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(1).default.getLogger("GetSkinInfo");let a;(function(){return r(this,void 0,void 0,function*(){if("renderer"===process.type){o.information("renderer process");const e=yield Promise.resolve().then(()=>n(15)),t=yield Promise.resolve().then(()=>n(6));e.default("GetSkinInfo").then(e=>{a=e,o.information("send OnChangeSkin",e)}).catch(e=>{o.warning(e)}),t.NativeCallModule.nativeCall.AttachNativeEvent("OnChangeSkin",e=>{a=e,o.information("send OnChangeSkin",e)})}else"browser"===process.type&&(o.information("main process"),i.ipcMain.on("OnChangeSkin",(e,t)=>{o.information("OnChangeSkin",t),a=t}))})})().catch(e=>{o.information(e)}),t.default=function(){return a}},694:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xlx-dialog__down xlx-dialog__down--tasks"},[n("div",{staticClass:"xlx-dialog__down-info"},[e._m(0),e._v(" "),n("div",{staticClass:"xlx-dialog__down-info-content"},[n("ul",{staticClass:"xlx-dialog__down-unordered"},[e._l(e.loadedList,function(t){return n("down-item",{key:t.data.url,attrs:{url:t.data.url,type:t.data.fileType,size:t.data.fileSize,name:t.data.fileName,index:t.index,excludes:e.excludes,check:t.selected},on:{setting:e.handleSetting,check:e.handleCheck}})}),e._v(" "),n("li",{directives:[{name:"load",rawName:"v-load",value:{handler:e.loadMore,distance:"50px"},expression:"{ handler: loadMore, distance: `50px` }"}]})],2),e._v(" "),n("div",{staticClass:"xlx-dialog__down-task-group"},[n("td-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.groupVisible,expression:"groupVisible"}],attrs:{value:e.groupChecked},on:{input:e.groupCheckChange}},[e._v(e._s(e.groupLabel))]),e._v(" "),n("td-input",{directives:[{name:"show",rawName:"v-show",value:e.groupEditShow,expression:"groupEditShow"}],ref:"groupedit",attrs:{placeholder:"请输入任务组名称",value:e.groupName},on:{input:e.groupNameChange},nativeOn:{click:function(e){e.stopPropagation()}}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.groupEditShow&&e.groupChecked&&e.groupVisible,expression:"!groupEditShow && groupChecked && groupVisible"}],staticClass:"td-checkbox__label",on:{click:function(t){t.stopPropagation(),e.groupEditShow=!0}}},[e._v(e._s(e.groupNameDisplay))]),e._v(" "),n("p",{staticClass:"xlx-dialog__down-text"},[e._v("总共："),n("span",{staticClass:"xlx-dialog__down-number"},[e._v(e._s(e.selectFileCount))]),e._v("个文件("),n("span",{staticClass:"xlx-dialog__down-number"},[e._v(e._s(e.selectTotalSize))]),e._v(")")])],1)]),e._v(" "),e.settingVisible?n("div",{staticClass:"xlx-bt-setting xlx-bt-setting--popup",on:{click:e.stopSettingClickPropagation}},[n("ul",[n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{model:{value:e.settingInfo.openAfterDownload,callback:function(t){e.$set(e.settingInfo,"openAfterDownload",t)},expression:"settingInfo.openAfterDownload"}},[e._v("下载完成后打开")])],1),e._v(" "),n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{attrs:{disabled:!e.currentIsP2sp},model:{value:e.settingInfo.onlyOrigin,callback:function(t){e.$set(e.settingInfo,"onlyOrigin",t)},expression:"settingInfo.onlyOrigin"}},[e._v("只从原始地址下载")]),e._v(" "),n("p",{staticClass:"xlx-bt-setting__number"},[n("span",{staticClass:"td-input__label"},[e._v("原始地址线程数(1-10)")]),e._v(" "),n("limit-input",{attrs:{isNumber:!0,readonly:!e.settingInfo.onlyOrigin,min:1,max:10,placement:"left",value:e.settingInfo.thread+""},on:{input:function(t){e.settingInfo.onlyOrigin&&(e.settingInfo.thread=Number(t))}}})],1)],1),e._v(" "),n("li",{staticClass:"xlx-bt-setting__item"},[n("td-checkbox",{attrs:{disabled:!e.currentIsP2sp},model:{value:e.settingInfo.loginFtp,callback:function(t){e.$set(e.settingInfo,"loginFtp",t)},expression:"settingInfo.loginFtp"}},[e._v("登录FTP服务器")]),e._v(" "),n("div",{staticClass:"xlx-form"},[n("td-input",{attrs:{label:"账号：",readonly:!e.settingInfo.loginFtp},model:{value:e.settingInfo.ftpInfo.userName,callback:function(t){e.$set(e.settingInfo.ftpInfo,"userName",t)},expression:"settingInfo.ftpInfo.userName"}}),e._v(" "),n("td-input",{attrs:{label:"密码：",readonly:!e.settingInfo.loginFtp},model:{value:e.settingInfo.ftpInfo.password,callback:function(t){e.$set(e.settingInfo.ftpInfo,"password",t)},expression:"settingInfo.ftpInfo.password"}})],1)],1)]),e._v(" "),n("div",{staticClass:"xlx-dialog__input"},[n("td-input",{attrs:{placeholder:"请输入注释"},model:{value:e.settingInfo.note,callback:function(t){e.$set(e.settingInfo,"note",t)},expression:"settingInfo.note"}})],1),e._v(" "),n("div",{staticClass:"xlx-operate xlx-operate--between"},[n("a",{staticClass:"xlx-operate__button",attrs:{href:"javascript:;"},on:{click:e.handleApplyAll}},[e._v("全部应用此设置")]),e._v(" "),n("a",{staticClass:"xlx-operate__button",attrs:{href:"javascript:;"},on:{click:e.handleApply}},[e._v("确定")])])]):e._e()])])},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"xlx-dialog__down-info-title"},[t("span",{staticClass:"xlx-dialog__down-info-name"},[this._v("文件名")]),this._v(" "),t("span",{staticClass:"xlx-dialog__down-info-type"},[this._v("类型")]),this._v(" "),t("span",{staticClass:"xlx-dialog__down-info-size"},[this._v("大小")]),this._v(" "),t("span",{staticClass:"xlx-dialog__down-info-url"},[this._v("URL")])])}];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},7:function(e,t){e.exports=require("util")},70:function(e,t,n){"use strict";n.r(t);var r=n(47),i=n(33);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\common\\components\\select-native.vue",t.default=s.exports},701:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"xlx-dialog__down-item"},[n("div",{staticClass:"xlx-dialog__down-info-name"},[n("td-checkbox",{attrs:{value:e.check},on:{input:e.handleCheckChange}},[e._v(e._s(e.name))])],1),e._v(" "),n("span",{staticClass:"xlx-dialog__down-info-type"},[e._v(e._s(e.type))]),e._v(" "),n("span",{staticClass:"xlx-dialog__down-info-size"},[e._v(e._s(e.foramtSize))]),e._v(" "),n("span",{staticClass:"xlx-dialog__down-info-url"},[e._v(e._s(e.url)+"\n    "),n("a",{staticClass:"file-choose",attrs:{href:"javascript:;"}},[n("i",{staticClass:"td-icon-arrow-drop",on:{click:e.settingClick}})])])])},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},71:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},72:function(e,t,n){"use strict";var r=n(44);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},73:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},74:function(e,t,n){"use strict";var r=n(11);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},75:function(e,t){e.exports=require("https")},76:function(e,t,n){var r=n(29),i=n(52),o=n(75),a=n(126),s=n(113).Writable,l=n(127)("follow-redirects"),u={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},c=Object.create(null);function d(e,t){s.call(this),e.headers=e.headers||{},this._options=e,this._redirectCount=0,this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;if(this._onNativeResponse=function(e){n._processResponse(e)},!e.pathname&&e.path){var r=e.path.indexOf("?");r<0?e.pathname=e.path:(e.pathname=e.path.substring(0,r),e.search=e.path.substring(r))}this._performRequest()}function f(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(i){var o=i+":",s=n[o]=e[i],u=t[i]=Object.create(s);u.request=function(e,i){return"string"==typeof e?(e=r.parse(e)).maxRedirects=t.maxRedirects:e=Object.assign({protocol:o,maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e),e.nativeProtocols=n,a.equal(e.protocol,o,"protocol mismatch"),l("options",e),new d(e,i)},u.get=function(e,t){var n=u.request(e,t);return n.end(),n}}),t}["abort","aborted","error","socket","timeout"].forEach(function(e){c[e]=function(t){this._redirectable.emit(e,t)}}),d.prototype=Object.create(s.prototype),d.prototype.write=function(e,t,n){this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort())},d.prototype.end=function(e,t,n){var r=this._currentRequest;e?this.write(e,t,function(){r.end(null,null,n)}):r.end(null,null,n)},d.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},d.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach(function(e){d.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(d.prototype,e,{get:function(){return this._currentRequest[e]}})}),d.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(this._options.agents){var n=e.substr(0,e.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=r.format(this._options),i._redirectable=this,c)o&&i.on(o,c[o]);if(this._isRedirect){var a=this._requestBodyBuffers;!function e(){if(0!==a.length){var t=a.pop();i.write(t.data,t.encoding,e)}else i.end()}()}},d.prototype._processResponse=function(e){var t=e.headers.location;if(t&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var n,i=this._options.headers;if(307!==e.statusCode&&!(this._options.method in u))for(n in this._options.method="GET",this._requestBodyBuffers=[],i)/^content-/i.test(n)&&delete i[n];if(!this._isRedirect)for(n in i)/^host$/i.test(n)&&delete i[n];var o=r.resolve(this._currentUrl,t);l("redirecting to",o),Object.assign(this._options,r.parse(o)),this._isRedirect=!0,this._performRequest()}else e.responseUrl=this._currentUrl,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=f({http:i,https:o}),e.exports.wrap=f},77:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},78:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,r,i,o,a,s,l,u,c,d,f,p,h,m,g,v,y;!function(e){e[e.Unkown=0]="Unkown",e[e.Create=1]="Create",e[e.InvaldParam=2]="InvaldParam",e[e.InvaldLink=3]="InvaldLink",e[e.InvaldConfig=4]="InvaldConfig",e[e.Timeout=5]="Timeout",e[e.VerifyData=6]="VerifyData",e[e.Forbidden=7]="Forbidden",e[e.RangeDispatch=8]="RangeDispatch",e[e.FilePathOverRanging=9]="FilePathOverRanging",e[e.FileCreate=201]="FileCreate",e[e.FileWrite=202]="FileWrite",e[e.FileRead=203]="FileRead",e[e.FileRename=204]="FileRename",e[e.FileFull=205]="FileFull",e[e.BtUploadExist=601]="BtUploadExist",e[e.ForbinddenResource=701]="ForbinddenResource",e[e.ForbinddenAccount=702]="ForbinddenAccount",e[e.ForbinddenArea=703]="ForbinddenArea",e[e.ForbinddenCopyright=704]="ForbinddenCopyright",e[e.ForbinddenReaction=705]="ForbinddenReaction",e[e.ForbinddenPorn=706]="ForbinddenPorn"}(t=e.TaskError||(e.TaskError={})),function(e){e[e.Unkown=-1]="Unkown",e[e.Success=0]="Success",e[e.QueryFailed=1]="QueryFailed",e[e.ServerError=2]="ServerError",e[e.ResourceNotFound=3]="ResourceNotFound",e[e.AuthorizingFailed=4]="AuthorizingFailed",e[e.ForbidByCopyright=5]="ForbidByCopyright",e[e.ForbidByPorNoGraphy=6]="ForbidByPorNoGraphy",e[e.ForbidByReactionary=7]="ForbidByReactionary",e[e.ForbidByOtherFilter=8]="ForbidByOtherFilter"}(n=e.DcdnStatusCode||(e.DcdnStatusCode={})),function(e){e[e.Begin=-1]="Begin",e[e.Unkown=0]="Unkown",e[e.StandBy=1]="StandBy",e[e.PreDownloading=2]="PreDownloading",e[e.StartWaiting=3]="StartWaiting",e[e.StartPending=4]="StartPending",e[e.Started=5]="Started",e[e.StopPending=6]="StopPending",e[e.Stopped=7]="Stopped",e[e.Succeeded=8]="Succeeded",e[e.Failed=9]="Failed",e[e.Seeding=10]="Seeding",e[e.DestroyPending=11]="DestroyPending",e[e.End=12]="End"}(r=e.TaskStatus||(e.TaskStatus={})),function(e){e[e.Begin=-1]="Begin",e[e.StandBy=0]="StandBy",e[e.Stopped=1]="Stopped",e[e.Started=2]="Started",e[e.Complete=3]="Complete",e[e.Forbidden=4]="Forbidden",e[e.Error=5]="Error",e[e.End=6]="End"}(i=e.BtFileStatus||(e.BtFileStatus={})),function(e){e[e.DispatchStrategyNone=0]="DispatchStrategyNone",e[e.DispatchStrategyOrigin=1]="DispatchStrategyOrigin",e[e.DispatchStrategyP2s=2]="DispatchStrategyP2s",e[e.DispatchStrategyP2p=4]="DispatchStrategyP2p",e[e.DispatchStrategyAll=-1]="DispatchStrategyAll"}(o=e.DispatchStrategy||(e.DispatchStrategy={})),function(e){e[e.Unkown=0]="Unkown",e[e.P2sp=1]="P2sp",e[e.Bt=2]="Bt",e[e.Emule=3]="Emule",e[e.Group=4]="Group",e[e.Magnet=5]="Magnet"}(a=e.TaskType||(e.TaskType={})),function(e){e.Unkown="Unkown",e.Downloading="Downloading",e.Completed="Completed",e.Recycle="Recycle"}(s=e.CategroyViewID||(e.CategroyViewID={})),function(e){e[e.Unknow=0]="Unknow",e[e.TaskCreated=1]="TaskCreated",e[e.InsertToCategoryView=2]="InsertToCategoryView",e[e.RemoveFromCategoryView=3]="RemoveFromCategoryView",e[e.StatusChanged=4]="StatusChanged",e[e.DetailChanged=5]="DetailChanged",e[e.ChannelInfoChanged=6]="ChannelInfoChanged",e[e.DcdnStatusChanged=7]="DcdnStatusChanged",e[e.TaskDescriptionChanged=8]="TaskDescriptionChanged",e[e.TaskUserRead=9]="TaskUserRead",e[e.TaskRenamed=10]="TaskRenamed",e[e.TaskMovedEnd=11]="TaskMovedEnd",e[e.BtSubFileDetailChanged=12]="BtSubFileDetailChanged",e[e.BtSubFileForbidden=13]="BtSubFileForbidden",e[e.BtSubFileDcdnStatusChanged=14]="BtSubFileDcdnStatusChanged",e[e.TaskCategoryMovedEnd=15]="TaskCategoryMovedEnd",e[e.GroupTaskSubFileDetailChanged=16]="GroupTaskSubFileDetailChanged",e[e.TaskDestroying=17]="TaskDestroying",e[e.TaskDestroyed=18]="TaskDestroyed"}(l=e.TaskEventType||(e.TaskEventType={})),function(e){e[e.NumberStrart=0]="NumberStrart",e[e.TaskId=1]="TaskId",e[e.VirtualId=2]="VirtualId",e[e.SrcTotal=3]="SrcTotal",e[e.SrcUsing=4]="SrcUsing",e[e.FileSize=5]="FileSize",e[e.ReceivedSize=6]="ReceivedSize",e[e.DownloadSize=7]="DownloadSize",e[e.CreateTime=8]="CreateTime",e[e.CompletionTime=9]="CompletionTime",e[e.DownloadingPeriod=10]="DownloadingPeriod",e[e.Progress=11]="Progress",e[e.RecycleTime=12]="RecycleTime",e[e.FileCreated=13]="FileCreated",e[e.Forbidden=14]="Forbidden",e[e.CategoryId=15]="CategoryId",e[e.UserRead=16]="UserRead",e[e.OpenOnComplete=17]="OpenOnComplete",e[e.GroupTaskId=18]="GroupTaskId",e[e.DownloadSubTask=19]="DownloadSubTask",e[e.NameType=20]="NameType",e[e.OwnerProduct=21]="OwnerProduct",e[e.FileIndex=22]="FileIndex",e[e.NumberEnd=23]="NumberEnd",e[e.BooleanStart=24]="BooleanStart",e[e.Destroyed=25]="Destroyed",e[e.Background=26]="Background",e[e.BooleanEnd=27]="BooleanEnd",e[e.StringStart=28]="StringStart",e[e.TaskName=29]="TaskName",e[e.SavePath=30]="SavePath",e[e.RelativePath=31]="RelativePath",e[e.TaskUrl=32]="TaskUrl",e[e.RefUrl=33]="RefUrl",e[e.Cid=34]="Cid",e[e.Gcid=35]="Gcid",e[e.Cookie=36]="Cookie",e[e.ProductInfo=37]="ProductInfo",e[e.Origin=38]="Origin",e[e.Description=39]="Description",e[e.UserData=40]="UserData",e[e.StringEnd=41]="StringEnd",e[e.ObjectStart=42]="ObjectStart",e[e.ObjectEnd=43]="ObjectEnd",e[e.CategoryViewId=44]="CategoryViewId",e[e.TaskType=45]="TaskType",e[e.ErrorCode=46]="ErrorCode"}(u=e.TaskAttribute||(e.TaskAttribute={})),function(e){e[e.UnKnown=0]="UnKnown",e[e.SrcTotal=1]="SrcTotal",e[e.SrcUsing=2]="SrcUsing",e[e.FileSize=4]="FileSize",e[e.ReceivedSize=8]="ReceivedSize",e[e.DownloadSize=16]="DownloadSize",e[e.CompletionTime=32]="CompletionTime",e[e.DownloadingPeriod=64]="DownloadingPeriod",e[e.Progress=128]="Progress",e[e.RecycleTime=256]="RecycleTime",e[e.FileCreated=512]="FileCreated",e[e.Forbidden=1024]="Forbidden",e[e.UserRead=2048]="UserRead",e[e.OpenOnComplete=4096]="OpenOnComplete",e[e.DownloadSubTask=8192]="DownloadSubTask",e[e.TaskName=16384]="TaskName",e[e.SavePath=32768]="SavePath",e[e.Cid=65536]="Cid",e[e.Gcid=131072]="Gcid",e[e.UserData=262144]="UserData",e[e.CategoryViewId=524288]="CategoryViewId",e[e.ErrorCode=1048576]="ErrorCode",e[e.TaskSpeed=2097152]="TaskSpeed",e[e.ChannelInfo=4194304]="ChannelInfo"}(c=e.TaskDetailChangedFlags||(e.TaskDetailChangedFlags={})),function(e){e[e.UnKnown=0]="UnKnown"}(d=e.BtSubFileDetailChangedFlags||(e.BtSubFileDetailChangedFlags={})),function(e){e[e.UnKnown=0]="UnKnown"}(f=e.GroupTaskSubFileDetailChangedFlags||(e.GroupTaskSubFileDetailChangedFlags={})),function(e){e[e.NumberStrart=0]="NumberStrart",e[e.TaskId=1]="TaskId",e[e.FileStatus=2]="FileStatus",e[e.DownloadSize=3]="DownloadSize",e[e.FileSize=4]="FileSize",e[e.EnableDcdn=5]="EnableDcdn",e[e.ErrorCode=6]="ErrorCode",e[e.DcdnStatus=7]="DcdnStatus",e[e.RealIndex=8]="RealIndex",e[e.FileOffset=9]="FileOffset",e[e.Visible=10]="Visible",e[e.Download=11]="Download",e[e.NumberEnd=12]="NumberEnd",e[e.StringStart=13]="StringStart",e[e.FinalName=14]="FinalName",e[e.RelativePath=15]="RelativePath",e[e.FileName=16]="FileName",e[e.FilePath=17]="FilePath",e[e.Cid=18]="Cid",e[e.Gcid=19]="Gcid",e[e.StringEnd=20]="StringEnd"}(p=e.BtFileAttribute||(e.BtFileAttribute={})),function(e){e[e.P2spUrl=0]="P2spUrl",e[e.BtInfoId=1]="BtInfoId",e[e.EmuleFileHash=2]="EmuleFileHash",e[e.MagnetUrl=3]="MagnetUrl",e[e.GroupTaskName=4]="GroupTaskName"}(h=e.KeyType||(e.KeyType={})),function(e){e[e.NameInclude=1]="NameInclude",e[e.BtDisplayNameInclude=2]="BtDisplayNameInclude"}(m=e.SearchKeyType||(e.SearchKeyType={})),function(e){e[e.All=0]="All",e[e.CommonForeground=1]="CommonForeground",e[e.CommonBackground=2]="CommonBackground",e[e.Temporary=3]="Temporary",e[e.PreDownload=4]="PreDownload",e[e.PrivateForeground=5]="PrivateForeground"}(g=e.KeyFilter||(e.KeyFilter={})),function(e){e[e.Unknown=-1]="Unknown",e[e.LoadTaskBasic=0]="LoadTaskBasic",e[e.Create=1]="Create",e[e.Recycle=2]="Recycle",e[e.Recover=3]="Recover",e[e.ReDownload=4]="ReDownload",e[e.MoveThoughCategory=5]="MoveThoughCategory"}(v=e.TaskInsertReason||(e.TaskInsertReason={})),function(e){e[e.Unknown=-1]="Unknown",e[e.ContextMenu=0]="ContextMenu",e[e.Button=1]="Button",e[e.TaskDetail=2]="TaskDetail",e[e.DownloadMagnet=3]="DownloadMagnet",e[e.ToolbarButton=4]="ToolbarButton",e[e.SelectDownloadLists=5]="SelectDownloadLists",e[e.DeleteTask=6]="DeleteTask"}(y=e.TaskStopReason||(e.TaskStopReason={}))}(t.DownloadKernel||(t.DownloadKernel={}))},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(14);!function(e){e.resizeToFitContent=function(e=0,t=0,n){let i=r.remote.getCurrentWindow();if(e>0&&t>0)i.setSize(e,t);else{let e=document.querySelector(".td-dialog");i.setSize(e.offsetWidth,e.offsetHeight)}n&&"function"==typeof n&&n(),window.requestIdleCallback(()=>{i.show()})},e.autoAdaptScrollIntoView=function(e,t,n){let r=t.scrollTop,i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=i.bottom;void 0!==n&&"number"==typeof n&&n>0&&(a=i.top+n),o.top<i.top?t.scrollTop=r-(i.top-o.top):o.bottom>a&&(t.scrollTop=r+(o.bottom-a))},e.fitWindowPosInParent=function(e,t){e||(e=r.remote.getCurrentWindow()),t||(t=e.getParentWindow()),r.ipcRenderer.sendSync(i.ThunderChannelList.channelRMSetPosition,e.getNativeWindowHandle(),t.getNativeWindowHandle())},e.getWindowsInParentCenterPos=function(e,t,n){n||(n=r.remote.getCurrentWindow());let i=n.getPosition(),o=n.getSize(),a=r.screen.getCursorScreenPoint(),s=r.screen.getDisplayNearestPoint(a),l=s.size.width,u=s.size.height,c=o[0],d=o[1];i[0]+c>l&&(c=l-i[0]),i[1]+d>u&&(d=u-i[1]);let f=i[0]+(c-e)/2,p=i[1]+(d-t)/2;return f<0?f=0:f>l-e&&(f=l-e),p<0?p=0:p>u-t&&(p=u-t),[Math.round(f),Math.round(p)]},e.centerWnd=function(e,t,n){do{if(!e||!t)break;let i=e.getNativeWindowHandle().readUIntLE(0,4);if(!i)break;let o=t.getPosition(),a=t.getSize(),s=e.getSize(),l=r.screen.getCursorScreenPoint(),u=r.screen.getDisplayNearestPoint(l),c=u.scaleFactor,d=u.size.width,f=u.size.height,p=a[0],h=a[1];o[0]+p>d&&(p=d-o[0]),o[1]+h>f&&(h=f-o[1]);let m=o[0]+(p-s[0])/2,g=o[1]+(h-s[1])/2;m<0?m=0:m>d-s[0]&&(m=d-s[0]),g<0?g=0:g>f-s[1]&&(g=f-s[1]),n.setWindowPos(i,0,m*c,g*c,0,0,5)}while(0)},e.bringWindowToTop=function(e){e||(e=r.remote.getCurrentWindow().getNativeWindowHandle().readUIntLE(0,4));r.ipcRenderer.send(i.ThunderChannelList.channelMRBringWindowToTop,e)}}(t.ThunderWindowNS||(t.ThunderWindowNS={}))},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(8),o=n(5),a=Math.pow(2,38),s=o.default(r.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){function t(e){return s.isThunderPrivateUrl(e)}function n(e){let t=!0;for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>127){t=!1;break}return t}e.formatSize=function(e){let t=0,n=e,r=["B","KB","MB","GB","TB","PB"];for(;n>=1024&&!(t>r.length-1);)n/=1024,t++;let i=r[t];return n.toFixed(2)+i},e.getSavePathFromImportFile=function(e){let t="";return e&&""!==e&&(t=r.dirname(e)),t},e.getTaskNameFromImportFile=function(e){let t="";do{if(!e||""===e)break;let n=r.basename(e),i=r.extname(e);if(!n||""===n||!i||""===i)break;let o=r.parse(n).name;if(!o||""===o)break;let a=r.extname(o);if(!a||""===a)break;".td"===i||".xltd"===i?t=".bt"===a||".emule"===a?r.parse(o).name:o:".cfg"===i&&(".td"===a||".xltd"===a?t=r.parse(o).name:".emule"!==a&&".xlemule"!==a&&".bt"!==a&&".xlbt"!==a||(o=r.parse(o).name,t=r.parse(o).name))}while(0);return t},e.getTaskTypeFromImportingFile=function(e){let t=i.DownloadKernel.TaskType.Unkown;do{if(!e||""===e)break;let n=r.basename(e),o=r.extname(e);if(!n||""===n||!o||""===o)break;let a=r.parse(n).name;if(!a||""===a)break;let s=r.extname(a).toLowerCase();if(!s||""===s)break;".td"===o||".xltd"===o?t=".bt"===s?i.DownloadKernel.TaskType.Bt:".emule"===s?i.DownloadKernel.TaskType.Emule:i.DownloadKernel.TaskType.P2sp:".cfg"===o&&(".td"===s||".xltd"===s?t=i.DownloadKernel.TaskType.P2sp:".emule"===s||".xlemule"===s||".part"===s?t=i.DownloadKernel.TaskType.Emule:".bt"!==s&&".xlbt"!==s||(t=i.DownloadKernel.TaskType.Bt))}while(0);return t},e.isThunderPrivateUrl=t,e.parseThunderPrivateUrl=function(e){let n=e;if(t(e)){let t=s.parseThunderPrivateUrl(e);n=null!==t&&void 0!==t?t.url:void 0}return n},e.isAllAsciiChar=n,e.parseEd2kUrl=function(e){let t=null;do{-1===e.indexOf("|")&&(e=e.replace("%7C","|"));let r=[];if((r=e.split("|")).length<5)break;let i="ed2k://";if(r[0].length<i.length||0!==r[0].indexOf(i))break;let o="file";if(r[1].length<o.length||0!==r[1].indexOf(o))break;let s=r[2],l=parseInt(r[3],10);if(l<=0||l>a)break;if(32!==r[4].length)break;let u=r[4];if(-1!==s.indexOf("%")&&n(s))try{s=decodeURI(s)}catch(e){}t={fileName:s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace("<","_")).replace(">","_")).replace(":","_")).replace('"',"_")).replace("/","_")).replace("\\","_")).replace("|","_")).replace("?","_")).replace("*","_"),fileHash:u,fileSize:l}}while(0);return t};let o=void 0;function l(e){let t=0,n=-1;for(let r=0;r<e.length;++r)t+=(n=e.charCodeAt(r))>=0&&n<=128?1:2;return t}function u(e,t){let n="",r=0,i=new String;for(let o=0;o<e.length;o++){let a=e.charAt(o);if(r++,escape(a).length>4&&r++,i=i.concat(a),r>=t){n=i.toString();break}}return r<t&&(n=e),n}e.getXmpPath=function(){if(!o){let e="HKEY_LOCAL_MACHINE",t="SOFTWARE\\Thunder Network\\Xmp",n="Path";o=s.readRegString(e,t,n)}return o},e.getStringLength=l,e.cutString=u,e.getMaxFilePath=function(e){let t="",n=l(e);if(n<260)t=e;else{let i=r.dirname(e),o=r.basename(e),a=r.extname(e),s=260-(n=l(i)+2)-a.length-2;s>0&&(o=u(o,s),o+=a,t=r.join(i,o))}return t}}(t.Common||(t.Common={}))},84:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(15),a=i.default.getLogger("FetchRes"),s={mock:"http://easy-mock.com/mock/59f0652c1bd72e7a888988ab/sl",test:"http://api-xl9-ssl.xunlei.com/sl_dev",pre:"http://api-xl9-ssl.xunlei.com/sl_pre",prod:"http://api-xl9-ssl.xunlei.com/sl"};function l({url:e,data:t,method:i="get"}){return r(this,arguments,void 0,function*(){a.information("fetchFromApiProxy",arguments);try{const r=yield Promise.all([o.default("GetUserID"),o.default("GetSessionID"),o.default("GetPeerID")]),[s,l,u]=r;a.information(r);let c={_sessid:l,_uid:s,_m:i,_h:[`Peer-Id:${u}`,`User-Id:${s}`,`Session-Id:${l}`,"App-Type:pc_xunlei",...t&&t._h||[]]};t&&t._h&&delete t._h;let d=Object.assign({},c,"get"===i&&t);a.information("fetchFromApiProxy data",d);const f=yield n(27);return f.defaults.adapter=n(28),"post"===i&&(f.defaults.headers["Content-Type"]="application/json"),f.request({method:i,url:e,params:d,data:t}).then(e=>(a.information("fetchFromApiProxy success",e),e))}catch(e){return{error:e}}})}t.fetchFromApiProxy=l,t.fetchSlRes=function({url:e,data:t,method:n="get"},i="prod"){return r(this,void 0,void 0,function*(){let r=s[i],u=yield o.default("GetValue","ConfigFetchInterface","TestServer",0);return 1===u?r=s.test:2===u&&(r=s.pre),a.information("当前fetchSlRes 是否测试服:",u," 远程地址:",r),l({url:`${r}${e}`,data:t,method:n})})},t.fetchPCRes=function({url:e,data:t,method:n="get"},i="prod",o=!1){return r(this,void 0,void 0,function*(){let r="http://api-xl9-ssl.xunlei.com";return o&&(r="http://api-shoulei-ssl.xunlei.com"),l({url:`${r}${e}`,data:t,method:n})})}},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){let t=e.toString(16).toUpperCase();return t.length<2&&(t="0"+t),t}function n(e,n,r,i){return"0x"+t(i)+t(e)+t(n)+t(r)}e.rgbaStringToHexWith0xBegin=function(e){if(void 0!==e){let t=e.split(",");return n(parseInt(t[0]||"0",10),parseInt(t[1]||"0",10),parseInt(t[2]||"0",10),parseInt(t[3]||"255",10))}},e.colorNumberToHex=t,e.rgbaToHexWith0xBegin=n}(t.ColorUtilNS||(t.ColorUtilNS={}))},87:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},89:function(e,t){!function(e){var t,n='<svg><symbol id="td-icon-svg-file" viewBox="0 0 1204 1024"><path d="M180.705882 1024c-102.4 0-180.705882-78.305882-180.705882-180.705882V180.705882c0-102.4 78.305882-180.705882 180.705882-180.705882h240.941177c102.4 0 180.705882 78.305882 180.705882 180.705882h421.647059c102.4 0 180.705882 78.305882 180.705882 180.705883v481.882353c0 102.4-78.305882 180.705882-180.705882 180.705882H180.705882z" fill="#FFC25A" ></path><path d="M301.176471 361.411765h602.352941c66.258824 0 120.470588 54.211765 120.470588 120.470588v361.411765c0 66.258824-54.211765 120.470588-120.470588 120.470588H301.176471c-66.258824 0-120.470588-54.211765-120.470589-120.470588V481.882353c0-66.258824 54.211765-120.470588 120.470589-120.470588z" fill="#FFFFFF" ></path><path d="M180.705882 542.117647h843.294118c102.4 0 180.705882 78.305882 180.705882 180.705882v120.470589c0 102.4-78.305882 180.705882-180.705882 180.705882H180.705882c-102.4 0-180.705882-78.305882-180.705882-180.705882v-120.470589c0-102.4 78.305882-180.705882 180.705882-180.705882z" fill="#FFD68F" ></path></symbol></svg>',r=function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)};if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()};document.addEventListener("DOMContentLoaded",n,!1)}else document.attachEvent&&function(e,t){var n=e.document,r=!1,i=function(){r||(r=!0,t())},o=function(){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(o,50)}i()};o(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,i())}}(e,t)}(function(){var e,t;(e=document.createElement("div")).innerHTML=n,n=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",r(t,document.body))})}(window)},9:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(20),o=n(2),a=n(7).promisify,s=n(1).default.getLogger("Thunder.base.fs-utilities");!function(e){function t(e){return r(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(i.access);try{yield n(e),t=!0}catch(e){s.information(e)}}return t})}function l(e){return r(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(i.mkdir);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function u(e){return r(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(i.rmdir);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function c(e){return r(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(i.unlink);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function d(e){return r(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(i.readdir);try{t=yield n(e)}catch(e){s.warning(e)}}return t})}function f(e){return r(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(i.lstat);try{t=yield n(e)}catch(e){s.warning(e)}}return t})}function p(e,t){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&void 0!==t){let r=o.join(e,t),i=yield f(r);n=null!==i&&i.isDirectory()?yield h(r):yield c(r)}return n})}function h(e){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==e){if(yield t(e)){n=!0;let t=yield d(e);for(let r=0;r<t.length;r++)n=(yield p(e,t[r]))&&n;(n||0===t.length)&&(n=(yield u(e))&&n)}}return n})}function m(e){return r(this,void 0,void 0,function*(){let n=!1;return s.information("mkdirsAW",e),void 0!==e&&((yield t(e))?n=!0:o.dirname(e)===e?n=!1:(yield m(o.dirname(e)))&&(n=yield l(e))),n})}function g(e,n){return r(this,void 0,void 0,function*(){let r;if(e.toLowerCase()!==n.toLowerCase()&&(yield t(e))){let t=i.createReadStream(e),o=i.createWriteStream(n);r=new Promise(e=>{t.pipe(o).on("finish",()=>{e(!0)})})}else r=new Promise(e=>{e(!1)});return r})}e.readFileAW=function(e){return r(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(i.readFile);try{t=yield n(e)}catch(e){s.warning(e)}}return t})},e.writeFileAW=function(e,t){return r(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&null!==t){const r=a(i.writeFile);try{yield r(e,t),n=!0}catch(e){s.warning(e)}}return n})},e.existsAW=t,e.mkdirAW=l,e.rmdirAW=u,e.unlinkAW=c,e.readdirAW=d,e.lstatAW=f,e.rmdirsAW=h,e.mkdirsAW=m,e.renameAW=function(e,t){return r(this,void 0,void 0,function*(){if(void 0!==e&&void 0!==t){const n=a(i.rename);try{yield n(e,t)}catch(e){s.warning(e)}}})},e.copyFileAW=g,e.copyDirsAW=function e(n,i){return r(this,void 0,void 0,function*(){let r=!1,a=yield f(n);if(a.isDirectory()){r=yield m(i);let s=yield d(n);for(let l=0;l<s.length;l++){let u=o.join(n,s[l]),c=o.join(i,s[l]);(r=yield t(u))&&(r=(a=yield f(u)).isDirectory()?yield e(u,c):yield g(u,c))}}return r})},e.mkdtempAW=function(){return r(this,void 0,void 0,function*(){let e=!1;const t=a(i.mkdtemp),r=(yield Promise.resolve().then(()=>n(16))).tmpdir();try{e=yield t(`${r}${o.sep}`)}catch(e){s.warning(e)}return e})}}(t.FileSystemAWNS||(t.FileSystemAWNS={}))},90:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select-native",{attrs:{editable:"",value:e.value,placeholder:"请选择下载目录",options:e.options,appendDirs:e.appendDirs,defaultDir:e.defaultDir,type:"file"},on:{input:e.handleInput,"choose-file":e.handleChangePath},nativeOn:{contextmenu:function(t){return e.handleContextMenu(t)}}},[n("span",{staticClass:"xlx-file-size",class:e.spaceColor,attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.freeSpaceFormat))])])},i=[];r._withStripped=!0,n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},938:function(e,t,n){n(40),e.exports=n(939)},939:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(25);i.CommonIPCRenderer.rendererCommunicator.initialize("newTaskRendererContext"),i.CommonIPCRenderer.rendererCommunicator.connect();const o=n(41),a=n(3),s=n(32),l=n(940);n(42),n(89);const u=n(51);n(55);const c=n(1).default.getLogger("NewTaskRenderer");o.PerformanceMonitorStatNS.init("new-task-renderer"),a.remote.getCurrentWindow().on("ready-to-show",()=>r(this,void 0,void 0,function*(){const{ThunderWindowNS:e}=yield Promise.resolve().then(()=>n(80));e.bringWindowToTop();const{ThunderToolsNS:t}=yield Promise.resolve().then(()=>n(46));t.enableDevTools().catch(e=>{c.warning(e)}),t.enableDragOpenFile(),yield Promise.resolve().then(()=>n(69))})),s.default.use(u.default),s.default.config.ignoredElements=["webview"],new s.default({components:{AppContainer:l.default},render:e=>e("app-container")}).$mount("#app")},94:function(e,t){e.exports=require("zlib")},940:function(e,t,n){"use strict";n.r(t);var r=n(414);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n(0),a=Object(o.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\new-task-renderer\\app-container.vue",t.default=a.exports},941:function(e,t,n){"use strict";n.r(t);var r=n(635),i=n(416);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n(276),n(226);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\new-task-renderer\\app.vue",t.default=s.exports},942:function(e,t,n){"use strict";n.r(t);var r=n(418);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n(0),a=Object(o.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\new-task-renderer\\views\\new-task-ctrl-container.vue",t.default=a.exports},943:function(e,t,n){"use strict";n.r(t);var r=n(684),i=n(420);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n(116);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\new-task-renderer\\views\\new-task-ctrl.vue",t.default=s.exports},944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={decrementMainCounter(e){e.main--},incrementMainCounter(e){e.main++}},i={someAsyncTask({commit:e},t){setTimeout(()=>{e("decrementMainCounter")},t)}};t.default={state:{main:0},mutations:r,actions:i}},945:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),o=n(1),a=n(8),s=n(155),l=n(17),u=o.default.getLogger("ThunderNewTask"),c={savePath:"",groupChecked:!0,groupName:"",downMode:1,dataList:[],excludeFilters:[]},d={HANDLE_URLS_INSERT(e,t){let n=e.dataList.length;for(let r=0;r<t.length;r++){let o=t[r],u=l.ThunderHelper.getTaskTypeFromUrl(o.url);if(u===a.DownloadKernel.TaskType.Unkown)continue;if(u===a.DownloadKernel.TaskType.Emule){let e=s.ParseUrlFileNameNS.parseEd2kUrl(o.url);o.fileSize=e.fileSize,o.fileHash=e.fileHash}""===o.fileName&&(o.fileName=s.ParseUrlFileNameNS.getNameFromUrl(o.url));let c=i.extname(o.fileName);""!==c&&(o.fileType=c.substring(1).toLowerCase()),"number"!=typeof o.fileSize&&(o.fileSize=-1);let d=5;o.thread&&"number"==typeof o.thread&&o.thread>0&&o.thread<=10&&(d=o.thread);let f={taskType:u,data:o,setting:{loginFtp:!1,onlyOrigin:!1,thread:d,ftpInfo:{userName:"",password:""},note:"",openAfterDownload:!1},selected:!0,index:n+r};e.dataList.push(f)}},HANDLE_FILTER_CHANGE(e,t){e.excludeFilters=t},HANDLE_FETCH_SIZE(e,t){t.index>=0&&t.index<e.dataList.length&&(e.dataList[t.index].data.fileSize=t.fileSize,e.dataList[t.index].data.gcid=t.gcid)},HANDLE_SAVE_PATH_CHANGE(e,t){e.savePath=t},HANDLE_GROUP_CHECK_CHANGE(e,t){e.groupChecked=t},HANDLE_GROUP_NAME_CHANGE(e,t){if(e.groupChecked){let n=t.replace(/[*?/\\:|<>\"]/g,"_");e.groupName=n}},HANDLE_DOWN_MODE_CHANGE(e,t){e.downMode=t},HANDLE_RENAME(e,t){if(t.index>=0||t.index<e.dataList.length){let n=t.value.replace(/[*?/\\:|<>\"]/g,"_");e.dataList[t.index].data.fileName=n}},HANDLE_ORIGIN_ONLY(e,t){(t.index>=0||t.index<e.dataList.length)&&(e.dataList[t.index].setting.onlyOrigin=t.value)},HADNLE_THREAD_COUNT(e,t){(t.index>=0||t.index<e.dataList.length)&&(e.dataList[t.index].setting.thread=t.count)},HANDLE_LOGIN_FTP(e,t){(t.index>=0||t.index<e.dataList.length)&&(e.dataList[t.index].setting.loginFtp=t.value)},HANDLE_CHECK_CHANGE(e,t){(t.index>=0||t.index<e.dataList.length)&&(e.dataList[t.index].selected=t.check)},HANDLE_SELECT_BY_EXT(e,t){for(let n of e.dataList)n.selected||"all"!==t&&n.data.fileType!==t||(n.selected=!0)},HADNLE_SETTING_CHANGE(e,t){if(-1===t.index)for(let n=0;n<e.dataList.length;n++)e.dataList[n].setting=t.setting;else(t.index>=0||t.index<e.dataList.length)&&(e.dataList[t.index].setting=t.setting)}},f={batchFetchSize({commit:e,state:t,rootState:i}){return r(this,void 0,void 0,function*(){let r=[];for(let e of t.dataList)u.information("batchFetchSize size",e.data.fileSize),-1===e.data.fileSize&&r.push(e.data.url);if(r.length>0){const{QueryTaskInfoHelperNS:t}=yield Promise.resolve().then(()=>n(263));t.asyncBatchQueryP2spTaskInfoByUrl(r,(t,n,r)=>{n&&e("HANDLE_FETCH_SIZE",{index:r,result:n.result,gcid:n.gcid,fileSize:n.fileSize,errCode:n.errCode,url:t})}).catch()}})}},p={taskDataList:e=>{u.information("getters taskDataList in");let t=[];return t=e.dataList.map(e=>e.data)},taskDataFilterList:e=>{let t=e.excludeFilters.join(";");return t+=";",e.dataList.filter(e=>{let n="";return n=void 0===e.data.fileType?"undefined;":e.data.fileType+";",-1===t.indexOf(n)})},taskSettingList:e=>{u.information("getters taskSettingList in");let t=[];return t=e.dataList.map(e=>e.setting)},taskUrls:e=>{u.information("getters taskDataList in");let t=[];return t=e.dataList.map(e=>e.data.url)},taskTypeFilter:e=>{let t=new Set;t.add("all");for(let n of e.dataList)void 0!==n.data.fileType?t.add(n.data.fileType.toLowerCase()):t.add("undefined");return t}};t.default={state:c,mutations:d,actions:f,getters:p}},946:function(e,t,n){"use strict";n.r(t);var r=n(422);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n(0),a=Object(o.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\new-task-renderer\\views\\url-filter-ctrl-container.vue",t.default=a.exports},947:function(e,t,n){"use strict";n.r(t);var r=n(681),i=n(424);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\new-task-renderer\\views\\url-filter-ctrl.vue",t.default=s.exports},948:function(e,t,n){"use strict";n.r(t);var r=n(426);for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);var o=n(0),a=Object(o.a)(r.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\new-task-renderer\\views\\url-filter-ctrl\\down-info-container.vue",t.default=a.exports},949:function(e,t,n){"use strict";n.r(t);var r=n(694),i=n(428);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n(116);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\new-task-renderer\\views\\url-filter-ctrl\\down-info.vue",t.default=s.exports},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35),i=n(2),o=n(5);let a=null,s=null,l=null;s=o.default(i.join(__rootDir,"../bin/ThunderHelper.node"));class u extends r.EventEmitter{constructor(){super(...arguments),this.mouse=null}setMouse(e){this.mouse=e}ref(){this.mouse&&this.mouse.ref()}unref(){this.mouse&&this.mouse.unref()}destroy(){this.mouse&&(this.mouse.destroy(),this.mouse=null,l=null)}}t.WinMouseEvent=u,t.mouseDestroy=function(){l&&l.destroy()},t.mouseUse=function(e){if(l)return;a=s.registerWinMouseObj(),l=new u;let t=new a((t,n,r,i)=>{e(!0,t)});l.setMouse(t)},t.mouseMove=function(){let e=null,t=new u;return t.once("newListener",function(){null===a&&(a=s.registerWinMouseObj()),null!==a&&(e=new a(function(e,n,r,i){"move"===e&&t.emit(e,n,r,i)}),t.setMouse(e))}),t}},950:function(e,t,n){"use strict";n.r(t);var r=n(701),i=n(430);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(0),s=Object(a.a)(i.default,r.a,r.b,!1,null,null,null);s.options.__file="src\\new-task-renderer\\views\\url-filter-ctrl\\down-item.vue",t.default=s.exports},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59),i=n(58);!function(e){e.setStyle=function(e,t){if(null!==e){let n={windowPreference:i.WindowPreferenceNS.getWindowPreference()};e.setStyle(r(n,t))}}}(t.DropDownWindowSkinNS||(t.DropDownWindowSkinNS={}))},97:function(e,t,n){"use strict";n.r(t);var r=n(98),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a},98:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),o=n(275);let a=class extends i.Vue{get menu(){let e="立即下载";do{if(this.buttonTipText&&""!==this.buttonTipText){e=this.buttonTipText;break}0===this.mode&&(e="手动下载")}while(0);return e}get menus(){return"立即下载"===this.menu?["手动下载"]:["立即下载"]}handleClick(e){let t=this.mode;"手动下载"===e?t=0:"立即下载"===e&&(t=1),this.$emit("download",t)}};r([i.Prop({})],a.prototype,"mode",void 0),r([i.Prop({})],a.prototype,"disabled",void 0),r([i.Prop({default:""})],a.prototype,"buttonTipText",void 0),a=r([i.Component({components:{DropdownNative:o.default}})],a),t.default=a},99:function(e,t,n){"use strict";n.r(t);var r=n(100),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);t.default=i.a}});
//# sourceMappingURL=renderer.js.map