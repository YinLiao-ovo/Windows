module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=962)}({0:function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}n.d(t,"a",function(){return i})},1:function(e,t,n){e.exports=n(12)(64)},10:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(2),a=n(1),s=n(9),l=n(17),c=a.default.getLogger("Thunder.Util"),d="Thunder Network\\Thunder7.9\\";function u(e){let t=e;return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?t=e.substring(1,e.length-1):0===e.indexOf("'")&&e.lastIndexOf("'")===e.length-1&&(t=e.substring(1,e.length-1)),t}!function(e){function t(){let e=l.ThunderHelper.getSystemTempPath(),t=l.ThunderHelper.getLogicalDriveStrings(),n=0;for(let i=0;i<t.length;i++){let r=l.ThunderHelper.getDriveInfo(t[i]);3===r.type&&n<r.freeBytes&&t[i]!==e&&(n=r.freeBytes,e=t[i])}return e.substring(0,1)+":\\迅雷下载"}e.formatSize=function(e,t){t=t||2;let n="0B";if("number"==typeof e&&e>0){let i=["B","KB","MB","GB","TB"],r=0,o=e;for(;o>=1e3&&!(r>=4);)o/=1024,r+=1;n=-1===String(o).indexOf(".")?o+i[r]:o.toFixed(t)+i[r]}return n},e.isDigital=function(e){let t=!1;return/^\d+$/.test(e)&&(t=!0),t},e.isAlpha=function(e){let t=!1;return/[A-Za-z]/.test(e)&&(t=!0),t},e.isUpperCase=function(e){let t=!1;return/[A-Z]/.test(e)&&(t=!0),t},e.isLowerCase=function(e){let t=!1;return/[a-z]/.test(e)&&(t=!0),t},e.isChinese=function(e){let t=!1;return/[\u4E00-\u9FA5]/.test(e)&&(t=!0),t},e.replaceNonDigital=function(e){return e.replace(/[^\d]/g,"")},e.replaceNonAlpha=function(e){return e.replace(/[^A-Za-z]/g,"")},e.replaceNonWord=function(e){return e.replace(/[^\W]/g,"")},e.getDefaultDownloadDir=t,e.getMaxFreeDriver=function(){return t().substring(0,1)},e.deepCopy=function(e){let t=JSON.stringify(e),n=null;try{n=JSON.parse(t)}catch(e){c.warning(e)}return n},e.swap=function(e,t,n){do{if(t<0||t>=e.length)break;if(n<0||n>=e.length)break;if(t===n)break;e[t]=e.splice(n,1,e[t])[0]}while(0);return e},e.compareNocase=function(e,t){let n=!1;do{if(void 0===e&&void 0===t){n=!0;break}if(void 0===e||void 0===t)break;if("string"!=typeof e||"string"!=typeof t)break;n=e.toLowerCase()===t.toLowerCase()}while(0);return n},e.parseCommandLine=function(e){let t=0,n="",i=!1,r=[],o=e.length;for(let a=0;a<o;a++){let s=e[a];if('"'!==s&&"'"!==s||(""===n?(i=!0,n=s):n===s&&(i=!1,n=""))," "!==s||i||a===o-1){if(a===o-1){let n=e.substring(t);""!==n.trim()&&r.push(u(n))}}else{let n=e.substring(t,a);""!==n.trim()&&r.push(u(n)),t=a+1}}return r},e.getThunderTempPath=function(e,t){return i(this,void 0,void 0,function*(){const i=yield Promise.resolve().then(()=>n(16));let r=o.join(i.tmpdir(),d);return t&&(r=o.join(r,t)),void 0!==e&&e&&(yield s.FileSystemAWNS.mkdirsAW(r)),r})},e.setQueryString=function(e,t){return Object.keys(t).forEach((n,i)=>{e+=0===i?"?":"&",e+=`${n}=${t[n]}`}),e},e.getQueryString=function(e,t){return e&&t&&e.match(new RegExp(`(^${t}|[?|&]${t})=([^&#]+)`))?RegExp.$2:""},e.isClipboardTextFormatAvailable=function(){let e=!1,t=r.clipboard.availableFormats();for(let n of t)if("text/plain"===n){e=!0;break}return e},e.keywordsHighLight=function(e,t,n){if(!e)return"";if(!t)return e;if(0===e.length)return e;if(0===t.length)return e;let i=/\\/,r=t.split(" ");if(0===(r=r.filter(e=>e.trim().length>0)).length)return e;for(let t=0;t<r.length;t++)if(r[t].search(i)>0)return e;n=void 0===n||null===n?"#FF0000":n;let o="",a=["\\[","\\^","\\*","\\(","\\)","\\|","\\?","\\$","\\.","\\+"],s="",l="|";for(let e=0;e<r.length;e++){for(let t=0;t<a.length;t++){let n=new RegExp(a[t],"g");r[e]=r[e].replace(n,a[t])}e===r.length-1&&(l=""),s=s.concat(r[e],l)}let c=new RegExp(s,"gi");return o=e.replace(c,e=>'<span style= "color:'+n+'">'+e+"</span>")},e.isDef=function(e){return void 0!==e&&null!==e},e.isUndef=function(e){return void 0===e||null===e},e.setStyle=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style[t]=n})},e.setCSSProperties=function(e,t){Object.entries(t).forEach(([t,n])=>{e.style.setProperty(t,n)})},e.versionCompare=function(e,t){let n=e.split("."),i=t.split("."),r=0;for(let e=0;e<n.length;e++){if(Number(n[e])-Number(i[e])>0){r=1;break}if(Number(n[e])-Number(i[e])<0){r=-1;break}}return r},e.throttle=function(e,t){let n,i=0;return(...r)=>{const o=Date.now();clearTimeout(n),o-i>t?(e(...r),i=o):n=setTimeout(()=>{e(...r),i=o},t)}}}(t.ThunderUtil||(t.ThunderUtil={}))},100:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4);let s=class extends a.Vue{onMenusChanged(){this.appendContent()}appendContent(){this.dropdown||(this.dropdown=new o.remote.DropdownWindow),this.dropdown.clear(),this.menus.forEach(e=>{this.dropdown.append(new o.remote.DropdownWindowContent({label:e,click:()=>{this.$emit("input",e)}}))})}handleDropClick(){return r(this,void 0,void 0,function*(){this.dropdown||this.appendContent();let e=this.$el.getBoundingClientRect();const{DropDownWindowSkinNS:t}=yield Promise.resolve().then(()=>n(96));let i=Math.round(((e.width>800?800:e.width)-100)/2);t.setStyle(this.dropdown,{windowPreference:{marginLeft:i,marginRight:0,fontHeight:-16,cornerRadius:3,stringWidth:Math.round(e.width)-39-i}}),this.dropdown.popup({window:o.remote.getCurrentWindow(),x:Math.round(e.left),y:Math.round(e.top+e.height+4)})})}};i([a.Prop()],s.prototype,"menus",void 0),i([a.Watch("menus")],s.prototype,"onMenusChanged",null),s=i([a.Component],s),t.default=s},105:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(15),a=n(6),s=r.default.getLogger("Thunder.ShouldLogin");t.default=function(e=!1,t=!1){return i(this,void 0,void 0,function*(){let n;try{let i=yield o.default("IsLogined"),r=yield o.default("GetUserID");i?(s.information("is logined"),n=Promise.resolve(r)):(n=new Promise((n,i)=>{let r=-1;if(r=a.NativeCallModule.nativeCall.AttachNativeEvent("OnUserLogin",e=>{s.information("On UserLogin",e),n(e),-1!==r&&(a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",r),r=-1)}),!e){let e=a.NativeCallModule.nativeCall.AttachNativeEvent("OnLoginWndClose",i=>{do{if("close"===i){if(n(""),!t&&-1!==r){a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",r),r=-1;break}}else if("suc"===i&&-1!==r)break;t&&-1!==r&&(a.NativeCallModule.nativeCall.DetachNativeEvent("OnUserLogin",r),r=-1)}while(0);a.NativeCallModule.nativeCall.DetachNativeEvent("OnLoginWndClose",e)})}}),e||o.default("ShowLoginDlg").catch(e=>{s.warning(e)}))}catch(e){s.warning(e),n=Promise.resolve("")}return n})}},1141:function(e,t){},1143:function(e,t){},1145:function(e,t){},116:function(e,t,n){"use strict";var i=n(1141);n.n(i).a},12:function(e,t){e.exports=vendor_f06ab6e95552376989e1},13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(5),o=n(1).default.getLogger("XLStat");let a=r.default(i.join(__rootDir,"../bin/ThunderHelper.node"));function s(e=""){let t;if("string"==typeof e)t=e;else if(l(e)&&"object"==typeof e){let n=[];for(let t in e)l(e[t])&&n.push(t+"="+encodeURIComponent(e[t]));t=n.join(",")}return t}function l(e){return void 0!==e&&null!==e}!function(e){function t(e){do{if(void 0===e)break;a.trackClick(e,0)}while(0)}e.trackEvent=function(e,t="",n="",i=0,r=0,l=0,c=0,d="",u=0){let f=0;do{if(void 0===e){f=1;break}let h=s(d);f=a.trackEvent(e,t,n,i,r,l,c,h,u),o.information(e,t,n,i,r,l,c,h,u)}while(0);return f},e.trackClick=t,e.trackShow=function(e){t(e)},e.setUserID=function(e=0,t=0){a.setUserID(e,t)}}(t.XLStatNS||(t.XLStatNS={}))},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.channelRMNewTaskReadyForSetTaskData="RM_NEWTASK_READYRORSETTASKDATA",e.channelRMNewTaskSetTaskData="RM_NEWTASK_SETTASKDATA",e.channelRMPreNewTaskSetTaskData="RM_PRENEWTASK_SETTASKDATA",e.channelRMNewTaskCreateNewTask="RM_NEWTASK_CREATENEWTASK",e.channelRMNewTaskSetBTInfo="RM_NEWTASK_SETBTINFO",e.channelRMNewTaskDownloadTorrent="RM_NEW_TASK_DOWNLOAD_TORRENT",e.channelRMNewTaskCreateBtTask="RM_NEWTASK_CRATEBTTASK",e.channelRMNewTaskCancleMagnet="RM_NEWTASK_CANCLE_MAGNET",e.channelRMImportTorrent="RM_NEWTASK_IMPORT_TORRENT",e.channelRMGetConfigValueResolve="RM_GET_CONFIG_VALUE_RESOLVE",e.channelRMGetConfigValueReject="RM_GET_CONFIG_VALUE_REJECT",e.channelMRTrayMenuClick="MR_TRAY_MENU_CLICK",e.channelMRNewTaskMagnetTaskCreated="MR_NEW_TASK_MAGNET_TASK_CREATED",e.channelMRNewTaskDownloadTorrentResult="MR_NEW_TASK_DOWNLOAD_TORRENT_RESULT",e.channelMRNewTaskCreateNewTaskResult="MR_NEWTASK_CREATENEWTASK_RESULT",e.channelMRNewTaskCreateBtTaskResult="RM_NEWTASK_CRATEBTTASK_RESULT",e.channelMRGetConfigValue="MR_GET_CONFIG_VALUE",e.channelMRSetConfigValue="MR_SET_CONFIG_VALUE",e.channelRMCommitPlanTask="RM_PLANTASK_COMMIT",e.channelRMPerformePlanTask="RM_PLANTASK_PERFORME",e.channelRMProcessSend="RM_RENDER_PROCESS_INFO",e.channelRMGetPrivateSpaceInfo="RM_RENDER_GET_PRIVATE_SPACE_INFO",e.channelMRGetPrivateSpaceInfoResult="MR_RENDER_GET_PRIVATE_SPACE_INFO_RESULT",e.channelRMFileCopy="RM_FILE_COPY",e.channelRMFileMove="RM_FILE_MOVE",e.channelMRFileCopyResult="MR_FILE_COPY_RESULT",e.channelMRFileMoveResult="MR_FILE_MOVE_RESULT",e.channelRMGetSutitleByCid="RM_RENDER_GET_SUBTITLE_BY_CID",e.channelMRGetSutitleByCidResult="MR_RENDER_GET_SUBTITLE_BY_CID_RESULT",e.channelRMGetSutitleByName="RM_RENDER_GET_SUBTITLE_BY_NAME",e.channelMRGetSutitleByNameResult="MR_RENDER_GET_SUBTITLE_BY_NAME_RESULT",e.channelRMDownloadSutitle="RM_RENDER_DOWNLOAD_SUBTITLE",e.channelMRDownloadSutitleSuc="MR_RENDER_DOWNLOAD_SUBTITLE_SUCCESS",e.channelMRDownloadSutitleFail="MR_RENDER_DOWNLOAD_SUBTITLE_FAIL",e.channelRMGetDisplayName="RM_RENDER_GET_SUBTITLE_DISPLAYNAME",e.channelMRGetDisplayNameResult="MR_RENDER_GET_SUBTITLE_DISPLAYNAME_RESULT",e.channelMRBringWindowToTop="MR_RENDER_BRING_WINDOW_TO_TOP",e.channelRMDownloadXmp="RM_RENDER_DOWNLOAD_XMP",e.channelMRFixXmpSuc="MR_RENDER_FIX_XMP_SUC",e.channelMRFixXMPFail="MR_RENDER_FIX_XMP_FAIL",e.channelRMDownloadXmpEx="RM_RENDER_DOWNLOAD_XMP_EX",e.channelRMSetPosition="RM_SET_POSITION",e.channelRMSetFoucs="RM_SET_FOCUS",e.channelRMCreateAddressDropWnd="RM_CREATE_ADDRESS_DROPWND",e.channelRMRefreshAddressDropWnd="RM_REFRESH_ADDRESS_DROPWND",e.channelRMSelectAddressDropItem="RM_SELECT_ADDRESS_DROPITEM",e.channelRMCreateSearchWindow="RM_CREATE_SEARCH_WINDOW",e.channelRMAddressKeyDown="RM_ADDRESS_BAR_KEYDOWN",e.channelMRFWAddressKeyDown="MR_ADDRESS_FW_BAR_KEYDOWN",e.channelMRFWSelectAddressDropItem="MR_FW_SELECT_ADDRESS_DROPITEM",e.channelRMAddressDropWndKeyDown="RM_ADDRESS_DROPWND_KEYDOWN",e.channelMRSearchWindowVisibleChange="MR_SEARCH_WINDOW_VISIBLE_CHANGE",e.channelRMShowSearchWindow="RM_SEARCH_WINDOW_SHOW",e.channelRMHideSearchWindow="RM_SEARCH_WINDOW_HIDE",e.channelRMClickMouse="RM_CLICK_MOUSE",e.channelMRSearchBarFocusChange="MR_SEARCHBAR_FOCUS_CHANGE",e.channelMRFWAddressDropWndKeyDown="MR_FW_ADDRESS_DROPWND_KEYDOWN",e.channelMRClickAddressDropItem="MR_CLICK_ADDRESS_DROPITEM",e.channelMRMainWndMax="MR_MAINWINDOW_MAX",e.channelMRMainWndMin="MR_MAINWINDOW_MIN",e.channelMRMainWndRestore="MR_MAINWINDOW_RESTORE",e.channelRMGetBrowserStartType="RM_GET_BROWSER_START_TYPE",e.channelMRGetBrowserStartTypeResult="MR_GET_BROWSER_START_TYPE_RESULT",e.channelRMExecute="RM_SHELL_EXECUTE",e.channelMRExecuteResult="MR_SHELL_EXECUTE_RESULT",e.channelMRAdTipsClick="MR_AD_TIPS_CLICK",e.channelMRNotificationMsg="MR_NOTIFICATION_MSG",e.channelRMSetProgressBar="RM_SET_PROGRESS_BAR",e.channelRMRoundWindow="RM_ROUND_WINDOW"}(t.ThunderChannelList||(t.ThunderChannelList={}))},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(95),o=n(5),a=n(2),s=o.default(a.join(__rootDir,"../bin/ThunderHelper.node"));t.default=function(e){let t=null,n=r.mouseMove(),o=i.remote.getCurrentWindow(),a=document.querySelector(e),l=!1,c=function(e){t=[e.clientX,e.clientY],0===e.button&&(l=!0)},d=function(e){0===e.button&&(l=!1)},u=function(e){if("Escape"===e.code)return l=!1,void window.close()};return a.addEventListener("mousedown",c),a.addEventListener("mouseup",d),window.addEventListener("keydown",u),n.on("move",e=>{if(e){if(t&&l){let e=i.screen.getCursorScreenPoint(),n=i.screen.getDisplayNearestPoint(e).scaleFactor,r=Math.round(e.x*n-t[0]*n),a=Math.round(e.y*n-t[1]*n),l=o.getNativeWindowHandle().readUIntLE(0,4);s.setWindowPos(l,0,r,a,0,0,5)}}else l=!1}),function(){a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",d),window.removeEventListener("keydown",u),n.destroy()}}},147:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("dropdown-native",{attrs:{disabled:e.disabled,value:e.menu,menus:e.menus},on:{click:e.handleClick,input:e.handleClick}},[e._v("\n  "+e._s(e.menu)+"\n")])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},148:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)("td-dropdown",this._g(this._b({attrs:{menus:this.menus,"custom-menu-enabled":""},on:{"drop-click":this.handleDropClick}},"td-dropdown",this.$attrs,!1),this.$listeners),[this._t("default")],2)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),r=n(1),o=n(6),a=r.default.getLogger("Thunder.PromiseNativeCall"),s=i.promisify;t.default=function(...e){return a.verbose(...e),s(o.NativeCallModule.nativeCall.CallNativeFunction.bind(o.NativeCallModule.nativeCall))(...e)}},16:function(e,t){e.exports=require("os")},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(5).default(i.join(__rootDir,"../bin/ThunderHelper.node"));!function(e){e.getDriveInfo=function(e){return r.getDriveInfo(e)},e.getFreePartitionSpace=function(e){return r.getFreePartitionSpace(e)},e.getLogicalDriveStrings=function(){return r.getLogicalDriveStrings()},e.getPartitionSpace=function(e){return r.getPartitionSpace(e)},e.getSystemTempPath=function(){return r.getSystemTempPath()},e.getTaskTypeFromUrl=function(e){return r.getTaskTypeFromUrl(e)},e.extractIcon=function(e,t){return r.extractIcon(e,t)},e.isWindow7=function(){return 1===r.isWin7()},e.compareStr=function(e,t){return r.compareStr(e,t)},e.getTickCount=function(){return r.getTickCount()}}(t.ThunderHelper||(t.ThunderHelper={}))},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.information=function(...e){},t.error=function(...e){},t.warning=function(...e){},t.critical=function(...e){},t.verbose=function(...e){},"development"===process.env.LOGGER_ENV&&(t.information=function(...e){console.log("information",e)},t.error=function(...e){console.log("error",e)},t.warning=function(...e){console.log("warning",e)},t.critical=function(...e){console.log("critical",e)},t.verbose=function(...e){console.log("verbose",e)})},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.msgIPCCommunicatorForward="ipc_communicator_forward",e.msgIPCSendToMain="ipc_send_to_main",e.msgIPCSendToRenderer="ipc_send_to_renderer",e.msgIPCRendererConnect="ipc_renderer_connect",e.msgIPCRendererDisconnect="ipc_renderer_disconnect",e.msgNCCallNativeFunction="nc_call_native_function",e.msgNCCheckNativeFunction="nc_check_native_function",e.msgNCCallJsFunctionById="nc_call_js_function_by_id",e.msgNCCallJsFunctionByName="nc_call_js_function_by_name",e.msgNCNativeFireEvent="nc_native_fire_event",e.msgNCNativeCallReady="nc_native_call_ready"}(t.CommonIPCMessage||(t.CommonIPCMessage={}))},196:function(e,t,n){"use strict";n.r(t);var i=n(197),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},197:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(621),a=n(68);let s=class extends r.Vue{constructor(){super(...arguments),this.hasDefault=!1}get extsAsArray(){let e=[];for(let t of this.exts)"default"===t&&(this.hasDefault=!0),e.push(t);return e}handleItemClick(e){let t=[...this.excludes],n=this.excludes.indexOf(e);do{if(-1===n)if("all"===e)t=[],this.hasDefault&&t.push("default"),t.push(e),t.push(...this.exts);else{if("default"===e)break;if(t.push(e),-1===this.excludes.indexOf("all")&&t.push("all"),this.hasDefault){-1===this.excludes.indexOf("default")&&t.push("default")}}else if("all"===e)t=[],this.hasDefault&&t.push("default");else if("default"===e){(t=[]).push("all");for(let e of this.exts)a.URLHelperNS.isSuffixNeedDownload(e)||t.push(e)}else if(t.splice(n,1),this.hasDefault){-1===this.excludes.indexOf("default")&&t.push("default")}this.$emit("change",t,e)}while(0)}};i([r.Prop({})],s.prototype,"exts",void 0),i([r.Prop({})],s.prototype,"excludes",void 0),s=i([r.Component({components:{ExtFilterItem:o.default}})],s),t.default=s},198:function(e,t,n){"use strict";n.r(t);var i=n(199),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},199:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);let o=class extends r.Vue{get label(){let e=this.type;return"all"===this.type?e="全选":"default"===this.type?e="默认":"undefined"!==this.type&&""!==this.type||(e="未知"),e}get disabled(){let e=!1;return void 0!==this.value&&(e=this.value.indexOf(this.type)>-1),e}handleClick(){this.$emit("item-click",this.type)}};i([r.Prop({})],o.prototype,"value",void 0),i([r.Prop({})],o.prototype,"type",void 0),o=i([r.Component({})],o),t.default=o},2:function(e,t){e.exports=require("path")},20:function(e,t){e.exports=require("fs")},203:function(e,t,n){"use strict";n.r(t);var i=n(90),r=n(63);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\views\\path-selector.vue",t.default=s.exports},204:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),o=n(21),a=n(1).default.getLogger("path-selector"),s="PathAndCategory",l="historyDownloadPaths",c=8;!function(e){function t(){return new Promise(e=>{r.NativeCallModule.nativeCall.CallNativeFunction("GetConfigValue",s,l,[],(t,n)=>{t===o.NativeFunctionErrorCode.Success?(a.information("getHistoryPaths",n),e(n)):e([])})})}e.getMaxHistoryPathsLen=function(){return c},e.getHistoryPaths=t,e.addHistoryPaths=function(e){return i(this,void 0,void 0,function*(){let n=yield t();do{if(void 0===e||null===e||""===e)break;if("\\"===e[e.length-1]&&(e=e.slice(0,e.length-1)),n.includes(e))break;n.length>=c&&n.splice(0,1),n.push(e),a.information("SetConfigValue",n),r.NativeCallModule.nativeCall.CallNativeFunction("SetConfigValue",s,l,n,e=>{0!==e?a.information("写配置出错"):(a.information("setvalue success"),r.NativeCallModule.nativeCall.CallNativeFunction("SaveConfig",e=>{0!==e?a.information("配置文件保存失败"):a.information("配置文件保存 success")}))})}while(0)})}}(t.HistoryPathsNS||(t.HistoryPathsNS={}))},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.PAGE=1]="PAGE",e[e.FRAME=2]="FRAME",e[e.LINK=4]="LINK",e[e.MEDIA=8]="MEDIA",e[e.SELECTION=16]="SELECTION",e[e.EDITABLE=32]="EDITABLE"}(t.MenuNodeType||(t.MenuNodeType={})),function(e){e[e.NONE=0]="NONE",e[e.UNDO=1]="UNDO",e[e.REDO=2]="REDO",e[e.CUT=4]="CUT",e[e.COPY=8]="COPY",e[e.PASTE=16]="PASTE",e[e.DELETE=32]="DELETE",e[e.SELECT_ALL=64]="SELECT_ALL",e[e.TRANSLATE=128]="TRANSLATE"}(t.MenuEditableState||(t.MenuEditableState={})),function(e){e[e.NONE=0]="NONE",e[e.IMAGE=1]="IMAGE",e[e.VIDEO=2]="VIDEO",e[e.AUDIO=3]="AUDIO",e[e.FILE=4]="FILE",e[e.PLUGIN=5]="PLUGIN"}(t.MenuMediaType||(t.MenuMediaType={})),function(e){e[e.HWND_NOTOPMOST=-2]="HWND_NOTOPMOST",e[e.HWND_TOPMOST=-1]="HWND_TOPMOST",e[e.HWND_TOP=0]="HWND_TOP",e[e.HWND_BOTTOM=1]="HWND_BOTTOM"}(t.OptionOfhwndInAfter||(t.OptionOfhwndInAfter={})),function(e){e[e.SWP_ASYNCWINDOWPOS=16384]="SWP_ASYNCWINDOWPOS",e[e.SWP_DEFERERASE=8192]="SWP_DEFERERASE",e[e.SWP_DRAWFRAME=32]="SWP_DRAWFRAME",e[e.SWP_FRAMECHANGED=32]="SWP_FRAMECHANGED",e[e.SWP_HIDEWINDOW=128]="SWP_HIDEWINDOW",e[e.SWP_NOACTIVATE=16]="SWP_NOACTIVATE",e[e.SWP_NOCOPYBITS=256]="SWP_NOCOPYBITS",e[e.SWP_NOMOVE=2]="SWP_NOMOVE",e[e.SWP_NOOWNERZORDER=512]="SWP_NOOWNERZORDER",e[e.SWP_NOREDRAW=8]="SWP_NOREDRAW",e[e.SWP_NOREPOSITION=512]="SWP_NOREPOSITION",e[e.SWP_NOSENDCHANGING=1024]="SWP_NOSENDCHANGING",e[e.SWP_NOSIZE=1]="SWP_NOSIZE",e[e.SWP_NOZORDER=4]="SWP_NOZORDER",e[e.SWP_SHOWWINDOW=64]="SWP_SHOWWINDOW"}(t.Uflags||(t.Uflags={})),function(e){e[e.WS_BORDER=8388608]="WS_BORDER",e[e.WS_CAPTION=12582912]="WS_CAPTION",e[e.WS_CHILD=1073741824]="WS_CHILD",e[e.WS_CHILDWINDOW=1073741824]="WS_CHILDWINDOW",e[e.WS_CLIPCHILDREN=33554432]="WS_CLIPCHILDREN",e[e.WS_CLIPSIBLINGS=67108864]="WS_CLIPSIBLINGS"}(t.WindowStyle||(t.WindowStyle={})),function(e){e[e.WS_EX_TOOLWINDOW=128]="WS_EX_TOOLWINDOW"}(t.ExtendedWindowStyles||(t.ExtendedWindowStyles={})),function(e){e[e.GWL_EXSTYLE=-20]="GWL_EXSTYLE",e[e.GWL_HINSTANCE=-6]="GWL_HINSTANCE",e[e.GWL_ID=-12]="GWL_ID",e[e.GWL_STYLE=-16]="GWL_STYLE",e[e.GWL_USERDATA=-21]="GWL_USERDATA",e[e.GWL_WNDPROC=-4]="GWL_WNDPROC"}(t.SetWindowType||(t.SetWindowType={})),function(e){e[e.WM_CREATE=1]="WM_CREATE",e[e.WM_DESTROY=2]="WM_DESTROY",e[e.WM_MOVE=3]="WM_MOVE",e[e.WM_SIZE=5]="WM_SIZE",e[e.WM_ACTIVATE=6]="WM_ACTIVATE",e[e.WM_SETFOCUS=7]="WM_SETFOCUS",e[e.WM_KILLFOCUS=8]="WM_KILLFOCUS",e[e.WM_ENABLE=10]="WM_ENABLE",e[e.WM_DPICHANGED=736]="WM_DPICHANGED"}(t.WindowMessages||(t.WindowMessages={})),function(e){e[e.SW_HIDE=0]="SW_HIDE",e[e.SW_SHOWMAXIMIZED=3]="SW_SHOWMAXIMIZED",e[e.SW_SHOW=5]="SW_SHOW"}(t.showCmd||(t.showCmd={})),function(e){e[e.Success=0]="Success",e[e.FunctionUnExist=1]="FunctionUnExist",e[e.ParamError=2]="ParamError",e[e.CallFailed=3]="CallFailed"}(t.NativeFunctionErrorCode||(t.NativeFunctionErrorCode={}))},211:function(e,t,n){e.exports=n(12)(129)},212:function(e,t,n){e.exports=n(12)(66)},226:function(e,t,n){"use strict";var i=n(1145);n.n(i).a},239:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xlx-dialog__down-tasks"},[n("div",{staticClass:"xlx-dialog__down-tasks-list"},e._l(e.extsAsArray,function(t){return n("ext-filter-item",{key:t,attrs:{type:t,value:e.excludes},on:{"item-click":e.handleItemClick}})})),e._v(" "),e._t("default")],2)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(7),o=n(18),a=n(19);!function(e){e.mainProcessContext="main-process",e.mainRendererContext="main-renderer",e.mainPageWebviewRendererContext="main-page-webview-renderer",e.newTaskRendererContext="new-task-renderer",e.preNewTaskRendererContext="pre-new-task-renderer",e.loginRendererContext="login-renderer";class t{constructor(){this.isConnected=!1,this.isOnIPCEvent=!1,this.rendererInfos=[],this.listeners=new Map,t.intervalIPCModuleMsgs=[a.CommonIPCMessage.msgIPCRendererConnect,a.CommonIPCMessage.msgIPCRendererDisconnect]}onMessage(e,t){do{if(!r.isString(e)||0===e.length){o.error("msgName is null");break}if(r.isNullOrUndefined(t)){o.error("listener is null");break}this.listeners.has(e)?this.listeners.get(e).push(t):this.listeners.set(e,[t])}while(0)}getCommunicatorInfo(){return this.currInfo}getAllRenderer(){return this.rendererInfos}getCommunicatorInfoById(e){for(let t of this.rendererInfos)if(t.id===e)return t;return null}getCommunicatorInfoByContext(e){for(let t of this.rendererInfos)if(t.context===e)return t;return null}startListenIPCMessage(e){this.isOnIPCEvent||(this.isOnIPCEvent=!0,e&&this.ListenSendToMainMsg(),this.ListenSendToRendererMsg(e))}ListenSendToMainMsg(){i.ipcMain.on(a.CommonIPCMessage.msgIPCSendToMain,(e,t)=>{let n=void 0;do{if(r.isNullOrUndefined(t)){o.error("msgInfo is empty");break}if(!this.isConnected){o.warning("hasnot been connected yet");break}let i=t.msg.name;if(this.isIPCModuleIntervalMsg(i)){o.information(`IPC module interval msg : ${i}`);let r=this.handleIPCModuleIntervalMsg(e.sender,t);if(n=r[1],!r[0])break;o.information("need to dispatch msg:"+i)}r.isNullOrUndefined(n)?n=this.NotifyListener(t):this.NotifyListener(t)}while(0);r.isNullOrUndefined(n)||(e.returnValue=n)})}ListenSendToRendererMsg(e){(e?i.ipcMain:i.ipcRenderer).on(a.CommonIPCMessage.msgIPCSendToRenderer,(t,n)=>{let i=void 0;do{if(r.isNullOrUndefined(n)){o.error("msgInfo is empty");break}if(!this.isConnected){o.warning("hasnot been connected yet");break}let a=n.msg.name;if(this.isIPCModuleIntervalMsg(a)){o.information(`IPC module interval msg : ${a}`);let e=this.handleIPCModuleIntervalMsg(t.sender,n);if(i=e[1],!e[0])break;o.information("need to dispatch msg:"+a)}e?(o.information("is main, handle forward msg"),this.handleForwardRendererToRendererMsg(n)):(o.information("is renderer, handle business msg"),r.isNullOrUndefined(i)?i=this.NotifyListener(n):this.NotifyListener(n))}while(0);r.isNullOrUndefined(i)||(t.returnValue=i)})}isIPCModuleIntervalMsg(e){for(let n of t.intervalIPCModuleMsgs)if(e===n)return!0;return!1}handleIPCModuleIntervalMsg(e,t){let n=[!1,void 0];do{let i=t.msg.name;if(i===a.CommonIPCMessage.msgIPCRendererConnect){n=[!0,this.handleRendererConnectMsg(e,t)];break}if(i===a.CommonIPCMessage.msgIPCRendererDisconnect){n=[!0,this.handleRendererDisconnectMsg(e,t)];break}}while(0);return n}handleRendererConnectMsg(e,t){o.verbose(e),o.verbose(t)}handleRendererDisconnectMsg(e,t){o.verbose(e),o.verbose(t)}handleForwardRendererToRendererMsg(e){this.sendForwardRendererToRendererMsg(e)}sendForwardRendererToRendererMsg(e){o.verbose(e)}NotifyListener(e){let t=void 0,n=e.msg.name;if(this.listeners.has(n)){let i=this.listeners.get(n),r=!0;for(let n of i)r?(r=!1,t=n(e)):n(e)}return t}}e.Communicator=t}(t.CommonIPCBase||(t.CommonIPCBase={}))},242:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"xlx-button-tasks",class:{"is-disabled":e.disabled},attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._v("\n  "+e._s(e.label)+"\n")])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},249:function(e,t,n){"use strict";n.r(t);var i=n(147),r=n(97);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\views\\down-mode.vue",t.default=s.exports},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(7),o=n(18),a=n(19),s=n(24);!function(e){class t extends s.CommonIPCBase.Communicator{constructor(){super()}initialize(e){this.currInfo={id:void 0,context:e,isMainCommunicator:!1}}connect(){this.isConnected?o.warning("has been connected"):(this.sendConnectMsgToMain(),this.isConnected=!0,this.startListenIPCMessage(!1))}disconnect(){this.isConnected?(this.isConnected=!1,this.sendDisconnectMsgToMain()):o.warning("hasnot been connected yet")}sendMessageToMain(e){this.sendIPCMsgToMain(e)}sendMessageToMainSync(e){return this.sendIPCMsgToMain(e,!0)}sendMessageToRenderer(e,t){this.sendIPCMsgToRenderer(e,t)}handleRendererConnectMsg(e,t){do{if(r.isNullOrUndefined(t)){o.error("msgInfo is null");break}let e=t.msg.args[0];if(r.isNullOrUndefined(e)){o.error("connectRendererInfo is null");break}o.information(`Renderer: new renderer will connect, id = ${e.id}, context = ${e.context}`),this.rendererInfos.push(e)}while(0)}handleRendererDisconnectMsg(e,t){do{if(r.isNullOrUndefined(t)){o.error("msgInfo is null");break}let e=t.msg.args[0];if(r.isNullOrUndefined(e)){o.error("disconnectRendererInfo is null");break}o.information(`renderer will disconnect, id = ${e.id}, context = ${e.context}`);for(let t=0;t<this.rendererInfos.length;++t)if(this.rendererInfos[t]===e){this.rendererInfos.splice(t,1);break}}while(0)}sendConnectMsgToMain(){let e=this.sendMessageToMainSync({name:a.CommonIPCMessage.msgIPCRendererConnect,args:[]});this.currInfo.id=e[0],this.rendererInfos=e[1]}sendDisconnectMsgToMain(){this.sendMessageToMain({name:a.CommonIPCMessage.msgIPCRendererDisconnect,args:[]})}sendIPCMsgToMain(e,t=!1){let n=void 0;do{if(r.isNullOrUndefined(e)){o.error("msg is null");break}n=(t?i.ipcRenderer.sendSync:i.ipcRenderer.send)(a.CommonIPCMessage.msgIPCSendToMain,{msg:e,senderInfo:this.currInfo})}while(0);return n}sendIPCMsgToRenderer(e,t){do{if(r.isNullOrUndefined(e)){o.error("rendererId is null");break}if(r.isNullOrUndefined(t)){o.error("msg is null");break}let n=[e].concat(t.args);t.args=n,i.ipcRenderer.send(a.CommonIPCMessage.msgIPCSendToRenderer,{msg:t,senderInfo:this.currInfo})}while(0)}}e.RendererCommunicator=t,e.rendererCommunicator=new t}(t.CommonIPCRenderer||(t.CommonIPCRenderer={}))},26:function(e,t){e.exports=require("crypto")},275:function(e,t,n){"use strict";n.r(t);var i=n(148),r=n(99);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\components\\dropdown-native.vue",t.default=s.exports},276:function(e,t,n){"use strict";var i=n(1143);n.n(i).a},29:function(e,t){e.exports=require("url")},3:function(e,t){e.exports=require("electron")},32:function(e,t,n){e.exports=n(12)(14)},33:function(e,t,n){"use strict";n.r(t);var i=n(34),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},34:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4);let s=class extends a.Vue{onOptionsChanged(){this.appendContent()}appendContent(){this.dropdown||(this.dropdown=new o.remote.DropdownWindow),this.dropdown.clear(),this.options.forEach(e=>{"separator"===e?this.dropdown.append(new o.remote.DropdownWindowContent({type:"separator"})):this.dropdown.append(new o.remote.DropdownWindowContent({label:e.toString(),click:()=>{this.$refs.select.menuVisible=!1,this.$emit("input",e,!0)}}))})}handleMenuShow(){return r(this,void 0,void 0,function*(){if(void 0===this.options||!Array.isArray(this.options)||0===this.options.length)return;this.dropdown||this.appendContent();let e=this.$el.getBoundingClientRect();const{DropDownWindowSkinNS:t}=yield Promise.resolve().then(()=>n(96));t.setStyle(this.dropdown,{windowPreference:{marginLeft:0,marginRight:0,stringWidth:Math.round(e.width)-39}}),this.dropdown.popup({window:o.remote.getCurrentWindow(),x:Math.round(e.left),y:Math.round(e.top+e.height+4)})})}};i([a.Prop()],s.prototype,"value",void 0),i([a.Prop({default:()=>[]})],s.prototype,"options",void 0),i([a.Watch("options")],s.prototype,"onOptionsChanged",null),s=i([a.Component],s),t.default=s},35:function(e,t){e.exports=require("events")},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e[e.Default=0]="Default",e[e.Color=1]="Color",e[e.Wallpaper=2]="Wallpaper",e[e.Custom=3]="Custom"}(t=e.SkinType||(e.SkinType={})),e.defaultSkinInfo={type:t.Default,colorID:0}}(t.SkinHelperNS||(t.SkinHelperNS={}))},4:function(e,t,n){e.exports=n(12)(127)},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(7),o=n(1),a=n(5).default(i.join(__rootDir,"../bin/ThunderHelper.node"));process.env.TL_ENABLE="0","console"===process.env.TL_OUTPUT?o.default.outputLogger=o.outputLoggerConsole:o.default.outputLogger=function(){function e(e){return function(...t){a.printEtwLog(e,function(...e){return e.map(e=>r.inspect(e)).join(" ").replace(/%/g,"%%")}(...t))}}return{[o.LogLevel.Critical]:e(o.LogLevel.Critical),[o.LogLevel.Error]:e(o.LogLevel.Error),[o.LogLevel.Warning]:e(o.LogLevel.Warning),[o.LogLevel.Information]:e(o.LogLevel.Information),[o.LogLevel.Verbose]:e(o.LogLevel.Verbose)}}()},41:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),o=(n(20),n(2)),a=n(7);let s=null;const l=n(13),c=n(3),d=n(1),u=n(5),f=n(14),h="xdas_profile_stat";let p="",m=void 0,v=null,g=void 0,_=null,y=u.default(o.join(__rootDir,"../bin/ThunderHelper.node")),b=new Set;function C(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){void 0===g&&(null===_&&(_=new Promise(e=>{e(g=function(e){let t="";if(0===e.length&&"renderer"===process.type){let e=o.normalize(decodeURIComponent(window.location.href)),n=e.indexOf(process.resourcesPath);n=n>-1?n+process.resourcesPath.length+1:n;let i=e.length-1,r=e.indexOf("?"),a=e.indexOf("#");i=r>-1?Math.min(r-1,i):i,i=a>-1?Math.min(a-1,i):i,n>-1&&i>=n&&(t=e.substr(n,i-n+1))}return 0===t.length&&(t=0!==e.length?e:process.type),t=t.replace(/\||,|;/g,"_")}(""))})),g=yield _),e(g)}))})}function S(e){let t="";do{if(null===e||void 0===e)break;switch(typeof e){case"string":t=e;break;case"object":t=a.inspect(e)||"";break;case"number":case"boolean":t=e.toString()||""}}while(0);return t}function w(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(e){return i(this,void 0,void 0,function*(){return new Promise(t=>i(this,void 0,void 0,function*(){let i=void 0;null===s&&(s=yield Promise.resolve().then(()=>n(26)));let r=s.createHash("md5");null!==r&&(i=r.update(e).digest("hex")),t(i)}))})}function k(){return new Promise(e=>i(this,void 0,void 0,function*(){let t="";t=void 0===m?"browser"===process.type?function(){if(void 0===m){let e=process.argv.length,t=process.argv;for(let n=0;n<e;n++){let e=t[n];if(e.startsWith("-StartType:")){m=e.substring("-StartType:".length);break}}void 0===m&&(m="")}return m}():yield function(){return i(this,void 0,void 0,function*(){return null===v&&(v=new Promise(e=>{c.ipcRenderer.send(f.ThunderChannelList.channelRMGetBrowserStartType),c.ipcRenderer.once(f.ThunderChannelList.channelMRGetBrowserStartTypeResult,(t,n)=>{m=n,e(n),v=null})})),v})}():m,e(t)}))}function E(e,t,n,r){return i(this,void 0,void 0,function*(){let o=S(t),a=S(n),s=yield T(a),c=function(e){let t=new RegExp(w("file:///"),"g"),n=new RegExp(w(process.resourcesPath+"\\"),"g"),i=new RegExp(w(encodeURI(process.resourcesPath.replace(/\\/g,"/")+"/")),"g");return e.replace(t,"").replace(n,"").replace(i,"")}(S(r)),d=yield T(c),u=`${e}:${s}:${d}`;b.has(u)||(b.add(u),l.XLStatNS.trackEvent(h,"uncaught_exception","",0,0,0,0,`type=${e},business_name=${yield C()},code=${o},message_hash=${s},message=${encodeURI(a)},stack_hash=${d},stack=${encodeURI(c)}`)),function(e,t,n,r){return i(this,void 0,void 0,function*(){})}().catch()})}function N(e){console.error(e);let t=e||{};E("unhandledRejection",t.code,t instanceof Error?t.message:t,t.stack).catch()}!function(e){e.init=function(e){p=e},e.trackColdStartUpEvent=function(e){return i(this,void 0,void 0,function*(){let t=y.iSColdStartUp()?1:0,n=r.release(),i=y.performanceMonitorReporter.getProcessUptime(),o=yield k(),a=`key=${e},start_type=${o},cold_start_up=${t},os_version=${n},cost_time=${i}`;l.XLStatNS.trackEvent(h,"cold_start_up","",0,0,0,0,a)})}}(t.PerformanceMonitorStatNS||(t.PerformanceMonitorStatNS={})),function(){if(process.on("uncaughtException",e=>{console.error(e);let t=e||{};E("uncaughtException",t.code,t.message,t.stack).catch()}),"browser"===process.type)process.on("unhandledRejection",(e,t)=>{N(e)}),c.ipcMain.on(f.ThunderChannelList.channelRMGetBrowserStartType,function(e){return i(this,void 0,void 0,function*(){let t=yield k();e.sender.send(f.ThunderChannelList.channelMRGetBrowserStartTypeResult,t)})});else if("browser"!==process.type){window.addEventListener("unhandledrejection",e=>{N(e&&e.reason||{})});let e=c.remote.getCurrentWebContents();null!==e&&void 0!==e&&e.once("did-finish-load",()=>{(function(){return i(this,void 0,void 0,function*(){do{if("browser"===process.type)break;if(null===window.performance.timing||void 0===window.performance.timing)break;let e=y.iSColdStartUp()?1:0,t=r.release(),n=window.performance.timing,i=n.loadEventEnd-n.navigationStart,o=n.fetchStart-n.navigationStart,a=n.domainLookupEnd-n.domainLookupStart,s=n.connectEnd-n.connectStart,c=n.responseStart-n.requestStart,d=n.responseEnd-n.responseStart,u=n.domComplete-n.domLoading,f=yield k();l.XLStatNS.trackEvent(h,"page_load_time","",0,0,0,0,`start_type=${f},cold_start_up=${e},os_version=${t},load_time=${i},before_fetch_time=${o},domin_lookup_time=${a},connect_time=${s},first_response_time=${c},responseTime=${d},domTime=${u},process=${p}`)}while(0)})})().catch()})}d.default.hook("beforeLog",(e,t,...n)=>{e===d.LogLevel.Critical&&l.XLStatNS.trackEvent(h,"critical_error","",0,0,0,0,`module_name=${t},messages=${n}`)})}()},42:function(e,t,n){e.exports=n(12)(130)},446:function(e,t,n){"use strict";n.r(t);var i=n(447),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(965),r=n(749);t.default=r.connector.connect({mapStateToProps:{downMode:e=>e.BtTask.downMode,productInfo:e=>e.BtTask.productInfo},mapCommitToProps:{UPDATE_TASKINFO:"UPDATE_TASKINFO",UPDATE_PRODUCT_INFO:"UPDATE_PRODUCT_INFO",HANDLE_SAVE_PATH_CHANGE:"HANDLE_SAVE_PATH_CHANGE",HANDLE_DOWN_MODE_CHANGE:"HANDLE_DOWN_MODE_CHANGE"},mapDispatchToProps:{},mapGettersToProps:{}})(i.default)},448:function(e,t,n){"use strict";n.r(t);var i=n(449),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},449:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(3).remote,s=n(1),l=n(4),c=n(966),d=n(967),u=n(14),f=n(56),h=s.default.getLogger("Bt-task-renderer");let p=class extends l.Vue{constructor(){super(...arguments),this.currentView="MagnetParseCtrl",this.magnetTaskId=-1,this.failed=!1,this.type="",this.url=""}handleRetry(){-1!==this.magnetTaskId&&(o.ipcRenderer.send(u.ThunderChannelList.channelRMNewTaskCancleMagnet,this.magnetTaskId),this.magnetTaskId=-1,o.ipcRenderer.send(u.ThunderChannelList.channelRMNewTaskDownloadTorrent,this.url,this.productInfo))}handleClose(){-1!==this.magnetTaskId&&(o.ipcRenderer.send(u.ThunderChannelList.channelRMNewTaskCancleMagnet,this.magnetTaskId),this.magnetTaskId=-1),window.close()}setResizable(){let e=a.getCurrentWindow();e.setMinimumSize(400,582),e.setSize(400,582),e.setResizable(!0),e.center()}handleIpcMessage(e,t,n,i){return r(this,void 0,void 0,function*(){let r=a.getCurrentWindow();t===r.id&&(h.verbose(e),this.type=n.type,"url"===n.type?(this.currentView="MagnetParseCtrl",o.ipcRenderer.on(u.ThunderChannelList.channelMRNewTaskDownloadTorrentResult,(e,t,n,r)=>{if(h.verbose(e),t)if(void 0===n||null===n)this.failed=!0;else{let e=null;try{e=JSON.parse(n)}catch(e){h.warning(e)}null!==e&&(this.UPDATE_TASKINFO({data:e,seedFile:r,productInfo:i}),this.currentView="BtTaskCtrlContainer",this.setResizable())}else this.failed=!0}),o.ipcRenderer.on(u.ThunderChannelList.channelMRNewTaskMagnetTaskCreated,(e,t)=>{h.verbose(e),this.magnetTaskId=t}),this.url=n.url,this.UPDATE_PRODUCT_INFO(i),o.ipcRenderer.send(u.ThunderChannelList.channelRMNewTaskDownloadTorrent,n.url,i),this.$nextTick(()=>{r.show(),r.setAlwaysOnTop(!1)})):"file"===n.type?(this.currentView="MagnetParseCtrl",this.$nextTick(()=>{if(void 0===n.data||null===n.data||""===n.data)this.failed=!0;else{let e=null;try{e=JSON.parse(n.data)}catch(e){h.warning(e)}null!==e?(this.currentView="BtTaskCtrlContainer",this.setResizable(),this.UPDATE_TASKINFO({data:e,seedFile:n.seedFile,productInfo:i})):this.failed=!0}setTimeout(()=>{r.show(),r.setAlwaysOnTop(!1)},0)})):window.close())})}created(){return r(this,void 0,void 0,function*(){o.ipcRenderer.on(u.ThunderChannelList.channelRMNewTaskSetBTInfo,this.handleIpcMessage);let e=yield f.NativeCallAWNS.getConfigValueAW("TaskDefaultSettings","NewTaskStartMode",1);e!==this.downMode&&this.HANDLE_DOWN_MODE_CHANGE(e)})}destroyed(){o.ipcRenderer.removeListener(u.ThunderChannelList.channelRMNewTaskSetBTInfo,this.handleIpcMessage)}};i([l.Prop({})],p.prototype,"downMode",void 0),i([l.Prop({})],p.prototype,"productInfo",void 0),i([l.Prop({})],p.prototype,"UPDATE_TASKINFO",void 0),i([l.Prop({})],p.prototype,"UPDATE_PRODUCT_INFO",void 0),i([l.Prop({})],p.prototype,"HANDLE_SAVE_PATH_CHANGE",void 0),i([l.Prop({})],p.prototype,"UPDATE_TITLE",void 0),i([l.Prop({})],p.prototype,"HANDLE_DOWN_MODE_CHANGE",void 0),p=i([l.Component({components:{MagnetParseCtrl:c.default,BtTaskCtrlContainer:d.default}})],p),t.default=p},450:function(e,t,n){"use strict";n.r(t);var i=n(451),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},451:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(1),a=n(13),s=n(145),l=o.default.getLogger("bt-task-renderer");let c=class extends r.Vue{constructor(){super(...arguments),this.timerId=-1,this.retrySecs=10,this.buttonMsg="重试",this.buttonDisabled=!1,this.removeDraggable=null}get isShowOperate(){let e=!1;return"url"===this.type&&(e=!0),e}get parsingDesc(){let e="";return"url"===this.type?e=this.failed?"种子下载失败":"正在努力获取种子文件...":"file"===this.type&&(e=this.failed?"获取种子信息失败":"正在解析种子文件，请稍后..."),e}created(){if(this.isShowOperate){this.startRetryTimer();let e="source=Thunder,panel=MagnetTaskPromptDlg";a.XLStatNS.trackEvent("core_event","create_task_panel_show","",0,0,0,0,e),l.information("trackEvent","core_event","create_task_panel_show",e)}}mounted(){this.removeDraggable=s.default(".td-dialog__header")}destroyed(){-1!==this.timerId&&(clearTimeout(this.timerId),this.timerId=-1),this.removeDraggable()}startRetryTimer(){this.buttonDisabled=!0,this.buttonMsg="重试 10s",this.timerId=setInterval(()=>{this.retrySecs=this.retrySecs-1,0===this.retrySecs?(this.retrySecs=10,this.buttonDisabled=!1,this.buttonMsg="重试",clearTimeout(this.timerId),this.timerId=-1):this.buttonMsg="重试 "+this.retrySecs+"s"},1e3)}handleRetry(){this.$emit("retry"),this.startRetryTimer()}handleClose(e){this.$emit("close")}};i([r.Prop({})],c.prototype,"type",void 0),i([r.Prop({})],c.prototype,"failed",void 0),c=i([r.Component({components:{}})],c),t.default=c},452:function(e,t,n){"use strict";n.r(t);var i=n(453),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(968),r=n(749);t.default=r.connector.connect({mapStateToProps:{savePath:e=>e.BtTask.savePath,downMode:e=>e.BtTask.downMode,taskInfo:e=>e.BtTask.taskInfo,productInfo:e=>e.BtTask.productInfo,seedFile:e=>e.BtTask.seedFile,displayName:e=>e.BtTask.displayName,selected:e=>e.BtTask.selected},mapCommitToProps:{HANDLE_SAVE_PATH_CHANGE:"HANDLE_SAVE_PATH_CHANGE",HANDLE_RENAME:"HANDLE_RENAME",HANDLE_SELECT_CHANGE:"HANDLE_SELECT_CHANGE",HANDLE_DOWN_MODE_CHANGE:"HANDLE_DOWN_MODE_CHANGE"},mapDispatchToProps:{},mapGettersToProps:{extFilters:e=>e.extFilters}})(i.default)},454:function(e,t,n){"use strict";n.r(t);var i=n(455),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},455:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2),a=n(3),s=n(4),l=n(9),c=n(14),d=n(969),u=n(249),f=n(620),h=n(203),p=n(68),m=n(10),v=n(56),g=n(105),_=n(13),y=n(1),b=n(145),C=y.default.getLogger("bt-task-renderer");let S=class extends s.Vue{constructor(){super(...arguments),this.isShowTips=!1,this.tipsText="",this.isShowPathTips=!1,this.pathTips="",this.editing=!1,this.excludeFilters=[],this.spaceDanger=!1,this.selectSize=0,this.privateSpace=!1,this.appendDirs=[],this.removeDraggable=null}get selectTotalSize(){return m.ThunderUtil.formatSize(this.selectSize)}get selectCount(){let e=0;return e=this.selected.length}get fileName(){let e="";return null!==this.taskInfo&&(e=this.taskInfo.title),e}created(){setTimeout(()=>{let e={};this.selected.forEach(t=>{e[t]=!0});let t=0;for(let n of this.taskInfo.fileLists)e[n.realIndex]&&(t+=n.fileSize);this.selectSize=t,this.excludeFilters.push("all");for(let e of this.extFilters)p.URLHelperNS.isSuffixNeedDownload(e)||this.excludeFilters.push(e);_.XLStatNS.trackEvent("core_event","create_task_panel_show","",0,0,0,0,"source=Thunder,panel=BtTaskDlg"),C.information("trackEvent","core_event","create_task_panel_show","source=Thunder,panel=BtTaskDlg")},500)}mounted(){document.addEventListener("click",this.handleDocClick),document.addEventListener("keydown",this.handleDocHotKey),this.removeDraggable=b.default(".td-dialog__header")}unselectExt(e){do{if(void 0===e)break;let t=this.excludeFilters.indexOf(e);if(-1===t)break;this.excludeFilters.splice(t,1);let n=this.excludeFilters.indexOf("all");if(-1===n)break;this.excludeFilters.splice(n,1);let i=this.excludeFilters.indexOf("default");if(-1===i)break;this.excludeFilters.splice(i,1)}while(0)}handleDownload(e){return r(this,void 0,void 0,function*(){let t=this.savePath;if("私人空间"===this.savePath){let e=yield g.default(!1,!0);if(!e||""===e)return;let n=yield v.NativeCallAWNS.getConfigValueAW("PrivateSpaceDefaultPath",e,"");t=n=o.join(n,e),this.privateSpace=!0}else this.privateSpace=!1;this.HANDLE_DOWN_MODE_CHANGE(e);let n=!0;do{if(0===this.selected.length){n=!1,this.tipsText="请至少选择一个文件",this.isShowTips=!0;break}if(t.length<3){n=!1,this.pathTips="不合法的存储路径",this.isShowPathTips=!0;break}if(!(yield l.FileSystemAWNS.mkdirsAW(t))){n=!1,this.pathTips="不合法的存储路径",this.isShowPathTips=!0;break}let i=JSON.stringify(Object.assign({},this.taskInfo));a.ipcRenderer.send(c.ThunderChannelList.channelRMNewTaskCreateBtTask,t,e,i,this.seedFile,this.displayName,this.selected,this.privateSpace,this.productInfo),n=yield new Promise(e=>{a.ipcRenderer.once(c.ThunderChannelList.channelMRNewTaskCreateBtTaskResult,(t,n)=>{e(n)})})}while(0);n&&this.handleClose()})}handleClose(){window.close()}handleChangePath(e){""!==e&&this.HANDLE_SAVE_PATH_CHANGE(e)}handleSpaceDanger(e){this.spaceDanger=e}handleTableCheck(e){let t=[],n=0;for(let i of e)t.push(i.realIndex),n+=i.fileSize;this.selectSize=n,this.HANDLE_SELECT_CHANGE(t)}handleFilterChange(e,t){this.excludeFilters=e,-1===e.indexOf(t)?this.$refs.table.check(t):this.$refs.table.uncheck(t)}handleRenameClick(){this.editing=!0}handleRenameBlur(e){this.editing=!1;let t=e.target.value.trim();void 0!==t&&""!==t&&t!==this.fileName&&this.HANDLE_RENAME(t)}handleDocClick(){this.editing=!1,this.isShowTips=!1,this.isShowPathTips=!1}handleDocHotKey(e){e.ctrlKey&&13===e.keyCode&&this.handleDownload(this.downMode)}destroyed(){document.removeEventListener("click",this.handleDocClick),document.removeEventListener("keydown",this.handleDocHotKey),this.removeDraggable()}};i([s.Prop({})],S.prototype,"savePath",void 0),i([s.Prop({})],S.prototype,"downMode",void 0),i([s.Prop({})],S.prototype,"taskInfo",void 0),i([s.Prop({})],S.prototype,"productInfo",void 0),i([s.Prop({})],S.prototype,"seedFile",void 0),i([s.Prop({})],S.prototype,"displayName",void 0),i([s.Prop({})],S.prototype,"extFilters",void 0),i([s.Prop({})],S.prototype,"selected",void 0),i([s.Prop({})],S.prototype,"HANDLE_SAVE_PATH_CHANGE",void 0),i([s.Prop({})],S.prototype,"HANDLE_RENAME",void 0),i([s.Prop({})],S.prototype,"HANDLE_SELECT_CHANGE",void 0),i([s.Prop({})],S.prototype,"HANDLE_DOWN_MODE_CHANGE",void 0),S=i([s.Component({components:{BtTable:d.default,DownMode:u.default,PathSelector:h.default,ExtFilters:f.default}})],S),t.default=S},456:function(e,t,n){"use strict";n.r(t);var i=n(457),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},457:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(68),a=n(10),s=n(57);let l=class extends r.Vue{constructor(){super(...arguments),this.columns=[{label:"文件名称",prop:"name",sortable:!0},{label:"类型",prop:"suffix",width:65,sortable:!0},{label:"大小",prop:"size",width:75,sortable:!0}],this.tree=[],this.branchMap={},this.leafMap={},this.checkedKeys=[],this.defaultCheckedKeys=[],this.filesCache=null}get checkedKeysCache(){return this.checkedKeys.reduce((e,t)=>(e[t]=!0,e),{})}onTaskInfoChange(e){setTimeout(()=>{this.parseFileList(e.fileLists)},100),this.filesCache={},e.fileLists.forEach(e=>{this.filesCache[e.realIndex]=e})}formatSize(e){return a.ThunderUtil.formatSize(e)}getTaskIcon(e){return"branch"===e.type?"xlx-icon-type-group":s.TaskUtilHelper.getTaskIcon(e.name)}parseFileList(e){let t={};this.branchMap={},this.leafMap={},this.setBranch("",""),e.forEach(e=>{const{filePath:n}=e;do{if(t[n])break;t[n]=!0;let e="";n.split("\\").forEach(t=>{""!==t&&(this.setBranch(e,t),e=e?`${e}\\${t}`:t)})}while(0);this.setLeaf(n.slice(0,-1),e)}),this.checkDefault(),this.caculateBranchSize(this.branchMap[""]),this.tree=Object.freeze(this.branchMap[""].children)}setBranch(e,t){let n=this.branchMap[e],i=e?`${e}\\${t}`:t,r=this.branchMap[i];return r||(r=this.branchMap[i]={type:"branch",name:t,children:[],fullPath:i,key:i,parent:n},n&&n.children.push(r)),r}setLeaf(e,t){let n=e?`${e}\\${t.fileName}`:t.fileName,i=this.branchMap[e],r=this.leafMap[n];if(!r){let e=this.getSuffix(t.fileName).toLowerCase();r=this.leafMap[n]=Object.assign({},t,{type:"leaf",fullPath:n,name:t.fileName,size:t.fileSize,suffix:e,key:n,parent:i,default:this.isDefault(e)}),i.children.push(r)}return r}updateCheckedKeys(e){this.checkedKeys=e,this.caculateBranchSize({children:this.tree}),this.emitCheck()}isDefault(e){return o.URLHelperNS.isSuffixNeedDownload(e)}getSuffix(e){let t=e.match(/\.([^.]+)$/);return t?t[1]:""}checkDefault(){this.checkedKeys=this.defaultCheckedKeys=Object.keys(this.leafMap).filter(e=>this.leafMap[e].default)}emitCheck(){let e=this.checkedKeys.filter(e=>e in this.leafMap).map(e=>this.filesCache[this.leafMap[e].realIndex]);this.$emit("check",e)}caculateBranchSize(e){return e.size=e.children.reduce((e,t)=>"branch"===t.type?(this.caculateBranchSize(t),e+t.size):e+(this.checkedKeysCache[t.key]?t.size:0),0),e.size}check(e){let t=Object.values(this.leafMap);if("all"===e)this.checkedKeys=this.defaultCheckedKeys=t.map(e=>e.key);else if("default"===e)this.checkDefault();else{let n=[];t.forEach(t=>{t.suffix!==e||this.checkedKeys.includes(t.key)||n.push(t.key)}),this.checkedKeys=this.defaultCheckedKeys=[...this.checkedKeys,...n]}this.caculateBranchSize(this.branchMap[""]),this.emitCheck()}uncheck(e){if("all"===e)this.checkedKeys=this.defaultCheckedKeys=[];else{let t=[];this.checkedKeys.forEach(n=>{this.leafMap[n]&&this.leafMap[n].suffix!==e&&t.push(n)}),this.checkedKeys=this.defaultCheckedKeys=t}this.caculateBranchSize(this.branchMap[""]),this.emitCheck()}};i([r.Prop()],l.prototype,"taskInfo",void 0),i([r.Watch("taskInfo",{immediate:!0})],l.prototype,"onTaskInfoChange",null),l=i([r.Component],l),t.default=l},46:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(9),a=n(6),s=n(2);!function(e){function t(e,t){if(null!==e){e.webContents.isDevToolsOpened()?e.webContents.closeDevTools():e.webContents.openDevTools(t)}}e.openDevTool=t,e.enableDevTools=function(e){return i(this,void 0,void 0,function*(){(yield o.FileSystemAWNS.existsAW(s.resolve(__rootDir,"../../enableDevTools")))&&window.addEventListener("keyup",n=>{"F12"===n.key&&n.ctrlKey&&t(r.remote.getCurrentWindow(),e)},!0)})},e.enableDragOpenFile=function(e){void 0===e&&(e=!1),document.addEventListener("dragover",e=>{e.preventDefault()},!1),document.addEventListener("drop",e=>i(this,void 0,void 0,function*(){e.preventDefault();let t=e.dataTransfer,n=t.files,i=t.items;if(void 0!==i&&null!==i&&i.length>0)for(let e=0;e<i.length;e++){let t=i[e];"string"===t.kind&&"text/uri-list"===t.type?t.getAsString(e=>{a.NativeCallModule.nativeCall.CallNativeFunction("DropOpenUrl",e)}):t.kind}if(void 0!==n&&null!==n&&n.length>0)for(let e=0;e<n.length;e++){let t=n[e].path;void 0!==t&&null!==t&&""!==t&&(yield o.FileSystemAWNS.existsAW(t))&&a.NativeCallModule.nativeCall.CallNativeFunction("DropOpenFile",t)}}),!1)}}(t.ThunderToolsNS||(t.ThunderToolsNS={}))},47:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;return(e._self._c||t)("td-select",e._g(e._b({ref:"select",attrs:{value:e.value,"custom-menu-enabled":""},on:{"menu-show":e.handleMenuShow}},"td-select",e.$attrs,!1),e.$listeners),[e._t("suffix",null,{slot:"suffix"}),e._v(" "),e._t("append",null,{slot:"append"})],2)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return require(e)}},51:function(e,t,n){e.exports=n(12)(65)},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(58),o=n(1),a=n(10),s=n(59),l=o.default.getLogger("MenuSkinNS");!function(e){function t(e,t){if(l.information("setStyle",e,t),null!==e){let n={windowPreference:r.WindowPreferenceNS.getWindowPreference()};l.information("skinOpts",n),e.setStyle(s(n,t))}}e.setStyle=t,e.popEditableDefaultContextMenu=function(e,n,r){let o=i.remote.getCurrentWebContents();o.once("context-menu",(r,s)=>{if(l.verbose(r),s.isEditable){let r=[{label:"撤销",enabled:s.editFlags.canUndo,click:()=>{o.undo()}},{type:"separator"},{label:"剪切",enabled:s.editFlags.canCut,click:()=>{o.cut()}},{label:"复制",enabled:s.editFlags.canCopy,click:()=>{o.copy()}},{label:"粘贴",enabled:s.editFlags.canPaste&&a.ThunderUtil.isClipboardTextFormatAvailable(),click:()=>{o.paste()}},{label:"删除",enabled:s.editFlags.canDelete,click:()=>{o.delete()}},{type:"separator"},{label:"全选",enabled:s.editFlags.canSelectAll,click:()=>{o.selectAll()}}];if(void 0!==e&&"function"==typeof e){let t=e(s);void 0!==t&&t.length>0&&(void 0===n?n=r.length:(n<0&&(n=r.length+1+n)<0&&(n=0),n>r.length&&(n=r.length)),r.splice(n,0,...t))}let l=i.remote.Menu.buildFromTemplate(r);t(l,{}),l.popup({window:i.remote.getCurrentWindow()})}})}}(t.MenuSkinNS||(t.MenuSkinNS={}))},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(15),r=n(6),o=n(38),a=n(1),s=n(10),l=a.default.getLogger("common/skin");function c(e){if(e.type===o.SkinHelperNS.SkinType.Default)document.body.classList.remove("is-theme"),s.ThunderUtil.setCSSProperties(document.body,{"--color-primary-theme":"","--color-primary-control-1":"","--color-primary-control-2":"","--color-primary-control-3":"","--color-primary-control-4":"","--color-primary-gradient-1":"","--color-primary-gradient-2":"","--color-primary-text":"","--color-search":"","--color-secondary":"","--color-gradient-background-1":"","--color-gradient-background-2":"","--color-gradient-foreground-1":"","--color-gradient-foreground-2":"","--color-accordion-1":"","--color-accordion-2":"","--default-opacity-1":"","--default-opacity-2":""});else if(e.type===o.SkinHelperNS.SkinType.Color||e.type===o.SkinHelperNS.SkinType.Wallpaper){document.body.classList.add("is-theme");let{colors:{colorPrimary:t,colorPrimaryControl1:n,colorPrimaryControl2:i,colorPrimaryControl3:r,colorPrimaryControl4:o,colorPrimaryGradient:a,colorPrimaryText:l,colorSearch:c,colorSecondary:d,colorGradientBackground:u,colorGradientForeground:f,colorAccordion:h},opacity:p}=e;s.ThunderUtil.setCSSProperties(document.body,{"--color-primary-theme":`${t}`,"--color-primary-control-1":`${n}`,"--color-primary-control-2":`${i}`,"--color-primary-control-3":`${r}`,"--color-primary-control-4":`${o}`,"--color-primary-gradient-1":`${a[0]}`,"--color-primary-gradient-2":`${a[1]}`,"--color-primary-text":`${l}`,"--color-search":`${c}`,"--color-secondary":`${d}`,"--color-gradient-background-1":`${u[0]}`,"--color-gradient-background-2":`${u[1]}`,"--color-gradient-foreground-1":`${f[0]}`,"--color-gradient-foreground-2":`${f[1]}`,"--color-accordion-1":`${h[0]}`,"--color-accordion-2":`${h[1]}`,"--default-opacity-1":`${p-.1}`,"--default-opacity-2":`${p+.1}`})}}i.default("GetSkinInfo").then(c).catch(e=>{l.warning(e)}),r.NativeCallModule.nativeCall.AttachNativeEvent("OnChangeSkin",c)},56:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),o=n(21),a=n(6);!function(e){e.getDownloadDir=function(){return i(this,void 0,void 0,function*(){return new Promise(e=>{a.NativeCallModule.nativeCall.CallNativeFunction("GetDownloadDir",(t,n)=>{t===o.NativeFunctionErrorCode.Success?e(n):e(r.ThunderUtil.getDefaultDownloadDir())})})})},e.getConfigValueAW=function(e,t,n){return i(this,void 0,void 0,function*(){return new Promise(i=>{a.NativeCallModule.nativeCall.CallNativeFunction("GetConfigValue",e,t,n,(e,t)=>{e===o.NativeFunctionErrorCode.Success?i(t):i(n)})})})},e.isSingleBtTask=function(e){return i(this,void 0,void 0,function*(){return new Promise(t=>{a.NativeCallModule.nativeCall.CallNativeFunction("IsSingleBtTask",e,(e,n)=>{e===o.NativeFunctionErrorCode.Success?t(n):t(!1)})})})}}(t.NativeCallAWNS||(t.NativeCallAWNS={}))},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(8);let o=["apk","avi","chm","doc","exe","flv","ipa","ipsw","iso","mkv","mov","mp4"];o.push(...["mpg","pdf","ppt","rar","rm","rmvb","txt","wmv","xls"]);const a=".xv;.xlmv;.3gp;.3gp2;.3gpp;.3gpp2;.3mm;.3p2;.60d;.787;.aaf;.aep;.aepx;.aet;.aetx;.ajp;.ale;.amv;.amx;.arf;\n  .asf;.ass;.asx;.avb;.avd;.avi;.avp;.avs;.avs;.axm;.bdm;.bdmv;.bik;.bix;.bmk;.bnp;.box;.bs4;.bsf;.byu;.camproj;.camrec;.clpi;.cmmp;\n  .cmmtpl;.cmproj; .cmrec;.cpi;.cst;.cvc;.d2v;.d3v;.dat;.dav;.dce;.dck;.ddat;.dif;.dir;.divx;.dlx; .dmb;.dmsm;.dmsm3d;.dmss;.dnc;.dpg;\n  .dream;.dsy;.dv;.dv-avi;.dv4;.dvdmedia; .dvr-ms;.dvx;.dxr;.dzm;.dzp;.dzt;.edl;.evo;.eye;.f4p;.f4v;.fbr;.fbr;.fbz;.fcp; .flc;.flh;\n  .fli;.flv;.flx;.gfp;.gl;.grasp;.gts;.gvi;.gvp;.hdmov;.hkm;.ifo; .imovieproj;.imovieproject;.iva;.ivf;.ivr;.ivs;.izz;.izzy;.jts;.jtv;\n  .k3g;.lrec; .lsf;.lsx;.m15;.m1pg;.m1v;.m21;.m21;.m2a;.m2p;.m2t;.m2ts;.m2v;.m4e;.m4u;.m4v; .m75;.meta;.mgv;.mj2;.mjp;.mjpg;.mkv;.mmv;\n  .mnv;.mod;.modd;.moff;.moi;.moov;.mov; .movie;.mp21;.mp21;.mp2v;.mp4;.mp4v;.mpe;.mpeg;.mpeg4;.mpf;.mpg;.mpg2;.mpgindex; .mpl;.mpls;\n  .mpsub;.mpv;.mpv2;.mqv;.msdvd;.msh;.mswmm;.mts;.mtv;.mvb;.mvc;.mvd; .mve;.mvp;.mvy;.mxf;.mys;.ncor;.nsv;.nuv;.nvc;.ogm;.ogv;.ogx;.osp;\n  .par;.pds;.pgi; .piv;.pjs;.playlist;.pmf;.pns;.ppj;.prel;.pro;.prproj;.prtl;.psb;.psh;.pssd;.pva;.pvr;.pxv; .qt;.qtch;.qtl;.qtm;.qtz;\n  .r3d;.rcproject;.rdb;.rec;.rm;.rmd;.rmp;.rms;.rmvb;.roq; .rp;.rts;.rts;.rum;.rv;.sbk;.sbt;.scc;.scm;.scn;.screenflow;.sec;.seq;.sfd;\n  .sfvidcap;.smi;.smil;.smk;.sml;.smv;.spl;.srt;.ssa;.ssm;.stl;.str;.stx;.sub;.svi;.swf;.swi; .swt;.tda3mt;.tivo;.tix;.tod;.tp;.tp0;.tpd;\n  .tpr;.trp;.ts;.tts;.tvs;.vc1;.vcpf;.vcr; .vcv;.vdo;.vdr;.veg;.vem;.vf;.vfw;.vfz;.vgz;.vid;.viewlet;.viv;.vivo;.vlab;.vob; .vp3;.vp6;.vp7;\n  .vpj;.vro;.vs4;.vse;.vsp;.w32;.wcp;.webm;.wlmp;.wm;.wmd;.wmmp; .wmv;.wmx;.wp3;.wpl;.wtv;.wvx;.xfl;.xvid;.yuv;.zm1;.zm2;.zm3;.zmv;",s=".exe;.com;.bat;.msi;.apk;.ipa;.iso;.mds;.bin;.img;.ipsw;",l=".txt;.html;.htm;.shtml;.xhtml;.chm;.hlp;.inf;.rtf;.tex;.ltx;.doc;.docx;.wps;.ppt;.pptx;.odf;.pdf;.xls;.xlsx;.docm;.\n  dot;.dotm;.dotx;.email;.rp;.pps;.et;.ett;.xlt;.dbf;.prn;.csv;.mht;.mhtml;.xml;.wpt;.dps;.dpt;.pot;.ppsx;.epub;.mobi;.lit;.wdl;.ceb;.abm;\n  .pdg;.umb;.ibooks;",c=".aiff;.cue;.m3u;.au;.cdda;.raw;.wav;.flac;.tak;.mp3;.aac;.wma;.m4a;.mid;.mka;.mp2;.mpa;.mpc;.ape;.ofr;\n  .ogg;.ra;.wv;.tta;.ac3;.dts;.nsf;.mod;.s3m;.xm;.it;.vst;",d=".psd;.tga;.gif;.jpeg;.jpg;.jp2;.bmp;.ico;.pcx;.png;.pbm;.pgm;.ppm;.pnm;.pgf;.arw;.cr2;.crw;.dcr;.dng;.erf;.kdc;.mef;\n  .mos;.mrw;.nef;.nrw;.orf;.pef;.ptx;.r3d;.raf;.raw;.rw2;.srf;.srw;.x3f;.ras;.tiff;.tif;.wbmp;.ilbm;.lbm;.iff;.ico;",u=".zip;.zipx;.rar;.7z;.isz;.cab;.arj;.ace;.alz;.uue;.tar;.gz; .gzip;.tgz;.tpz;.bzip2;.bz2;.bz;.tbz;.tbz2;.xz;.txz;\n  .lzh;.lha;.zt;.az; .xpi;.jar;.wim;.swm;.rpm;.xar;.deb;.dmg;.hfs;.cpio;.lzma;.lzma86;.split;",f=".torrent;",h=".3gp;.asf;.avi;.divx;.f4v;.flv;.mkv;.mov;.movie;.mp4;.mpeg;.mpeg4;.mpg;.mpg2;.rm;.rmvb;.rp;.swf;.tp;.tp0;.ts;.wmv",p=".exe;.com;.bat;.msi",m=".wav;.flac;.MP3;.AAC;.WMA;.M4A;.MID;.APE;.OGG;.RA;.mod",v=".psd;.tga;.gif;.jpeg;.jpg;.jp2;.bmp;.ico;.pcx;.pdf;.png;.pbm;.pgm;.ppm;.pnm;.pgf;.arw;.cr2;.crw;.dcr;.dng;.erf;.kdc;\n  .mef;.mos;.mrw;.nef;.nrw;.orf;.pef;.ptx;.r3d;.raf;.raw;.rw2;.srf;.srw;.x3f;.ras;.tiff;.tif;.wbmp;.ilbm;.lbm;.iff;.ico",g=".txt;.html;.htm;.shtml;.xhtml;.chm;.hlp;.inf;.rtf;.tex;.ltx;.doc;.docx;.wps;.ppt;.pptx;.odf;.pdf;.xls;.xlsx;.docm;.dot;.dotm;.dotx;.email;.rp;.pps",_=".rar;.tar;.zip;.gzip;.cab;.uue;.arj;.bz2;.lzh;.jar;.ace;.iso;.7-zip;.7z";!function(e){let t;function n(e){let n=t.Unkown,r=i.extname(e);return void 0===r||""===r||r.length<2?n=t.Unkown:h.indexOf(r)>-1?n=t.Video:p.indexOf(r)>-1?n=t.Software:g.indexOf(r)>-1?n=t.Doc:m.indexOf(r)>-1?n=t.Music:v.indexOf(r)>-1?n=t.Pic:_.indexOf(r)>-1&&(n=t.Zip),r.length>1&&".z"===r.slice(0,2)&&/[0-9]+/.test(r.substring(2))&&(n=t.Zip),n}e.getTaskIcon=function(e,t){let n="";do{if(t===r.DownloadKernel.TaskType.Bt){n="xlx-icon-type-bt-file";break}if(t===r.DownloadKernel.TaskType.Group){n="xlx-icon-type-group";break}n="xlx-icon-type-unknown";let h=i.extname(e);if(""===h||h.length<2)break;let p=(h=h.toLowerCase()).substring(1);if(o.indexOf(p)>-1){n="doc"===h?"xlx-icon-type-word":"xlx-icon-type-"+p;break}if(a.indexOf(h)>-1){n="xlx-icon-type-video";break}if(s.indexOf(h)>-1){n="xlx-icon-type-install",[".mds",".bin",".img"].indexOf(h)>-1&&(n="xlx-icon-type-iso");break}if(l.indexOf(h)>-1){if(n="xlx-icon-type-doc",[".htm",".html",".mht"].indexOf(h)>-1){n="xlx-icon-type-link";break}if("docx"===h){n="xlx-icon-type-word";break}if("xlsx"===h){n="xlx-icon-type-xls";break}if("pptx"===h){n="xlx-icon-type-ppt";break}break}if(c.indexOf(h)>-1){n="xlx-icon-type-music";break}if(d.indexOf(h)>-1){n="xlx-icon-type-pic";break}if(u.indexOf(h)>-1){n="xlx-icon-type-rar";break}if(f.indexOf(h)>-1){n="xlx-icon-type-bt-link";break}}while(0);return n},function(e){e[e.Unkown=0]="Unkown",e[e.Video=1]="Video",e[e.Software=2]="Software",e[e.Doc=3]="Doc",e[e.Music=4]="Music",e[e.Pic=5]="Pic",e[e.Zip=6]="Zip",e[e.Bt=7]="Bt"}(t=e.FileExtType||(e.FileExtType={})),e.getTaskFileType=function(e,n){let r=t.Unkown;return void 0===n&&void 0!==e&&(n=i.extname(e)),void 0===n||""===n||n.length<2?r=t.Unkown:a.indexOf(n)>-1?r=t.Video:s.indexOf(n)>-1?r=t.Software:l.indexOf(n)>-1?r=t.Doc:c.indexOf(n)>-1?r=t.Music:d.indexOf(n)>-1?r=t.Pic:u.indexOf(n)>-1?r=t.Zip:f.indexOf(n)>-1&&(r=t.Bt),n.length>1&&".z"===n.slice(0,2)&&/[0-9]+/.test(n.substring(2))&&(r=t.Zip),r},e.getGroupFileType=n,e.getDefaultGroupPrefix=function(e){let i="任务组";do{if(void 0===e||null===e||0===e.length)break;let r=[];for(let e=0;e<7;e++)r[e]=0;for(let t of e){let e=n(t);r[e]=r[e]+1}let o=t.Unkown;for(let e=1;e<r.length;e++)r[e]>r[o]&&(o=e);o===t.Video?i="视频任务组":o===t.Software?i="程序任务组":o===t.Music?i="音乐任务组":o===t.Pic?i="图片任务组":o===t.Doc?i="文档任务组":o===t.Zip&&(i="压缩包任务组")}while(0);return i},e.compareVersion=function(e,t){let n=-2;do{if(null===e||void 0===e||""===e||null===t||void 0===t||""===t)break;let i=0,r=0,o=0,a=0,s=0,l=0,c=0,d=0,u=e.split(/\./);if(null===u||void 0===u||u.length<3)break;if(i=Number(u[0]),r=Number(u[1]),o=Number(u[2]),null!==u[3]&&void 0!==u[3]&&""!==u[3]&&(a=Number(u[3])),null===(u=t.split(/\./))||void 0===u||u.length<3)break;if(s=Number(u[0]),l=Number(u[1]),c=Number(u[2]),null!==u[3]&&void 0!==u[3]&&""!==u[3]&&(d=Number(u[3])),s>i){n=1;break}if(s<i){n=-1;break}if(l>r){n=1;break}if(l<r){n=-1;break}if(c>o){n=1;break}if(c<o){n=-1;break}if(0!==a){if(d>a){n=1;break}if(d<a){n=-1;break}}n=0}while(0);return n}}(t.TaskUtilHelper||(t.TaskUtilHelper={}))},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(86),r=n(69);!function(e){e.getWindowPreference=function(e=!1){let t=r.default(),n={};return t&&t.colors&&"string"==typeof t.colors.colorPrimaryControl1&&(n.hoverBackgroundColor=e?parseInt(i.ColorUtilNS.rgbaStringToHexWith0xBegin(t.colors.colorPrimaryControl1),16):i.ColorUtilNS.rgbaStringToHexWith0xBegin(t.colors.colorPrimaryControl1)),n}}(t.WindowPreferenceNS||(t.WindowPreferenceNS={}))},59:function(e,t,n){(function(e){var n=200,i="__lodash_hash_undefined__",r=800,o=16,a=9007199254740991,s="[object Arguments]",l="[object AsyncFunction]",c="[object Function]",d="[object GeneratorFunction]",u="[object Null]",f="[object Object]",h="[object Proxy]",p="[object Undefined]",m=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[c]=g["[object Map]"]=g["[object Number]"]=g[f]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var _="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,b=_||y||Function("return this")(),C="object"==typeof t&&t&&!t.nodeType&&t,S=C&&"object"==typeof e&&e&&!e.nodeType&&e,w=S&&S.exports===C,T=w&&_.process,k=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),E=k&&k.isTypedArray;function N(e,t){return"__proto__"==t?void 0:e[t]}var R,M,P,D=Array.prototype,O=Function.prototype,x=Object.prototype,I=b["__core-js_shared__"],A=O.toString,W=x.hasOwnProperty,F=(R=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"",L=x.toString,j=A.call(Object),U=RegExp("^"+A.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=w?b.Buffer:void 0,H=b.Symbol,z=b.Uint8Array,$=B?B.allocUnsafe:void 0,G=(M=Object.getPrototypeOf,P=Object,function(e){return M(P(e))}),K=Object.create,V=x.propertyIsEnumerable,X=D.splice,Y=H?H.toStringTag:void 0,J=function(){try{var e=Ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Z=B?B.isBuffer:void 0,q=Math.max,Q=Date.now,ee=Ce(b,"Map"),te=Ce(Object,"create"),ne=function(){function e(){}return function(t){if(!Oe(t))return{};if(K)return K(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){var n=Ne(e),i=!n&&Ee(e),r=!n&&!i&&Me(e),o=!n&&!i&&!r&&Ie(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!W.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Se(c,l))||s.push(c);return s}function le(e,t,n){(void 0===n||ke(e[t],n))&&(void 0!==n||t in e)||ue(e,t,n)}function ce(e,t,n){var i=e[t];W.call(e,t)&&ke(i,n)&&(void 0!==n||t in e)||ue(e,t,n)}function de(e,t){for(var n=e.length;n--;)if(ke(e[n][0],t))return n;return-1}function ue(e,t,n){"__proto__"==t&&J?J(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ie.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},ie.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ie.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return n===i?void 0:n}return W.call(t,e)?t[e]:void 0},ie.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:W.call(t,e)},ie.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?i:t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=de(t,e);return!(n<0||(n==t.length-1?t.pop():X.call(t,n,1),--this.size,0))},re.prototype.get=function(e){var t=this.__data__,n=de(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return de(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,i=de(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(ee||re),string:new ie}},oe.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return be(this,e).get(e)},oe.prototype.has=function(e){return be(this,e).has(e)},oe.prototype.set=function(e,t){var n=be(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var i=this.__data__;if(i instanceof re){var r=i.__data__;if(!ee||r.length<n-1)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new oe(r)}return i.set(e,t),this.size=i.size,this};var fe,he=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[fe?a:++i];if(!1===t(r[s],s,r))break}return e};function pe(e){return null==e?void 0===e?p:u:Y&&Y in Object(e)?function(e){var t=W.call(e,Y),n=e[Y];try{e[Y]=void 0;var i=!0}catch(e){}var r=L.call(e);i&&(t?e[Y]=n:delete e[Y]);return r}(e):function(e){return L.call(e)}(e)}function me(e){return xe(e)&&pe(e)==s}function ve(e){return!(!Oe(e)||F&&F in e)&&(Pe(e)?U:m).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ge(e){if(!Oe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var i in e)("constructor"!=i||!t&&W.call(e,i))&&n.push(i);return n}function _e(e,t,n,i,r){e!==t&&he(t,function(o,a){if(Oe(o))r||(r=new ae),function(e,t,n,i,r,o,a){var s=N(e,n),l=N(t,n),c=a.get(l);if(c)return void le(e,n,c);var d=o?o(s,l,n+"",e,t,a):void 0,u=void 0===d;if(u){var h=Ne(l),p=!h&&Me(l),m=!h&&!p&&Ie(l);d=l,h||p||m?Ne(s)?d=s:xe(b=s)&&Re(b)?d=function(e,t){var n=-1,i=e.length;t||(t=Array(i));for(;++n<i;)t[n]=e[n];return t}(s):p?(u=!1,d=function(e,t){if(t)return e.slice();var n=e.length,i=$?$(n):new e.constructor(n);return e.copy(i),i}(l,!0)):m?(u=!1,v=l,g=!0?(_=v.buffer,y=new _.constructor(_.byteLength),new z(y).set(new z(_)),y):v.buffer,d=new v.constructor(g,v.byteOffset,v.length)):d=[]:function(e){if(!xe(e)||pe(e)!=f)return!1;var t=G(e);if(null===t)return!0;var n=W.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==j}(l)||Ee(l)?(d=s,Ee(s)?d=function(e){return function(e,t,n,i){var r=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?ue(n,s,l):ce(n,s,l)}return n}(e,Ae(e))}(s):(!Oe(s)||i&&Pe(s))&&(d=function(e){return"function"!=typeof e.constructor||we(e)?{}:ne(G(e))}(l))):u=!1}var v,g,_,y;var b;u&&(a.set(l,d),r(d,l,i,o,a),a.delete(l));le(e,n,d)}(e,t,a,n,_e,i,r);else{var s=i?i(N(e,a),o,a+"",e,t,r):void 0;void 0===s&&(s=o),le(e,a,s)}},Ae)}function ye(e,t){return Te(function(e,t,n){return t=q(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=q(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Le),e+"")}function be(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Ce(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ve(n)?n:void 0}function Se(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&v.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}var Te=function(e){var t=0,n=0;return function(){var i=Q(),a=o-(i-n);if(n=i,a>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(J?function(e,t){return J(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Le);function ke(e,t){return e===t||e!=e&&t!=t}var Ee=me(function(){return arguments}())?me:function(e){return xe(e)&&W.call(e,"callee")&&!V.call(e,"callee")},Ne=Array.isArray;function Re(e){return null!=e&&De(e.length)&&!Pe(e)}var Me=Z||function(){return!1};function Pe(e){if(!Oe(e))return!1;var t=pe(e);return t==c||t==d||t==l||t==h}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Ie=E?function(e){return function(t){return e(t)}}(E):function(e){return xe(e)&&De(e.length)&&!!g[pe(e)]};function Ae(e){return Re(e)?se(e,!0):ge(e)}var We,Fe=(We=function(e,t,n){_e(e,t,n)},ye(function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(r=We.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(e,t,n){if(!Oe(n))return!1;var i=typeof t;return!!("number"==i?Re(n)&&Se(t,n.length):"string"==i&&t in n)&&ke(n[t],e)}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var a=t[n];a&&We(e,a,n,r)}return e}));function Le(e){return e}e.exports=Fe}).call(this,n(87)(e))},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),r=n(18),o=n(19),a=n(24),s=n(25);!function(e){let t;!function(e){e[e.Unknown=-1]="Unknown",e[e.Success=0]="Success",e[e.FunctionNotExist=1]="FunctionNotExist",e[e.ParamaterError=2]="ParamaterError",e[e.CallFailed=3]="CallFailed"}(t=e.NativeCallErrorCode||(e.NativeCallErrorCode={}));class n{constructor(e,t,n){this.maxId=e,this.minId=t,this.invalidId=n}generateId(){return this.minId===this.maxId?this.invalidId:this.minId++}isInvalidId(e){return e===this.invalidId}}e.IdGenerator=n;const l=0;e.idGenerator=new n(1e7,1,l);class c{constructor(){this.jsCallbacks=new Map,this.eventJsCallbakcs=new Map,this.jsRegisterFunctions=new Map,this.targetCommunitorInfo=s.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfoByContext(a.CommonIPCBase.mainRendererContext),this.bindMsgListeners(),this.notifyNativeCallReady()}CallNativeFunction(t,...n){do{if(i.isNullOrUndefined(t)||0===t.length){r.error("funcName is empty");break}r.information("funcName = ",t),this.printArgs(n);let a=l;for(let t=0;t<n.length;++t)if(i.isFunction(n[t])){let i=e.idGenerator.generateId(),r=n[t];this.jsCallbacks.set(i,r),t===n.length-1?(a=i,n.pop()):n[t]=i}s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCCallNativeFunction,args:[t,a].concat(n)})}while(0)}AttachNativeEvent(t,n){let o=void 0;do{if(i.isNullOrUndefined(t)||0===t.length){r.error("eventName is empty");break}if(i.isNullOrUndefined(n)){r.error("callback is empty");break}let a=e.idGenerator.generateId();if(e.idGenerator.isInvalidId(a)){r.error("id error");break}if(this.eventJsCallbakcs.has(t))this.eventJsCallbakcs.get(t).set(a,n);else{let e=new Map;e.set(a,n),this.eventJsCallbakcs.set(t,e)}o=a}while(0);return o}DetachNativeEvent(e,t){do{if(i.isNullOrUndefined(e)||0===e.length){r.error("eventName is empty");break}if(i.isNullOrUndefined(t)){r.error("callback is empty");break}if(!this.eventJsCallbakcs.has(e)){r.error(`event: ${e} doesnot have listener`);break}if(!this.eventJsCallbakcs.get(e).has(t)){r.error(`event: ${e} doesnot have the listener of id=${t}`);break}this.eventJsCallbakcs.get(e).delete(t)}while(0)}CheckNativeFunction(t,n){do{if(i.isNullOrUndefined(t)||0===t.length){r.error("funcName is empty");break}if(i.isNullOrUndefined(n)){r.error("callback is empty");break}r.information("funcName = ",t);let a=e.idGenerator.generateId();this.jsCallbacks.set(a,n),s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCCheckNativeFunction,args:[t,a]})}while(0)}RegisterJSFunction(e,n){let o=t.ParamaterError;do{if(i.isNullOrUndefined(e)||0===e.length){r.error("funcName is empty");break}if(i.isNullOrUndefined(n)){r.error("jsFunc is empty");break}this.jsRegisterFunctions.set(e,n),o=t.Success}while(0);return o}bindMsgListeners(){s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCCallJsFunctionById,e=>{this.handleCallJsFunctionById(e.msg.args)}),s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCCallJsFunctionByName,e=>{this.handleCallJsFunctionByName(e.msg.args)}),s.CommonIPCRenderer.rendererCommunicator.onMessage(o.CommonIPCMessage.msgNCNativeFireEvent,e=>{this.handleNativeFireEvent(e.msg.args)})}handleCallJsFunctionById(t){do{let n=t[0];if(!i.isNumber(n)){r.error(`id error id = ${n}`);break}if(e.idGenerator.isInvalidId(n)){r.error(`id = ${n} invalid`);break}if(!this.jsCallbacks.has(n)){r.error(`jsCallbacks[${n}] is null`);break}t.splice(0,1),this.jsCallbacks.get(n).apply(null,t)}while(0)}handleCallJsFunctionByName(e){do{let t=e[0];if(!i.isString(t)){r.error(`funcName error funcName = ${t}`);break}if(!this.jsRegisterFunctions.has(t)){r.error(`jsRegisterFunctions[${t}] is null`);break}e.splice(0,1),this.jsRegisterFunctions.get(t).apply(null,e)}while(0)}handleNativeFireEvent(e){do{let t=e[0];if(!i.isString(t)){r.warning(`eventName error eventName = ${t}`);break}if(!this.eventJsCallbakcs.has(t)){r.warning(`eventJsCallbakcs[${t}] is null`);break}e.shift(),this.eventJsCallbakcs.get(t).forEach((t,n,o)=>{r.information(`value = ${t}, key = ${n}, map = ${o}`),i.isNullOrUndefined(t)||t.apply(null,e)})}while(0)}notifyNativeCallReady(){s.CommonIPCRenderer.rendererCommunicator.sendMessageToRenderer(this.targetCommunitorInfo.id,{name:o.CommonIPCMessage.msgNCNativeCallReady,args:[s.CommonIPCRenderer.rendererCommunicator.getCommunicatorInfo()]})}printArgs(e){for(let t in e)r.information(`index ${t} = `,e[t])}}e.NativeCallImpl=c,e.nativeCall=new c}(t.NativeCallModule||(t.NativeCallModule={}))},620:function(e,t,n){"use strict";n.r(t);var i=n(239),r=n(196);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\views\\ext-filters.vue",t.default=s.exports},621:function(e,t,n){"use strict";n.r(t);var i=n(242),r=n(198);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\views\\ext-filter-item.vue",t.default=s.exports},63:function(e,t,n){"use strict";n.r(t);var i=n(64),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},638:function(e,t,n){"use strict";var i=function(){var e=this.$createElement;return(this._self._c||e)(this.currentView,{tag:"component",attrs:{failed:this.failed,type:this.type},on:{retry:this.handleRetry,close:this.handleClose},nativeOn:{dragstart:function(e){e.preventDefault()}}})},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},64:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),a=n(4),s=n(70),l=n(17),c=n(10),d=n(56),u=n(9),f=n(14),h=n(204),p=n(1),m=n(15),v=p.default.getLogger("ThunderNewTask.path-selector");let g=class extends a.Vue{constructor(){super(...arguments),this.timerId=-1,this.freeSpace=0,this.totalSpace=0,this.valid=!0,this.optionsAlias={},this.isDanger=!1,this.isWarn=!1}get options(){return[...Object.values(this.optionsAlias)]}onPathChange(e){return r(this,void 0,void 0,function*(){do{let t=e;if("私人空间"===e){let e=yield m.default("GetUserID");if(null===e||void 0===e||""===e)break;t=yield d.NativeCallAWNS.getConfigValueAW("PrivateSpaceDefaultPath",e,"")}this.totalSpace=l.ThunderHelper.getPartitionSpace(t),this.freeSpace=l.ThunderHelper.getFreePartitionSpace(t)}while(0)})}onDanger(e){this.$emit("danger",e)}onAppendDirsChange(e,t){if(void 0!==t&&null!==t&&t.length>0)for(let e of t)this.optionsAlias.hasOwnProperty(e)&&this.$delete(this.optionsAlias,e);if(void 0!==e&&null!==e&&e.length>0)for(let t of e)"\\"===t[t.length-1]&&(t=t.slice(0,t.length-1)),this.optionsAlias.hasOwnProperty(t)||this.$set(this.optionsAlias,t,t)}created(){setTimeout(()=>{let e=this.value;void 0!==this.defaultDir&&null!==this.defaultDir&&(this.$emit("input",this.defaultDir),e=this.defaultDir);let t=o.remote.app.getPath("desktop"),n=o.remote.app.getPath("documents");this.$set(this.optionsAlias,t,"桌面"),this.$set(this.optionsAlias,n,"我的文档"),h.HistoryPathsNS.getHistoryPaths().then(e=>{if(void 0!==e){let i=e.indexOf(t);-1!==i&&e.splice(i,1);let r=e.indexOf(n);if(-1!==r&&e.splice(r,1),e.length>0)for(let t of e)"\\"===t[t.length-1]&&(t=t.slice(0,t.length-1)),this.optionsAlias.hasOwnProperty(t)||this.$set(this.optionsAlias,t,t)}}),this.onPathChange(e),this.enablePrivateSpace&&(o.ipcRenderer.once(f.ThunderChannelList.channelMRGetPrivateSpaceInfoResult,(e,t,n)=>r(this,void 0,void 0,function*(){v.information("GetPrivateSpaceInfoResult isPrivateSpaceOpen:",t,", currentCategoryId:",n);if(this.options.includes("私人空间")||this.$set(this.optionsAlias,"私人空间","私人空间"),-1!==n)this.$emit("input","私人空间");else{let e=yield d.NativeCallAWNS.getDownloadDir();this.$emit("input",e)}this.$emit("private",t)})),o.ipcRenderer.send(f.ThunderChannelList.channelRMGetPrivateSpaceInfo))},500),this.timerId=setInterval(()=>r(this,void 0,void 0,function*(){if(void 0!==this.value&&null!==this.value){if("私人空间"===this.value)this.valid=!0;else if(this.value.length>=3){let e=this.value.slice(0,3);this.valid=yield u.FileSystemAWNS.existsAW(e)}else this.valid=!1;this.valid&&this.onPathChange(this.value)}}),1e3)}get spaceColor(){let e="";return this.isDanger?e="is-danger":this.isWarn&&(e="is-warn"),e}get freeSpaceFormat(){let e="";do{if("string"!=typeof this.value)break;if(-1===this.freeSpace)break;if(""===this.value){this.isDanger=!1;break}if(this.value.length<3){this.isDanger=!1;break}if(!this.valid){this.isDanger=!1;break}if(this.isDanger=!1,this.isWarn=!1,this.needSpace>=this.freeSpace){this.isDanger=!0,e="磁盘空间不足";break}this.freeSpace/this.totalSpace<=.3&&(this.isWarn=!0),e="剩余:"+c.ThunderUtil.formatSize(this.freeSpace)}while(0);return e}handleInput(e){do{let t=!1;for(let n in this.optionsAlias)if(e===this.optionsAlias[n]){t=!0,this.$emit("input",n,!0);break}if(t)break;this.$emit("input",e,!0)}while(0)}handleContextMenu(){return r(this,void 0,void 0,function*(){const{MenuSkinNS:e}=yield Promise.resolve().then(()=>n(54));e.popEditableDefaultContextMenu()})}handleChangePath(){const e=o.remote.dialog;let t=o.remote.getCurrentWindow(),n=e.showOpenDialog(t,{defaultPath:this.value,properties:["openDirectory"]});void 0!==n&&this.$emit("input",n[0],!0)}mounted(){}destroyed(){-1!==this.timerId&&(clearTimeout(this.timerId),this.timerId=-1)}};i([a.Prop({})],g.prototype,"appendDirs",void 0),i([a.Prop({})],g.prototype,"defaultDir",void 0),i([a.Prop({default:!0})],g.prototype,"enablePrivateSpace",void 0),i([a.Prop({default:""})],g.prototype,"value",void 0),i([a.Prop({default:0})],g.prototype,"needSpace",void 0),i([a.Watch("value",{immediate:!0})],g.prototype,"onPathChange",null),i([a.Watch("isDanger",{immediate:!0})],g.prototype,"onDanger",null),i([a.Watch("appendDirs",{immediate:!0})],g.prototype,"onAppendDirsChange",null),g=i([a.Component({components:{SelectNative:s.default}})],g),t.default=g},673:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{visible:"","footer-enabled":!1},on:{close:e.handleClose}},[n("div",{staticClass:"xlx-resource"},[n("i",{staticClass:"xlx-icon-type xlx-icon-type-bt-file"}),e._v(" "),n("p",{staticClass:"xlx-resource__text",class:{"is-warn":e.failed}},[e._v(e._s(e.parsingDesc))]),e._v(" "),e.isShowOperate?n("div",{staticClass:"xlx-resource__operate"},[n("td-button",{attrs:{secondary:"",size:"small",disabled:e.buttonDisabled},on:{click:e.handleRetry}},[e._v(e._s(e.buttonMsg))])],1):e._e()]),e._v(" "),n("div",{staticClass:"td-loading"},[n("div",{staticClass:"td-loading-bar"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.failed,expression:"failed === false"}],staticClass:"td-loading-bar__inner"})])])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},68:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(8),a=n(17);let s=null;const l=n(1).default.getLogger("url.helper");!function(e){function t(e){let t=!0;if("string"==typeof e)if(40===e.length||32===e.length){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)>127){t=!1;break}}else t=!1;else t=!1;return t}function c(e,n=!0){n=void 0===n||n;let i=!1;do{if("string"!=typeof e||""===e)break;let r=e.trim();if(""===r)break;if(a.ThunderHelper.getTaskTypeFromUrl(r)===o.DownloadKernel.TaskType.Unkown){if(!n)break;t(r)&&(i=!0)}else i=!0;i||r.match(/^file:\/\/\//)&&(i=!0)}while(0);return i}e.isMagnetCode=t,e.fixMagnetUrl=function(e){let n="";do{if("string"!=typeof e||""===e)break;if(""===(n=e.trim()))break;a.ThunderHelper.getTaskTypeFromUrl(n)===o.DownloadKernel.TaskType.Unkown&&t(n)&&(n="magnet:?xt=urn:btih:"+n)}while(0);return n},e.isUrlValid=c,e.isBirdKey=function(e){return e?e.match(/#X([0-9a-zA-Z]{8}){1,2}#/g):null},e.isCustomProtocol=function(e){return i(this,void 0,void 0,function*(){let t=!1;null===s&&(s=yield Promise.resolve().then(()=>n(29)));let i=s.parse(e);do{if(null===i||void 0===i)break;let e=i.protocol;if("magnet:"===e){t=!0;break}if("thunder:"===e){t=!0;break}if("ed2k:"===e){t=!0;break}}while(0);return t})},e.isP2spOrEmuleUrl=function(e){let t=!1;do{if(null===e||void 0===e||""===e)break;let n=e.trim();if(""===n)break;let i=a.ThunderHelper.getTaskTypeFromUrl(n);if(i===o.DownloadKernel.TaskType.P2sp||i===o.DownloadKernel.TaskType.Emule){t=!0;break}}while(0);return t},e.isSupportUrl=function(e){e=e.toLowerCase();let t=!1;do{if("http://"===e.substr(0,"http://".length)){t=!0;break}if("https://"===e.substr(0,"https://".length)){t=!0;break}if("ftp://"===e.substr(0,"ftp://".length)){t=!0;break}if("ed2k://"===e.substr(0,"ed2k://".length)){t=!0;break}if("thunder://"===e.substr(0,"thunder://".length)){t=!0;break}if("magnet:?"===e.substr(0,"magnet:?".length)){t=!0;break}}while(0);return t};let d=".edu;.gov;.mil;.hk;.tw;.com.tw;.com.tw;.aero;.biz;.coop;.info;.museum;.name;.pro;";d+=".com;.cn;.xin;.net;.top;.xyz;.wang;.shop;.site;.club;.cc;.fun;.online;.biz;.red;.link;.ltd;.mobi;.info;.org;",d+=".com.cn;.net.cn;.org.cn;.gov.cn;.name;.vip;.work;.tv;.co;.kim;.group;.tech;.store;.ren;.ink;.pub;.live;.wiki;.design;";const u=(d+=".me").split(";");function f(e){let t=!1;do{if(void 0===e||null===e||""===e)break;if(-1!==u.indexOf(e)){t=!0;break}}while(0);return t}function h(e){let t=null;do{if(void 0===e||null===e)break;if(""===(e=e.trim()))break;let n=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(e);if(null===n)break;l.information("url parse result ",n),t={};let i=["url","scheme","slash","host","port","path","query","hash"];for(let e=0;e<i.length;e++)t[i[e]]=n[e];l.information("url parse",t)}while(0);return t}e.isUsualDomainSuffix=f,e.urlParse=h,e.isUrl=function(e){let t=!1,n=e;do{if(void 0===e||null===e)break;if(c(e,!1)){t=!0;break}if(e.trim().match(/^file:\/\/\//)){t=!0;break}let i=h(e);if(null===i){l.information("url parse failed");break}if(void 0===i.host||null===i.host)break;if(void 0!==i.scheme){t=!0;break}let o=i.host.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);if(o){if(l.information("url parse is ip",o),Number(o[1])<=0||Number(o[1])>255){t=!1;break}if(Number(o[2])<0||Number(o[2])>255){t=!1;break}if(Number(o[4])<0||Number(o[4])>255){t=!1;break}if(Number(o[4])<0||Number(o[4])>255){t=!1;break}t=!0,void 0===i.scheme&&void 0!==i.port&&(n=`http://${e}`);break}if(i.host.match(/\.{2,}/)){l.information("url parse has multi dot"),t=!1;break}let a=r.extname(i.host);if(""===a)break;if(f(a)){t=!0;break}}while(0);return l.information("url parse isUrl",t),{ret:t,suggest:n}},e.isFileNameValid=function(e){let t=!1;do{if(void 0===e)break;if(null===e)break;if(""===(e=e.trim()))break;if("."===e[0])break;if(e.match(/[\/\\"<>\?\*|]/))break;t=!0}while(0);return t},e.isSuffixNeedDownload=function(e){let t=!0;do{if(void 0===e)break;if(""===e||"."===e)break;if(e=e.toLowerCase(),-1!==["txt","url","html","htm","mht","nfo"].indexOf(e)){t=!1;break}}while(0);return t}}(t.URLHelperNS||(t.URLHelperNS={}))},687:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td-dialog",{attrs:{visible:"",fullscreen:"","custom-class":"xlx-dialog xlx-dialog-bt"},on:{close:e.handleClose}},[n("h2",{attrs:{slot:"header"},slot:"header"},[e._v("新建下载任务")]),e._v(" "),n("div",{staticClass:"xlx-resource"},[n("i",{staticClass:"xlx-icon-type xlx-icon-type-bt-file"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.editing,expression:"!editing"}],staticClass:"xlx-resource__name"},[n("p",{staticClass:"xlx-resource__text",on:{click:function(t){t.stopPropagation(),e.editing=!0}}},[e._v(e._s(e.fileName))]),e._v(" "),n("a",{staticClass:"xlx-resource__rename",attrs:{href:"javascript:;",title:"重命名"}},[n("i",{staticClass:"td-icon-rename",on:{click:function(t){return t.stopPropagation(),e.handleRenameClick(t)}}})])]),e._v(" "),n("td-input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],attrs:{value:e.fileName,type:"textarea"},on:{change:e.handleRenameBlur,click:function(e){e.stopPropagation()}}}),e._v(" "),n("span",{staticClass:"xlx-resource__size"},[e._v(e._s(e.selectTotalSize))])],1),e._v(" "),n("td-tooltip",{staticStyle:{display:"block"},attrs:{content:e.tipsText,visible:e.isShowTips,placement:"top"}},[n("ext-filters",{attrs:{exts:e.extFilters,excludes:e.excludeFilters},on:{change:e.handleFilterChange}},[n("div",{staticClass:"xlx-dialog__down-tasks-size"},[n("p",[e._v("已选"),n("span",[e._v(e._s(e.selectCount))]),e._v("个文件，共"),n("span",[e._v(e._s(e.selectTotalSize))])])])])],1),e._v(" "),n("bt-table",{ref:"table",attrs:{taskInfo:e.taskInfo,unselect:e.unselectExt},on:{check:e.handleTableCheck}}),e._v(" "),n("td-tooltip",{staticStyle:{display:"block"},attrs:{content:e.pathTips,visible:e.isShowPathTips,placement:"top"}},[n("path-selector",{attrs:{value:e.savePath,appendDirs:e.appendDirs,needSpace:e.selectSize},on:{input:e.handleChangePath,danger:e.handleSpaceDanger}})],1),e._v(" "),n("down-mode",{attrs:{slot:"footer",disabled:e.spaceDanger,mode:e.downMode},on:{download:e.handleDownload},nativeOn:{click:function(e){e.stopPropagation()}},slot:"footer"})],1)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},69:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(1).default.getLogger("GetSkinInfo");let a;(function(){return i(this,void 0,void 0,function*(){if("renderer"===process.type){o.information("renderer process");const e=yield Promise.resolve().then(()=>n(15)),t=yield Promise.resolve().then(()=>n(6));e.default("GetSkinInfo").then(e=>{a=e,o.information("send OnChangeSkin",e)}).catch(e=>{o.warning(e)}),t.NativeCallModule.nativeCall.AttachNativeEvent("OnChangeSkin",e=>{a=e,o.information("send OnChangeSkin",e)})}else"browser"===process.type&&(o.information("main process"),r.ipcMain.on("OnChangeSkin",(e,t)=>{o.information("OnChangeSkin",t),a=t}))})})().catch(e=>{o.information(e)}),t.default=function(){return a}},693:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xlx-dialog__down xlx-dialog__down--tasks"},[n("div",{staticClass:"xlx-dialog__down-info"},[n("td-table",{attrs:{columns:e.columns,data:e.tree,"default-checked-keys":e.defaultCheckedKeys,checkable:"",hoverable:"","tree-enabled":""},on:{"checked-change":e.updateCheckedKeys},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.prop,r=t.value;t.row;return["name"===i?n("p",{attrs:{title:r}},[e._v(e._s(r))]):"size"===i?[e._v(e._s(e.formatSize(r)))]:[e._v(e._s(r))]]}},{key:"icon",fn:function(t){t.prop,t.value;var i=t.row;return[n("i",{staticClass:"xlx-icon-type",class:e.getTaskIcon(i)})]}}])})],1)])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},7:function(e,t){e.exports=require("util")},70:function(e,t,n){"use strict";n.r(t);var i=n(47),r=n(33);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\common\\components\\select-native.vue",t.default=s.exports},749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(32),r=n(211),o=n(212),a=n(970),s=n(971);i.default.use(r.default);const l=new r.default.Store({modules:{Counter:a.default,BtTask:s.default},strict:!1});t.connector=new o.default(l)},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,i,r,o,a,s,l,c,d,u,f,h,p,m,v,g,_;!function(e){e[e.Unkown=0]="Unkown",e[e.Create=1]="Create",e[e.InvaldParam=2]="InvaldParam",e[e.InvaldLink=3]="InvaldLink",e[e.InvaldConfig=4]="InvaldConfig",e[e.Timeout=5]="Timeout",e[e.VerifyData=6]="VerifyData",e[e.Forbidden=7]="Forbidden",e[e.RangeDispatch=8]="RangeDispatch",e[e.FilePathOverRanging=9]="FilePathOverRanging",e[e.FileCreate=201]="FileCreate",e[e.FileWrite=202]="FileWrite",e[e.FileRead=203]="FileRead",e[e.FileRename=204]="FileRename",e[e.FileFull=205]="FileFull",e[e.BtUploadExist=601]="BtUploadExist",e[e.ForbinddenResource=701]="ForbinddenResource",e[e.ForbinddenAccount=702]="ForbinddenAccount",e[e.ForbinddenArea=703]="ForbinddenArea",e[e.ForbinddenCopyright=704]="ForbinddenCopyright",e[e.ForbinddenReaction=705]="ForbinddenReaction",e[e.ForbinddenPorn=706]="ForbinddenPorn"}(t=e.TaskError||(e.TaskError={})),function(e){e[e.Unkown=-1]="Unkown",e[e.Success=0]="Success",e[e.QueryFailed=1]="QueryFailed",e[e.ServerError=2]="ServerError",e[e.ResourceNotFound=3]="ResourceNotFound",e[e.AuthorizingFailed=4]="AuthorizingFailed",e[e.ForbidByCopyright=5]="ForbidByCopyright",e[e.ForbidByPorNoGraphy=6]="ForbidByPorNoGraphy",e[e.ForbidByReactionary=7]="ForbidByReactionary",e[e.ForbidByOtherFilter=8]="ForbidByOtherFilter"}(n=e.DcdnStatusCode||(e.DcdnStatusCode={})),function(e){e[e.Begin=-1]="Begin",e[e.Unkown=0]="Unkown",e[e.StandBy=1]="StandBy",e[e.PreDownloading=2]="PreDownloading",e[e.StartWaiting=3]="StartWaiting",e[e.StartPending=4]="StartPending",e[e.Started=5]="Started",e[e.StopPending=6]="StopPending",e[e.Stopped=7]="Stopped",e[e.Succeeded=8]="Succeeded",e[e.Failed=9]="Failed",e[e.Seeding=10]="Seeding",e[e.DestroyPending=11]="DestroyPending",e[e.End=12]="End"}(i=e.TaskStatus||(e.TaskStatus={})),function(e){e[e.Begin=-1]="Begin",e[e.StandBy=0]="StandBy",e[e.Stopped=1]="Stopped",e[e.Started=2]="Started",e[e.Complete=3]="Complete",e[e.Forbidden=4]="Forbidden",e[e.Error=5]="Error",e[e.End=6]="End"}(r=e.BtFileStatus||(e.BtFileStatus={})),function(e){e[e.DispatchStrategyNone=0]="DispatchStrategyNone",e[e.DispatchStrategyOrigin=1]="DispatchStrategyOrigin",e[e.DispatchStrategyP2s=2]="DispatchStrategyP2s",e[e.DispatchStrategyP2p=4]="DispatchStrategyP2p",e[e.DispatchStrategyAll=-1]="DispatchStrategyAll"}(o=e.DispatchStrategy||(e.DispatchStrategy={})),function(e){e[e.Unkown=0]="Unkown",e[e.P2sp=1]="P2sp",e[e.Bt=2]="Bt",e[e.Emule=3]="Emule",e[e.Group=4]="Group",e[e.Magnet=5]="Magnet"}(a=e.TaskType||(e.TaskType={})),function(e){e.Unkown="Unkown",e.Downloading="Downloading",e.Completed="Completed",e.Recycle="Recycle"}(s=e.CategroyViewID||(e.CategroyViewID={})),function(e){e[e.Unknow=0]="Unknow",e[e.TaskCreated=1]="TaskCreated",e[e.InsertToCategoryView=2]="InsertToCategoryView",e[e.RemoveFromCategoryView=3]="RemoveFromCategoryView",e[e.StatusChanged=4]="StatusChanged",e[e.DetailChanged=5]="DetailChanged",e[e.ChannelInfoChanged=6]="ChannelInfoChanged",e[e.DcdnStatusChanged=7]="DcdnStatusChanged",e[e.TaskDescriptionChanged=8]="TaskDescriptionChanged",e[e.TaskUserRead=9]="TaskUserRead",e[e.TaskRenamed=10]="TaskRenamed",e[e.TaskMovedEnd=11]="TaskMovedEnd",e[e.BtSubFileDetailChanged=12]="BtSubFileDetailChanged",e[e.BtSubFileForbidden=13]="BtSubFileForbidden",e[e.BtSubFileDcdnStatusChanged=14]="BtSubFileDcdnStatusChanged",e[e.TaskCategoryMovedEnd=15]="TaskCategoryMovedEnd",e[e.GroupTaskSubFileDetailChanged=16]="GroupTaskSubFileDetailChanged",e[e.TaskDestroying=17]="TaskDestroying",e[e.TaskDestroyed=18]="TaskDestroyed"}(l=e.TaskEventType||(e.TaskEventType={})),function(e){e[e.NumberStrart=0]="NumberStrart",e[e.TaskId=1]="TaskId",e[e.VirtualId=2]="VirtualId",e[e.SrcTotal=3]="SrcTotal",e[e.SrcUsing=4]="SrcUsing",e[e.FileSize=5]="FileSize",e[e.ReceivedSize=6]="ReceivedSize",e[e.DownloadSize=7]="DownloadSize",e[e.CreateTime=8]="CreateTime",e[e.CompletionTime=9]="CompletionTime",e[e.DownloadingPeriod=10]="DownloadingPeriod",e[e.Progress=11]="Progress",e[e.RecycleTime=12]="RecycleTime",e[e.FileCreated=13]="FileCreated",e[e.Forbidden=14]="Forbidden",e[e.CategoryId=15]="CategoryId",e[e.UserRead=16]="UserRead",e[e.OpenOnComplete=17]="OpenOnComplete",e[e.GroupTaskId=18]="GroupTaskId",e[e.DownloadSubTask=19]="DownloadSubTask",e[e.NameType=20]="NameType",e[e.OwnerProduct=21]="OwnerProduct",e[e.FileIndex=22]="FileIndex",e[e.NumberEnd=23]="NumberEnd",e[e.BooleanStart=24]="BooleanStart",e[e.Destroyed=25]="Destroyed",e[e.Background=26]="Background",e[e.BooleanEnd=27]="BooleanEnd",e[e.StringStart=28]="StringStart",e[e.TaskName=29]="TaskName",e[e.SavePath=30]="SavePath",e[e.RelativePath=31]="RelativePath",e[e.TaskUrl=32]="TaskUrl",e[e.RefUrl=33]="RefUrl",e[e.Cid=34]="Cid",e[e.Gcid=35]="Gcid",e[e.Cookie=36]="Cookie",e[e.ProductInfo=37]="ProductInfo",e[e.Origin=38]="Origin",e[e.Description=39]="Description",e[e.UserData=40]="UserData",e[e.StringEnd=41]="StringEnd",e[e.ObjectStart=42]="ObjectStart",e[e.ObjectEnd=43]="ObjectEnd",e[e.CategoryViewId=44]="CategoryViewId",e[e.TaskType=45]="TaskType",e[e.ErrorCode=46]="ErrorCode"}(c=e.TaskAttribute||(e.TaskAttribute={})),function(e){e[e.UnKnown=0]="UnKnown",e[e.SrcTotal=1]="SrcTotal",e[e.SrcUsing=2]="SrcUsing",e[e.FileSize=4]="FileSize",e[e.ReceivedSize=8]="ReceivedSize",e[e.DownloadSize=16]="DownloadSize",e[e.CompletionTime=32]="CompletionTime",e[e.DownloadingPeriod=64]="DownloadingPeriod",e[e.Progress=128]="Progress",e[e.RecycleTime=256]="RecycleTime",e[e.FileCreated=512]="FileCreated",e[e.Forbidden=1024]="Forbidden",e[e.UserRead=2048]="UserRead",e[e.OpenOnComplete=4096]="OpenOnComplete",e[e.DownloadSubTask=8192]="DownloadSubTask",e[e.TaskName=16384]="TaskName",e[e.SavePath=32768]="SavePath",e[e.Cid=65536]="Cid",e[e.Gcid=131072]="Gcid",e[e.UserData=262144]="UserData",e[e.CategoryViewId=524288]="CategoryViewId",e[e.ErrorCode=1048576]="ErrorCode",e[e.TaskSpeed=2097152]="TaskSpeed",e[e.ChannelInfo=4194304]="ChannelInfo"}(d=e.TaskDetailChangedFlags||(e.TaskDetailChangedFlags={})),function(e){e[e.UnKnown=0]="UnKnown"}(u=e.BtSubFileDetailChangedFlags||(e.BtSubFileDetailChangedFlags={})),function(e){e[e.UnKnown=0]="UnKnown"}(f=e.GroupTaskSubFileDetailChangedFlags||(e.GroupTaskSubFileDetailChangedFlags={})),function(e){e[e.NumberStrart=0]="NumberStrart",e[e.TaskId=1]="TaskId",e[e.FileStatus=2]="FileStatus",e[e.DownloadSize=3]="DownloadSize",e[e.FileSize=4]="FileSize",e[e.EnableDcdn=5]="EnableDcdn",e[e.ErrorCode=6]="ErrorCode",e[e.DcdnStatus=7]="DcdnStatus",e[e.RealIndex=8]="RealIndex",e[e.FileOffset=9]="FileOffset",e[e.Visible=10]="Visible",e[e.Download=11]="Download",e[e.NumberEnd=12]="NumberEnd",e[e.StringStart=13]="StringStart",e[e.FinalName=14]="FinalName",e[e.RelativePath=15]="RelativePath",e[e.FileName=16]="FileName",e[e.FilePath=17]="FilePath",e[e.Cid=18]="Cid",e[e.Gcid=19]="Gcid",e[e.StringEnd=20]="StringEnd"}(h=e.BtFileAttribute||(e.BtFileAttribute={})),function(e){e[e.P2spUrl=0]="P2spUrl",e[e.BtInfoId=1]="BtInfoId",e[e.EmuleFileHash=2]="EmuleFileHash",e[e.MagnetUrl=3]="MagnetUrl",e[e.GroupTaskName=4]="GroupTaskName"}(p=e.KeyType||(e.KeyType={})),function(e){e[e.NameInclude=1]="NameInclude",e[e.BtDisplayNameInclude=2]="BtDisplayNameInclude"}(m=e.SearchKeyType||(e.SearchKeyType={})),function(e){e[e.All=0]="All",e[e.CommonForeground=1]="CommonForeground",e[e.CommonBackground=2]="CommonBackground",e[e.Temporary=3]="Temporary",e[e.PreDownload=4]="PreDownload",e[e.PrivateForeground=5]="PrivateForeground"}(v=e.KeyFilter||(e.KeyFilter={})),function(e){e[e.Unknown=-1]="Unknown",e[e.LoadTaskBasic=0]="LoadTaskBasic",e[e.Create=1]="Create",e[e.Recycle=2]="Recycle",e[e.Recover=3]="Recover",e[e.ReDownload=4]="ReDownload",e[e.MoveThoughCategory=5]="MoveThoughCategory"}(g=e.TaskInsertReason||(e.TaskInsertReason={})),function(e){e[e.Unknown=-1]="Unknown",e[e.ContextMenu=0]="ContextMenu",e[e.Button=1]="Button",e[e.TaskDetail=2]="TaskDetail",e[e.DownloadMagnet=3]="DownloadMagnet",e[e.ToolbarButton=4]="ToolbarButton",e[e.SelectDownloadLists=5]="SelectDownloadLists",e[e.DeleteTask=6]="DeleteTask"}(_=e.TaskStopReason||(e.TaskStopReason={}))}(t.DownloadKernel||(t.DownloadKernel={}))},80:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),r=n(14);!function(e){e.resizeToFitContent=function(e=0,t=0,n){let r=i.remote.getCurrentWindow();if(e>0&&t>0)r.setSize(e,t);else{let e=document.querySelector(".td-dialog");r.setSize(e.offsetWidth,e.offsetHeight)}n&&"function"==typeof n&&n(),window.requestIdleCallback(()=>{r.show()})},e.autoAdaptScrollIntoView=function(e,t,n){let i=t.scrollTop,r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=r.bottom;void 0!==n&&"number"==typeof n&&n>0&&(a=r.top+n),o.top<r.top?t.scrollTop=i-(r.top-o.top):o.bottom>a&&(t.scrollTop=i+(o.bottom-a))},e.fitWindowPosInParent=function(e,t){e||(e=i.remote.getCurrentWindow()),t||(t=e.getParentWindow()),i.ipcRenderer.sendSync(r.ThunderChannelList.channelRMSetPosition,e.getNativeWindowHandle(),t.getNativeWindowHandle())},e.getWindowsInParentCenterPos=function(e,t,n){n||(n=i.remote.getCurrentWindow());let r=n.getPosition(),o=n.getSize(),a=i.screen.getCursorScreenPoint(),s=i.screen.getDisplayNearestPoint(a),l=s.size.width,c=s.size.height,d=o[0],u=o[1];r[0]+d>l&&(d=l-r[0]),r[1]+u>c&&(u=c-r[1]);let f=r[0]+(d-e)/2,h=r[1]+(u-t)/2;return f<0?f=0:f>l-e&&(f=l-e),h<0?h=0:h>c-t&&(h=c-t),[Math.round(f),Math.round(h)]},e.centerWnd=function(e,t,n){do{if(!e||!t)break;let r=e.getNativeWindowHandle().readUIntLE(0,4);if(!r)break;let o=t.getPosition(),a=t.getSize(),s=e.getSize(),l=i.screen.getCursorScreenPoint(),c=i.screen.getDisplayNearestPoint(l),d=c.scaleFactor,u=c.size.width,f=c.size.height,h=a[0],p=a[1];o[0]+h>u&&(h=u-o[0]),o[1]+p>f&&(p=f-o[1]);let m=o[0]+(h-s[0])/2,v=o[1]+(p-s[1])/2;m<0?m=0:m>u-s[0]&&(m=u-s[0]),v<0?v=0:v>f-s[1]&&(v=f-s[1]),n.setWindowPos(r,0,m*d,v*d,0,0,5)}while(0)},e.bringWindowToTop=function(e){e||(e=i.remote.getCurrentWindow().getNativeWindowHandle().readUIntLE(0,4));i.ipcRenderer.send(r.ThunderChannelList.channelMRBringWindowToTop,e)}}(t.ThunderWindowNS||(t.ThunderWindowNS={}))},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){let t=e.toString(16).toUpperCase();return t.length<2&&(t="0"+t),t}function n(e,n,i,r){return"0x"+t(r)+t(e)+t(n)+t(i)}e.rgbaStringToHexWith0xBegin=function(e){if(void 0!==e){let t=e.split(",");return n(parseInt(t[0]||"0",10),parseInt(t[1]||"0",10),parseInt(t[2]||"0",10),parseInt(t[3]||"255",10))}},e.colorNumberToHex=t,e.rgbaToHexWith0xBegin=n}(t.ColorUtilNS||(t.ColorUtilNS={}))},87:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},89:function(e,t){!function(e){var t,n='<svg><symbol id="td-icon-svg-file" viewBox="0 0 1204 1024"><path d="M180.705882 1024c-102.4 0-180.705882-78.305882-180.705882-180.705882V180.705882c0-102.4 78.305882-180.705882 180.705882-180.705882h240.941177c102.4 0 180.705882 78.305882 180.705882 180.705882h421.647059c102.4 0 180.705882 78.305882 180.705882 180.705883v481.882353c0 102.4-78.305882 180.705882-180.705882 180.705882H180.705882z" fill="#FFC25A" ></path><path d="M301.176471 361.411765h602.352941c66.258824 0 120.470588 54.211765 120.470588 120.470588v361.411765c0 66.258824-54.211765 120.470588-120.470588 120.470588H301.176471c-66.258824 0-120.470588-54.211765-120.470589-120.470588V481.882353c0-66.258824 54.211765-120.470588 120.470589-120.470588z" fill="#FFFFFF" ></path><path d="M180.705882 542.117647h843.294118c102.4 0 180.705882 78.305882 180.705882 180.705882v120.470589c0 102.4-78.305882 180.705882-180.705882 180.705882H180.705882c-102.4 0-180.705882-78.305882-180.705882-180.705882v-120.470589c0-102.4 78.305882-180.705882 180.705882-180.705882z" fill="#FFD68F" ></path></symbol></svg>',i=function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)};if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()};document.addEventListener("DOMContentLoaded",n,!1)}else document.attachEvent&&function(e,t){var n=e.document,i=!1,r=function(){i||(i=!0,t())},o=function(){try{n.documentElement.doScroll("left")}catch(e){return void setTimeout(o,50)}r()};o(),n.onreadystatechange=function(){"complete"==n.readyState&&(n.onreadystatechange=null,r())}}(e,t)}(function(){var e,t;(e=document.createElement("div")).innerHTML=n,n=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",i(t,document.body))})}(window)},9:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(2),a=n(7).promisify,s=n(1).default.getLogger("Thunder.base.fs-utilities");!function(e){function t(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(r.access);try{yield n(e),t=!0}catch(e){s.information(e)}}return t})}function l(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(r.mkdir);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function c(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(r.rmdir);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function d(e){return i(this,void 0,void 0,function*(){let t=!1;if(void 0!==e){const n=a(r.unlink);try{yield n(e),t=!0}catch(e){s.warning(e)}}return t})}function u(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(r.readdir);try{t=yield n(e)}catch(e){s.warning(e)}}return t})}function f(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(r.lstat);try{t=yield n(e)}catch(e){s.warning(e)}}return t})}function h(e,t){return i(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&void 0!==t){let i=o.join(e,t),r=yield f(i);n=null!==r&&r.isDirectory()?yield p(i):yield d(i)}return n})}function p(e){return i(this,void 0,void 0,function*(){let n=!1;if(void 0!==e){if(yield t(e)){n=!0;let t=yield u(e);for(let i=0;i<t.length;i++)n=(yield h(e,t[i]))&&n;(n||0===t.length)&&(n=(yield c(e))&&n)}}return n})}function m(e){return i(this,void 0,void 0,function*(){let n=!1;return s.information("mkdirsAW",e),void 0!==e&&((yield t(e))?n=!0:o.dirname(e)===e?n=!1:(yield m(o.dirname(e)))&&(n=yield l(e))),n})}function v(e,n){return i(this,void 0,void 0,function*(){let i;if(e.toLowerCase()!==n.toLowerCase()&&(yield t(e))){let t=r.createReadStream(e),o=r.createWriteStream(n);i=new Promise(e=>{t.pipe(o).on("finish",()=>{e(!0)})})}else i=new Promise(e=>{e(!1)});return i})}e.readFileAW=function(e){return i(this,void 0,void 0,function*(){let t=null;if(void 0!==e){const n=a(r.readFile);try{t=yield n(e)}catch(e){s.warning(e)}}return t})},e.writeFileAW=function(e,t){return i(this,void 0,void 0,function*(){let n=!1;if(void 0!==e&&null!==t){const i=a(r.writeFile);try{yield i(e,t),n=!0}catch(e){s.warning(e)}}return n})},e.existsAW=t,e.mkdirAW=l,e.rmdirAW=c,e.unlinkAW=d,e.readdirAW=u,e.lstatAW=f,e.rmdirsAW=p,e.mkdirsAW=m,e.renameAW=function(e,t){return i(this,void 0,void 0,function*(){if(void 0!==e&&void 0!==t){const n=a(r.rename);try{yield n(e,t)}catch(e){s.warning(e)}}})},e.copyFileAW=v,e.copyDirsAW=function e(n,r){return i(this,void 0,void 0,function*(){let i=!1,a=yield f(n);if(a.isDirectory()){i=yield m(r);let s=yield u(n);for(let l=0;l<s.length;l++){let c=o.join(n,s[l]),d=o.join(r,s[l]);(i=yield t(c))&&(i=(a=yield f(c)).isDirectory()?yield e(c,d):yield v(c,d))}}return i})},e.mkdtempAW=function(){return i(this,void 0,void 0,function*(){let e=!1;const t=a(r.mkdtemp),i=(yield Promise.resolve().then(()=>n(16))).tmpdir();try{e=yield t(`${i}${o.sep}`)}catch(e){s.warning(e)}return e})}}(t.FileSystemAWNS||(t.FileSystemAWNS={}))},90:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select-native",{attrs:{editable:"",value:e.value,placeholder:"请选择下载目录",options:e.options,appendDirs:e.appendDirs,defaultDir:e.defaultDir,type:"file"},on:{input:e.handleInput,"choose-file":e.handleChangePath},nativeOn:{contextmenu:function(t){return e.handleContextMenu(t)}}},[n("span",{staticClass:"xlx-file-size",class:e.spaceColor,attrs:{slot:"suffix"},slot:"suffix"},[e._v(e._s(e.freeSpaceFormat))])])},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(35),r=n(2),o=n(5);let a=null,s=null,l=null;s=o.default(r.join(__rootDir,"../bin/ThunderHelper.node"));class c extends i.EventEmitter{constructor(){super(...arguments),this.mouse=null}setMouse(e){this.mouse=e}ref(){this.mouse&&this.mouse.ref()}unref(){this.mouse&&this.mouse.unref()}destroy(){this.mouse&&(this.mouse.destroy(),this.mouse=null,l=null)}}t.WinMouseEvent=c,t.mouseDestroy=function(){l&&l.destroy()},t.mouseUse=function(e){if(l)return;a=s.registerWinMouseObj(),l=new c;let t=new a((t,n,i,r)=>{e(!0,t)});l.setMouse(t)},t.mouseMove=function(){let e=null,t=new c;return t.once("newListener",function(){null===a&&(a=s.registerWinMouseObj()),null!==a&&(e=new a(function(e,n,i,r){"move"===e&&t.emit(e,n,i,r)}),t.setMouse(e))}),t}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),r=n(58);!function(e){e.setStyle=function(e,t){if(null!==e){let n={windowPreference:r.WindowPreferenceNS.getWindowPreference()};e.setStyle(i(n,t))}}}(t.DropDownWindowSkinNS||(t.DropDownWindowSkinNS={}))},962:function(e,t,n){n(40),e.exports=n(963)},963:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(25);r.CommonIPCRenderer.rendererCommunicator.initialize("btTaskRendererContext"),r.CommonIPCRenderer.rendererCommunicator.connect();const o=n(41),a=n(3),s=n(32);n(42),n(89);const l=n(51),c=n(964);n(55);const d=n(1).default.getLogger("BtTaskRenderer");o.PerformanceMonitorStatNS.init("bt-task-renderer"),a.remote.getCurrentWindow().on("ready-to-show",()=>i(this,void 0,void 0,function*(){const{ThunderWindowNS:e}=yield Promise.resolve().then(()=>n(80));e.bringWindowToTop();const{ThunderToolsNS:t}=yield Promise.resolve().then(()=>n(46));t.enableDevTools().catch(e=>{d.warning(e)}),t.enableDragOpenFile(),yield Promise.resolve().then(()=>n(69))})),s.default.use(l.default),new s.default({components:{AppContainer:c.default},render:e=>e("app-container")}).$mount("#app")},964:function(e,t,n){"use strict";n.r(t);var i=n(446);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n(0),a=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\bt-task-renderer\\app-container.vue",t.default=a.exports},965:function(e,t,n){"use strict";n.r(t);var i=n(638),r=n(448);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(276),n(226);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\bt-task-renderer\\app.vue",t.default=s.exports},966:function(e,t,n){"use strict";n.r(t);var i=n(673),r=n(450);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\bt-task-renderer\\views\\magnet-parse.vue",t.default=s.exports},967:function(e,t,n){"use strict";n.r(t);var i=n(452);for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);var o=n(0),a=Object(o.a)(i.default,void 0,void 0,!1,null,null,null);a.options.__file="src\\bt-task-renderer\\views\\bt-task-ctrl-container.vue",t.default=a.exports},968:function(e,t,n){"use strict";n.r(t);var i=n(687),r=n(454);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n(116);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\bt-task-renderer\\views\\bt-task-ctrl.vue",t.default=s.exports},969:function(e,t,n){"use strict";n.r(t);var i=n(693),r=n(456);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=n(0),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src\\bt-task-renderer\\views\\bt-table.vue",t.default=s.exports},97:function(e,t,n){"use strict";n.r(t);var i=n(98),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},970:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={decrementMainCounter(e){e.main--},incrementMainCounter(e){e.main++}},r={someAsyncTask({commit:e},t){setTimeout(()=>{e("decrementMainCounter")},t)}};t.default={state:{main:0},mutations:i,actions:r}},971:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),r=n(1),o=n(68);r.default.getLogger("ThunderNewTask").verbose("bt store");const a={savePath:"",downMode:1,seedFile:"",displayName:"",taskInfo:{title:"",infoId:"",trackerUrls:[],fileLists:[]},productInfo:{browser:"",source:"Unknown"},selected:[]},s={UPDATE_TASKINFO(e,t){Object.freeze(t.data.fileLists),e.seedFile=t.seedFile,e.displayName=t.data.title,e.taskInfo=Object.assign({},t.data),e.productInfo=Object.assign({},t.productInfo),e.selected=t.data.fileLists.filter(e=>{let t=i.extname(e.fileName);return""!==t&&(t=t.substring(1).toLowerCase()),o.URLHelperNS.isSuffixNeedDownload(t)}).map(e=>e.realIndex)},UPDATE_PRODUCT_INFO(e,t){e.productInfo=Object.assign({},t)},HANDLE_SAVE_PATH_CHANGE(e,t){e.savePath=t},HANDLE_RENAME(e,t){e.taskInfo.title=t.replace(/[*?/\\:|<>\"]/g,"_")},HANDLE_SELECT_CHANGE(e,t){e.selected=[...t]},HANDLE_DOWN_MODE_CHANGE(e,t){e.downMode=t}},l={extFilters:e=>{let t=new Set;t.add("default"),t.add("all");for(let n of e.taskInfo.fileLists){let e=i.extname(n.fileName);""!==e&&(e=e.substring(1)),t.add(e.toLowerCase())}return t}};t.default={state:a,mutations:s,actions:{},getters:l}},98:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(275);let a=class extends r.Vue{get menu(){let e="立即下载";do{if(this.buttonTipText&&""!==this.buttonTipText){e=this.buttonTipText;break}0===this.mode&&(e="手动下载")}while(0);return e}get menus(){return"立即下载"===this.menu?["手动下载"]:["立即下载"]}handleClick(e){let t=this.mode;"手动下载"===e?t=0:"立即下载"===e&&(t=1),this.$emit("download",t)}};i([r.Prop({})],a.prototype,"mode",void 0),i([r.Prop({})],a.prototype,"disabled",void 0),i([r.Prop({default:""})],a.prototype,"buttonTipText",void 0),a=i([r.Component({components:{DropdownNative:o.default}})],a),t.default=a},99:function(e,t,n){"use strict";n.r(t);var i=n(100),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a}});
//# sourceMappingURL=renderer.js.map