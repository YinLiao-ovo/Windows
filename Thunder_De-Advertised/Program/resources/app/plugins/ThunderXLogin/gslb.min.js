!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.h="3c4d00b2c7b0c69ea089",t.cn="gslb",t(t.s=172)}({172:function(e,t,n){"use strict";function r(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function i(e,t,n,r){var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0,o=e.length,s=e[u],a=u;if(u>=o)return!1;c.jsonp(s,t).then(function(e){e.url=s,e.idx=u,n&&n(e)})["catch"](function(u){a+=1,i(e,t,n,r,a)})}t.__esModule=!0;var u=n(37),o=function(e){return e&&e.__esModule?e:{"default":e}}(u),s=["xunlei.com","sandai.net"],a=window.store,l=window.Xreport||parent.Xreport||!1,c=window.request||parent.request||!1;if(!c)throw new Error("未加载到request");var f={uname:function(e){a.set("uName",e)},fetch:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null,n=this,u=r(s,function(e){return"https://gslb.xcloud."+e+"/xcloud/hostquery"});e.username&&a.set("uName",e.username);var c={userid:e.userid||"",username:e.username||a.get("uName")||"",deviceid:e.deviceid||"",client_ip:""},f=[];if(e.host&&!(e.host.length<1)){for(var d=0;d<e.host.length;d++){0==n.gslbGet(e.host[d],c).length&&f.push(e.host[d]+".xunlei.com")}if(0!=f.length){i(u,{version:e.version||"3",client_version:e.client_version||"1.1.0",host:(0,o["default"])(f),seq:e.seq||"1",channel:e.channel||"c",business_data:(0,o["default"])(c)},function(e){var n=e;if("TIMEOUT"!=e&&e&&e.data&&(n.data=JSON.parse(Base64.decode(e.data)),n.data&&!(n.data.length<1))){for(var i=(new Date).getTime()+1e3*e.header.ttl,u=0;u<n.data.length;u++){var o=n.data[u],s=("gslb_"+o.host.replace(".xunlei.com","")).toUpperCase();if(!o.ips||o.ips.length<1)!!l&&l.push({url:e.url,action:"glsb",errorcode:"empty",retrynum:e.idx,host:o.host});else{var f=r(o.ips,function(e){return e.domain}).join("*"),d=c.userid+"|"+c.username+"|"+f+"|"+i,h=a.get(s),p=h?h+","+d:d;a.set(s,p)}}t&&t(n)}})}}},gslbGet:function(e,t){if(3===arguments.length)return arguments[1];e=("gslb_"+e).toUpperCase();var n=a.get(e),r="";if(!n)return[];n=n.split(",");for(var i=(new Date).getTime(),u=[],o=0;o<n.length;o++)n[o].split("|").slice(-1)[0]>=i&&u.push(n[o]);if(n=u,a.set(e,n.join(",")),n.length<1)return[];var s=t.userid||"",l=t.username||a.get("uName")||"",c=!1;""==l&&""==s&&(r=n[n.length-1],c=!0);for(var f=0;f<n.length&&!c;f++)""!=l&&n[f].indexOf(l)>-1?(r=n[f],c=!0):""!=s&&n[f].indexOf(s)>-1?(r=n[f],c=!0):r="";return r?r.split("|").slice(-2,-1)[0].split("*"):[]},gslbUse:function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=this.gslbGet(e,n);i=r(i,function(e){return"https://"+e.replace(".xunlei.com","")});for(var u=i.length,o=[],s=0;s<t.length;s++){for(var a=!1,l=0;l<u;l++)i[l]==t[s]&&(a=!0);a||o.push(t[s])}return i.concat(o)}};window.gslb=f,t["default"]=f},2:function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},37:function(e,t,n){e.exports={"default":n(74),__esModule:!0}},74:function(e,t,n){var r=n(2),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}}});